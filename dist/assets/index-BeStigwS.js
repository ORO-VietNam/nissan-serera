(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function or(t){const e=Object.create(null);for(const i of t.split(","))e[i]=1;return i=>i in e}const At={},Ge=[],le=()=>{},rl=()=>!1,pn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),lr=t=>t.startsWith("onUpdate:"),Dt=Object.assign,hr=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},sl=Object.prototype.hasOwnProperty,wt=(t,e)=>sl.call(t,e),gt=Array.isArray,Ni=t=>_n(t)==="[object Map]",al=t=>_n(t)==="[object Set]",pt=t=>typeof t=="function",Lt=t=>typeof t=="string",He=t=>typeof t=="symbol",Ft=t=>t!==null&&typeof t=="object",Ya=t=>(Ft(t)||pt(t))&&pt(t.then)&&pt(t.catch),ol=Object.prototype.toString,_n=t=>ol.call(t),ll=t=>_n(t).slice(8,-1),hl=t=>_n(t)==="[object Object]",cr=t=>Lt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Oi=or(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mn=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},cl=/-(\w)/g,te=mn(t=>t.replace(cl,(e,i)=>i?i.toUpperCase():"")),dl=/\B([A-Z])/g,Me=mn(t=>t.replace(dl,"-$1").toLowerCase()),yn=mn(t=>t.charAt(0).toUpperCase()+t.slice(1)),Pn=mn(t=>t?`on${yn(t)}`:""),Ce=(t,e)=>!Object.is(t,e),En=(t,...e)=>{for(let i=0;i<t.length;i++)t[i](...e)},Xa=(t,e,i,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:i})},ul=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Or;const vn=()=>Or||(Or=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dr(t){if(gt(t)){const e={};for(let i=0;i<t.length;i++){const r=t[i],n=Lt(r)?_l(r):dr(r);if(n)for(const s in n)e[s]=n[s]}return e}else if(Lt(t)||Ft(t))return t}const fl=/;(?![^(]*\))/g,gl=/:([^]+)/,pl=/\/\*[^]*?\*\//g;function _l(t){const e={};return t.replace(pl,"").split(fl).forEach(i=>{if(i){const r=i.split(gl);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ur(t){let e="";if(Lt(t))e=t;else if(gt(t))for(let i=0;i<t.length;i++){const r=ur(t[i]);r&&(e+=r+" ")}else if(Ft(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const ml="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yl=or(ml);function Za(t){return!!t||t===""}/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zt;class vl{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Zt,!e&&Zt&&(this.index=(Zt.scopes||(Zt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].pause();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].resume();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].resume()}}run(e){if(this._active){const i=Zt;try{return Zt=this,e()}finally{Zt=i}}}on(){Zt=this}off(){Zt=this.parent}stop(e){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function bl(){return Zt}let xt;const Fn=new WeakSet;class Qa{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Zt&&Zt.active&&Zt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Fn.has(this)&&(Fn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$a(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Lr(this),to(this);const e=xt,i=ne;xt=this,ne=!0;try{return this.fn()}finally{eo(this),xt=e,ne=i,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)pr(e);this.deps=this.depsTail=void 0,Lr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Fn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xn(this)&&this.run()}get dirty(){return Xn(this)}}let Ja=0,Li,Di;function $a(t,e=!1){if(t.flags|=8,e){t.next=Di,Di=t;return}t.next=Li,Li=t}function fr(){Ja++}function gr(){if(--Ja>0)return;if(Di){let e=Di;for(Di=void 0;e;){const i=e.next;e.next=void 0,e.flags&=-9,e=i}}let t;for(;Li;){let e=Li;for(Li=void 0;e;){const i=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=i}}if(t)throw t}function to(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function eo(t){let e,i=t.depsTail,r=i;for(;r;){const n=r.prevDep;r.version===-1?(r===i&&(i=n),pr(r),Sl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=i}function Xn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(io(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function io(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Vi))return;t.globalVersion=Vi;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Xn(t)){t.flags&=-3;return}const i=xt,r=ne;xt=t,ne=!0;try{to(t);const n=t.fn(t._value);(e.version===0||Ce(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{xt=i,ne=r,eo(t),t.flags&=-3}}function pr(t,e=!1){const{dep:i,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),i.subs===t&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let s=i.computed.deps;s;s=s.nextDep)pr(s,!0)}!e&&!--i.sc&&i.map&&i.map.delete(i.key)}function Sl(t){const{prevDep:e,nextDep:i}=t;e&&(e.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=e,t.nextDep=void 0)}let ne=!0;const no=[];function we(){no.push(ne),ne=!1}function xe(){const t=no.pop();ne=t===void 0?!0:t}function Lr(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const i=xt;xt=void 0;try{e()}finally{xt=i}}}let Vi=0;class Cl{constructor(e,i){this.sub=e,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _r{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!xt||!ne||xt===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==xt)i=this.activeLink=new Cl(xt,this),xt.deps?(i.prevDep=xt.depsTail,xt.depsTail.nextDep=i,xt.depsTail=i):xt.deps=xt.depsTail=i,ro(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=xt.depsTail,i.nextDep=void 0,xt.depsTail.nextDep=i,xt.depsTail=i,xt.deps===i&&(xt.deps=r)}return i}trigger(e){this.version++,Vi++,this.notify(e)}notify(e){fr();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{gr()}}}function ro(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)ro(r)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const Zn=new WeakMap,Ee=Symbol(""),Qn=Symbol(""),Hi=Symbol("");function Bt(t,e,i){if(ne&&xt){let r=Zn.get(t);r||Zn.set(t,r=new Map);let n=r.get(i);n||(r.set(i,n=new _r),n.map=r,n.key=i),n.track()}}function pe(t,e,i,r,n,s){const o=Zn.get(t);if(!o){Vi++;return}const a=l=>{l&&l.trigger()};if(fr(),e==="clear")o.forEach(a);else{const l=gt(t),f=l&&cr(i);if(l&&i==="length"){const c=Number(r);o.forEach((p,m)=>{(m==="length"||m===Hi||!He(m)&&m>=c)&&a(p)})}else switch((i!==void 0||o.has(void 0))&&a(o.get(i)),f&&a(o.get(Hi)),e){case"add":l?f&&a(o.get("length")):(a(o.get(Ee)),Ni(t)&&a(o.get(Qn)));break;case"delete":l||(a(o.get(Ee)),Ni(t)&&a(o.get(Qn)));break;case"set":Ni(t)&&a(o.get(Ee));break}}gr()}function ke(t){const e=Ct(t);return e===t?e:(Bt(e,"iterate",Hi),$t(t)?e:e.map(Vt))}function bn(t){return Bt(t=Ct(t),"iterate",Hi),t}const wl={__proto__:null,[Symbol.iterator](){return Mn(this,Symbol.iterator,Vt)},concat(...t){return ke(this).concat(...t.map(e=>gt(e)?ke(e):e))},entries(){return Mn(this,"entries",t=>(t[1]=Vt(t[1]),t))},every(t,e){return de(this,"every",t,e,void 0,arguments)},filter(t,e){return de(this,"filter",t,e,i=>i.map(Vt),arguments)},find(t,e){return de(this,"find",t,e,Vt,arguments)},findIndex(t,e){return de(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return de(this,"findLast",t,e,Vt,arguments)},findLastIndex(t,e){return de(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return de(this,"forEach",t,e,void 0,arguments)},includes(...t){return kn(this,"includes",t)},indexOf(...t){return kn(this,"indexOf",t)},join(t){return ke(this).join(t)},lastIndexOf(...t){return kn(this,"lastIndexOf",t)},map(t,e){return de(this,"map",t,e,void 0,arguments)},pop(){return qe(this,"pop")},push(...t){return qe(this,"push",t)},reduce(t,...e){return Dr(this,"reduce",t,e)},reduceRight(t,...e){return Dr(this,"reduceRight",t,e)},shift(){return qe(this,"shift")},some(t,e){return de(this,"some",t,e,void 0,arguments)},splice(...t){return qe(this,"splice",t)},toReversed(){return ke(this).toReversed()},toSorted(t){return ke(this).toSorted(t)},toSpliced(...t){return ke(this).toSpliced(...t)},unshift(...t){return qe(this,"unshift",t)},values(){return Mn(this,"values",Vt)}};function Mn(t,e,i){const r=bn(t),n=r[e]();return r!==t&&!$t(t)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=i(s.value)),s}),n}const xl=Array.prototype;function de(t,e,i,r,n,s){const o=bn(t),a=o!==t&&!$t(t),l=o[e];if(l!==xl[e]){const p=l.apply(t,s);return a?Vt(p):p}let f=i;o!==t&&(a?f=function(p,m){return i.call(this,Vt(p),m,t)}:i.length>2&&(f=function(p,m){return i.call(this,p,m,t)}));const c=l.call(o,f,r);return a&&n?n(c):c}function Dr(t,e,i,r){const n=bn(t);let s=i;return n!==t&&($t(t)?i.length>3&&(s=function(o,a,l){return i.call(this,o,a,l,t)}):s=function(o,a,l){return i.call(this,o,Vt(a),l,t)}),n[e](s,...r)}function kn(t,e,i){const r=Ct(t);Bt(r,"iterate",Hi);const n=r[e](...i);return(n===-1||n===!1)&&vr(i[0])?(i[0]=Ct(i[0]),r[e](...i)):n}function qe(t,e,i=[]){we(),fr();const r=Ct(t)[e].apply(t,i);return gr(),xe(),r}const Al=or("__proto__,__v_isRef,__isVue"),so=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(He));function Tl(t){He(t)||(t=String(t));const e=Ct(this);return Bt(e,"has",t),e.hasOwnProperty(t)}class ao{constructor(e=!1,i=!1){this._isReadonly=e,this._isShallow=i}get(e,i,r){if(i==="__v_skip")return e.__v_skip;const n=this._isReadonly,s=this._isShallow;if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return s;if(i==="__v_raw")return r===(n?s?Dl:co:s?ho:lo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=gt(e);if(!n){let l;if(o&&(l=wl[i]))return l;if(i==="hasOwnProperty")return Tl}const a=Reflect.get(e,i,Ht(e)?e:r);return(He(i)?so.has(i):Al(i))||(n||Bt(e,"get",i),s)?a:Ht(a)?o&&cr(i)?a:a.value:Ft(a)?n?uo(a):Ki(a):a}}class oo extends ao{constructor(e=!1){super(!1,e)}set(e,i,r,n){let s=e[i];if(!this._isShallow){const l=Fe(s);if(!$t(r)&&!Fe(r)&&(s=Ct(s),r=Ct(r)),!gt(e)&&Ht(s)&&!Ht(r))return l?!1:(s.value=r,!0)}const o=gt(e)&&cr(i)?Number(i)<e.length:wt(e,i),a=Reflect.set(e,i,r,Ht(e)?e:n);return e===Ct(n)&&(o?Ce(r,s)&&pe(e,"set",i,r):pe(e,"add",i,r)),a}deleteProperty(e,i){const r=wt(e,i);e[i];const n=Reflect.deleteProperty(e,i);return n&&r&&pe(e,"delete",i,void 0),n}has(e,i){const r=Reflect.has(e,i);return(!He(i)||!so.has(i))&&Bt(e,"has",i),r}ownKeys(e){return Bt(e,"iterate",gt(e)?"length":Ee),Reflect.ownKeys(e)}}class Rl extends ao{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const Pl=new oo,El=new Rl,Fl=new oo(!0);const Jn=t=>t,Zi=t=>Reflect.getPrototypeOf(t);function Ml(t,e,i){return function(...r){const n=this.__v_raw,s=Ct(n),o=Ni(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,f=n[t](...r),c=i?Jn:e?$n:Vt;return!e&&Bt(s,"iterate",l?Qn:Ee),{next(){const{value:p,done:m}=f.next();return m?{value:p,done:m}:{value:a?[c(p[0]),c(p[1])]:c(p),done:m}},[Symbol.iterator](){return this}}}}function Qi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function kl(t,e){const i={get(n){const s=this.__v_raw,o=Ct(s),a=Ct(n);t||(Ce(n,a)&&Bt(o,"get",n),Bt(o,"get",a));const{has:l}=Zi(o),f=e?Jn:t?$n:Vt;if(l.call(o,n))return f(s.get(n));if(l.call(o,a))return f(s.get(a));s!==o&&s.get(n)},get size(){const n=this.__v_raw;return!t&&Bt(Ct(n),"iterate",Ee),Reflect.get(n,"size",n)},has(n){const s=this.__v_raw,o=Ct(s),a=Ct(n);return t||(Ce(n,a)&&Bt(o,"has",n),Bt(o,"has",a)),n===a?s.has(n):s.has(n)||s.has(a)},forEach(n,s){const o=this,a=o.__v_raw,l=Ct(a),f=e?Jn:t?$n:Vt;return!t&&Bt(l,"iterate",Ee),a.forEach((c,p)=>n.call(s,f(c),f(p),o))}};return Dt(i,t?{add:Qi("add"),set:Qi("set"),delete:Qi("delete"),clear:Qi("clear")}:{add(n){!e&&!$t(n)&&!Fe(n)&&(n=Ct(n));const s=Ct(this);return Zi(s).has.call(s,n)||(s.add(n),pe(s,"add",n,n)),this},set(n,s){!e&&!$t(s)&&!Fe(s)&&(s=Ct(s));const o=Ct(this),{has:a,get:l}=Zi(o);let f=a.call(o,n);f||(n=Ct(n),f=a.call(o,n));const c=l.call(o,n);return o.set(n,s),f?Ce(s,c)&&pe(o,"set",n,s):pe(o,"add",n,s),this},delete(n){const s=Ct(this),{has:o,get:a}=Zi(s);let l=o.call(s,n);l||(n=Ct(n),l=o.call(s,n)),a&&a.call(s,n);const f=s.delete(n);return l&&pe(s,"delete",n,void 0),f},clear(){const n=Ct(this),s=n.size!==0,o=n.clear();return s&&pe(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{i[n]=Ml(n,t,e)}),i}function mr(t,e){const i=kl(t,e);return(r,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(wt(i,n)&&n in r?i:r,n,s)}const Nl={get:mr(!1,!1)},Ol={get:mr(!1,!0)},Ll={get:mr(!0,!1)};const lo=new WeakMap,ho=new WeakMap,co=new WeakMap,Dl=new WeakMap;function Gl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Il(t){return t.__v_skip||!Object.isExtensible(t)?0:Gl(ll(t))}function Ki(t){return Fe(t)?t:yr(t,!1,Pl,Nl,lo)}function Ul(t){return yr(t,!1,Fl,Ol,ho)}function uo(t){return yr(t,!0,El,Ll,co)}function yr(t,e,i,r,n){if(!Ft(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=n.get(t);if(s)return s;const o=Il(t);if(o===0)return t;const a=new Proxy(t,o===2?r:i);return n.set(t,a),a}function Ie(t){return Fe(t)?Ie(t.__v_raw):!!(t&&t.__v_isReactive)}function Fe(t){return!!(t&&t.__v_isReadonly)}function $t(t){return!!(t&&t.__v_isShallow)}function vr(t){return t?!!t.__v_raw:!1}function Ct(t){const e=t&&t.__v_raw;return e?Ct(e):t}function Bl(t){return!wt(t,"__v_skip")&&Object.isExtensible(t)&&Xa(t,"__v_skip",!0),t}const Vt=t=>Ft(t)?Ki(t):t,$n=t=>Ft(t)?uo(t):t;function Ht(t){return t?t.__v_isRef===!0:!1}function St(t){return Vl(t,!1)}function Vl(t,e){return Ht(t)?t:new Hl(t,e)}class Hl{constructor(e,i){this.dep=new _r,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?e:Ct(e),this._value=i?e:Vt(e),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(e){const i=this._rawValue,r=this.__v_isShallow||$t(e)||Fe(e);e=r?e:Ct(e),Ce(e,i)&&(this._rawValue=e,this._value=r?e:Vt(e),this.dep.trigger())}}function It(t){return Ht(t)?t.value:t}const ql={get:(t,e,i)=>e==="__v_raw"?t:It(Reflect.get(t,e,i)),set:(t,e,i,r)=>{const n=t[e];return Ht(n)&&!Ht(i)?(n.value=i,!0):Reflect.set(t,e,i,r)}};function fo(t){return Ie(t)?t:new Proxy(t,ql)}class Wl{constructor(e,i,r){this.fn=e,this.setter=i,this._value=void 0,this.dep=new _r(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Vi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&xt!==this)return $a(this,!0),!0}get value(){const e=this.dep.track();return io(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function jl(t,e,i=!1){let r,n;return pt(t)?r=t:(r=t.get,n=t.set),new Wl(r,n,i)}const Ji={},on=new WeakMap;let Pe;function zl(t,e=!1,i=Pe){if(i){let r=on.get(i);r||on.set(i,r=[]),r.push(t)}}function Kl(t,e,i=At){const{immediate:r,deep:n,once:s,scheduler:o,augmentJob:a,call:l}=i,f=y=>n?y:$t(y)||n===!1||n===0?Se(y,1):Se(y);let c,p,m,u,g=!1,v=!1;if(Ht(t)?(p=()=>t.value,g=$t(t)):Ie(t)?(p=()=>f(t),g=!0):gt(t)?(v=!0,g=t.some(y=>Ie(y)||$t(y)),p=()=>t.map(y=>{if(Ht(y))return y.value;if(Ie(y))return f(y);if(pt(y))return l?l(y,2):y()})):pt(t)?e?p=l?()=>l(t,2):t:p=()=>{if(m){we();try{m()}finally{xe()}}const y=Pe;Pe=c;try{return l?l(t,3,[u]):t(u)}finally{Pe=y}}:p=le,e&&n){const y=p,C=n===!0?1/0:n;p=()=>Se(y(),C)}const b=bl(),A=()=>{c.stop(),b&&b.active&&hr(b.effects,c)};if(s&&e){const y=e;e=(...C)=>{y(...C),A()}}let h=v?new Array(t.length).fill(Ji):Ji;const d=y=>{if(!(!(c.flags&1)||!c.dirty&&!y))if(e){const C=c.run();if(n||g||(v?C.some((T,k)=>Ce(T,h[k])):Ce(C,h))){m&&m();const T=Pe;Pe=c;try{const k=[C,h===Ji?void 0:v&&h[0]===Ji?[]:h,u];l?l(e,3,k):e(...k),h=C}finally{Pe=T}}}else c.run()};return a&&a(d),c=new Qa(p),c.scheduler=o?()=>o(d,!1):d,u=y=>zl(y,!1,c),m=c.onStop=()=>{const y=on.get(c);if(y){if(l)l(y,4);else for(const C of y)C();on.delete(c)}},e?r?d(!0):h=c.run():o?o(d.bind(null,!0),!0):c.run(),A.pause=c.pause.bind(c),A.resume=c.resume.bind(c),A.stop=A,A}function Se(t,e=1/0,i){if(e<=0||!Ft(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),e--,Ht(t))Se(t.value,e,i);else if(gt(t))for(let r=0;r<t.length;r++)Se(t[r],e,i);else if(al(t)||Ni(t))t.forEach(r=>{Se(r,e,i)});else if(hl(t)){for(const r in t)Se(t[r],e,i);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Se(t[r],e,i)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yi(t,e,i,r){try{return r?t(...r):t()}catch(n){Sn(n,e,i)}}function he(t,e,i,r){if(pt(t)){const n=Yi(t,e,i,r);return n&&Ya(n)&&n.catch(s=>{Sn(s,e,i)}),n}if(gt(t)){const n=[];for(let s=0;s<t.length;s++)n.push(he(t[s],e,i,r));return n}}function Sn(t,e,i,r=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||At;if(e){let a=e.parent;const l=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${i}`;for(;a;){const c=a.ec;if(c){for(let p=0;p<c.length;p++)if(c[p](t,l,f)===!1)return}a=a.parent}if(s){we(),Yi(s,null,10,[t,l,f]),xe();return}}Yl(t,i,n,r,o)}function Yl(t,e,i,r=!0,n=!1){if(n)throw t;console.error(t)}const jt=[];let ae=-1;const Ue=[];let ve=null,Oe=0;const go=Promise.resolve();let ln=null;function Xl(t){const e=ln||go;return t?e.then(this?t.bind(this):t):e}function Zl(t){let e=ae+1,i=jt.length;for(;e<i;){const r=e+i>>>1,n=jt[r],s=qi(n);s<t||s===t&&n.flags&2?e=r+1:i=r}return e}function br(t){if(!(t.flags&1)){const e=qi(t),i=jt[jt.length-1];!i||!(t.flags&2)&&e>=qi(i)?jt.push(t):jt.splice(Zl(e),0,t),t.flags|=1,po()}}function po(){ln||(ln=go.then(mo))}function Ql(t){gt(t)?Ue.push(...t):ve&&t.id===-1?ve.splice(Oe+1,0,t):t.flags&1||(Ue.push(t),t.flags|=1),po()}function Gr(t,e,i=ae+1){for(;i<jt.length;i++){const r=jt[i];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;jt.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function _o(t){if(Ue.length){const e=[...new Set(Ue)].sort((i,r)=>qi(i)-qi(r));if(Ue.length=0,ve){ve.push(...e);return}for(ve=e,Oe=0;Oe<ve.length;Oe++){const i=ve[Oe];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}ve=null,Oe=0}}const qi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function mo(t){try{for(ae=0;ae<jt.length;ae++){const e=jt[ae];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Yi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ae<jt.length;ae++){const e=jt[ae];e&&(e.flags&=-2)}ae=-1,jt.length=0,_o(),ln=null,(jt.length||Ue.length)&&mo()}}let Jt=null,yo=null;function hn(t){const e=Jt;return Jt=t,yo=t&&t.type.__scopeId||null,e}function Ot(t,e=Jt,i){if(!e||t._n)return t;const r=(...n)=>{r._d&&Kr(-1);const s=hn(e);let o;try{o=t(...n)}finally{hn(s),r._d&&Kr(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ae(t,e,i,r){const n=t.dirs,s=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(we(),he(l,i,8,[t.el,a,t,e]),xe())}}const Jl=Symbol("_vte"),$l=t=>t.__isTeleport;function Sr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Sr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function vo(t,e){return pt(t)?Dt({name:t.name},e,{setup:t}):t}function bo(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function cn(t,e,i,r,n=!1){if(gt(t)){t.forEach((g,v)=>cn(g,e&&(gt(e)?e[v]:e),i,r,n));return}if(Gi(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&cn(t,e,i,r.component.subTree);return}const s=r.shapeFlag&4?Pr(r.component):r.el,o=n?null:s,{i:a,r:l}=t,f=e&&e.r,c=a.refs===At?a.refs={}:a.refs,p=a.setupState,m=Ct(p),u=p===At?()=>!1:g=>wt(m,g);if(f!=null&&f!==l&&(Lt(f)?(c[f]=null,u(f)&&(p[f]=null)):Ht(f)&&(f.value=null)),pt(l))Yi(l,a,12,[o,c]);else{const g=Lt(l),v=Ht(l);if(g||v){const b=()=>{if(t.f){const A=g?u(l)?p[l]:c[l]:l.value;n?gt(A)&&hr(A,s):gt(A)?A.includes(s)||A.push(s):g?(c[l]=[s],u(l)&&(p[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else g?(c[l]=o,u(l)&&(p[l]=o)):v&&(l.value=o,t.k&&(c[t.k]=o))};o?(b.id=-1,Xt(b,i)):b()}}}vn().requestIdleCallback;vn().cancelIdleCallback;const Gi=t=>!!t.type.__asyncLoader,So=t=>t.type.__isKeepAlive;function th(t,e){Co(t,"a",e)}function eh(t,e){Co(t,"da",e)}function Co(t,e,i=Ut){const r=t.__wdc||(t.__wdc=()=>{let n=i;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Cn(e,r,i),i){let n=i.parent;for(;n&&n.parent;)So(n.parent.vnode)&&ih(r,e,i,n),n=n.parent}}function ih(t,e,i,r){const n=Cn(e,t,r,!0);wr(()=>{hr(r[e],n)},i)}function Cn(t,e,i=Ut,r=!1){if(i){const n=i[t]||(i[t]=[]),s=e.__weh||(e.__weh=(...o)=>{we();const a=Xi(i),l=he(e,i,t,o);return a(),xe(),l});return r?n.unshift(s):n.push(s),s}}const _e=t=>(e,i=Ut)=>{(!zi||t==="sp")&&Cn(t,(...r)=>e(...r),i)},nh=_e("bm"),wn=_e("m"),rh=_e("bu"),Cr=_e("u"),wo=_e("bum"),wr=_e("um"),sh=_e("sp"),ah=_e("rtg"),oh=_e("rtc");function lh(t,e=Ut){Cn("ec",t,e)}const hh="components";function me(t,e){return dh(hh,t,!0,e)||t}const ch=Symbol.for("v-ndc");function dh(t,e,i=!0,r=!1){const n=Jt||Ut;if(n){const s=n.type;{const a=tc(s,!1);if(a&&(a===e||a===te(e)||a===yn(te(e))))return s}const o=Ir(n[t]||s[t],e)||Ir(n.appContext[t],e);return!o&&r?s:o}}function Ir(t,e){return t&&(t[e]||t[te(e)]||t[yn(te(e))])}function Ur(t,e,i,r){let n;const s=i,o=gt(t);if(o||Lt(t)){const a=o&&Ie(t);let l=!1;a&&(l=!$t(t),t=bn(t)),n=new Array(t.length);for(let f=0,c=t.length;f<c;f++)n[f]=e(l?Vt(t[f]):t[f],f,void 0,s)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,s)}else if(Ft(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const c=a[l];n[l]=e(t[c],c,l,s)}}else n=[];return n}const tr=t=>t?Wo(t)?Pr(t):tr(t.parent):null,Ii=Dt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>tr(t.parent),$root:t=>tr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>xr(t),$forceUpdate:t=>t.f||(t.f=()=>{br(t.update)}),$nextTick:t=>t.n||(t.n=Xl.bind(t.proxy)),$watch:t=>Nh.bind(t)}),Nn=(t,e)=>t!==At&&!t.__isScriptSetup&&wt(t,e),uh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:i,setupState:r,data:n,props:s,accessCache:o,type:a,appContext:l}=t;let f;if(e[0]!=="$"){const u=o[e];if(u!==void 0)switch(u){case 1:return r[e];case 2:return n[e];case 4:return i[e];case 3:return s[e]}else{if(Nn(r,e))return o[e]=1,r[e];if(n!==At&&wt(n,e))return o[e]=2,n[e];if((f=t.propsOptions[0])&&wt(f,e))return o[e]=3,s[e];if(i!==At&&wt(i,e))return o[e]=4,i[e];er&&(o[e]=0)}}const c=Ii[e];let p,m;if(c)return e==="$attrs"&&Bt(t.attrs,"get",""),c(t);if((p=a.__cssModules)&&(p=p[e]))return p;if(i!==At&&wt(i,e))return o[e]=4,i[e];if(m=l.config.globalProperties,wt(m,e))return m[e]},set({_:t},e,i){const{data:r,setupState:n,ctx:s}=t;return Nn(n,e)?(n[e]=i,!0):r!==At&&wt(r,e)?(r[e]=i,!0):wt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:r,appContext:n,propsOptions:s}},o){let a;return!!i[o]||t!==At&&wt(t,o)||Nn(e,o)||(a=s[0])&&wt(a,o)||wt(r,o)||wt(Ii,o)||wt(n.config.globalProperties,o)},defineProperty(t,e,i){return i.get!=null?t._.accessCache[e]=0:wt(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function Br(t){return gt(t)?t.reduce((e,i)=>(e[i]=null,e),{}):t}let er=!0;function fh(t){const e=xr(t),i=t.proxy,r=t.ctx;er=!1,e.beforeCreate&&Vr(e.beforeCreate,t,"bc");const{data:n,computed:s,methods:o,watch:a,provide:l,inject:f,created:c,beforeMount:p,mounted:m,beforeUpdate:u,updated:g,activated:v,deactivated:b,beforeDestroy:A,beforeUnmount:h,destroyed:d,unmounted:y,render:C,renderTracked:T,renderTriggered:k,errorCaptured:E,serverPrefetch:N,expose:x,inheritAttrs:F,components:D,directives:_,filters:w}=e;if(f&&gh(f,r,null),o)for(const P in o){const I=o[P];pt(I)&&(r[P]=I.bind(i))}if(n){const P=n.call(i,i);Ft(P)&&(t.data=Ki(P))}if(er=!0,s)for(const P in s){const I=s[P],q=pt(I)?I.bind(i,i):pt(I.get)?I.get.bind(i,i):le,X=!pt(I)&&pt(I.set)?I.set.bind(i):le,K=ic({get:q,set:X});Object.defineProperty(r,P,{enumerable:!0,configurable:!0,get:()=>K.value,set:Q=>K.value=Q})}if(a)for(const P in a)xo(a[P],r,i,P);if(l){const P=pt(l)?l.call(i):l;Reflect.ownKeys(P).forEach(I=>{bh(I,P[I])})}c&&Vr(c,t,"c");function R(P,I){gt(I)?I.forEach(q=>P(q.bind(i))):I&&P(I.bind(i))}if(R(nh,p),R(wn,m),R(rh,u),R(Cr,g),R(th,v),R(eh,b),R(lh,E),R(oh,T),R(ah,k),R(wo,h),R(wr,y),R(sh,N),gt(x))if(x.length){const P=t.exposed||(t.exposed={});x.forEach(I=>{Object.defineProperty(P,I,{get:()=>i[I],set:q=>i[I]=q})})}else t.exposed||(t.exposed={});C&&t.render===le&&(t.render=C),F!=null&&(t.inheritAttrs=F),D&&(t.components=D),_&&(t.directives=_),N&&bo(t)}function gh(t,e,i=le){gt(t)&&(t=ir(t));for(const r in t){const n=t[r];let s;Ft(n)?"default"in n?s=tn(n.from||r,n.default,!0):s=tn(n.from||r):s=tn(n),Ht(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Vr(t,e,i){he(gt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,i)}function xo(t,e,i,r){let n=r.includes(".")?Io(i,r):()=>i[r];if(Lt(t)){const s=e[t];pt(s)&&Ui(n,s)}else if(pt(t))Ui(n,t.bind(i));else if(Ft(t))if(gt(t))t.forEach(s=>xo(s,e,i,r));else{const s=pt(t.handler)?t.handler.bind(i):e[t.handler];pt(s)&&Ui(n,s,t)}}function xr(t){const e=t.type,{mixins:i,extends:r}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!n.length&&!i&&!r?l=e:(l={},n.length&&n.forEach(f=>dn(l,f,o,!0)),dn(l,e,o)),Ft(e)&&s.set(e,l),l}function dn(t,e,i,r=!1){const{mixins:n,extends:s}=e;s&&dn(t,s,i,!0),n&&n.forEach(o=>dn(t,o,i,!0));for(const o in e)if(!(r&&o==="expose")){const a=ph[o]||i&&i[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const ph={data:Hr,props:qr,emits:qr,methods:ki,computed:ki,beforeCreate:Wt,created:Wt,beforeMount:Wt,mounted:Wt,beforeUpdate:Wt,updated:Wt,beforeDestroy:Wt,beforeUnmount:Wt,destroyed:Wt,unmounted:Wt,activated:Wt,deactivated:Wt,errorCaptured:Wt,serverPrefetch:Wt,components:ki,directives:ki,watch:mh,provide:Hr,inject:_h};function Hr(t,e){return e?t?function(){return Dt(pt(t)?t.call(this,this):t,pt(e)?e.call(this,this):e)}:e:t}function _h(t,e){return ki(ir(t),ir(e))}function ir(t){if(gt(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function Wt(t,e){return t?[...new Set([].concat(t,e))]:e}function ki(t,e){return t?Dt(Object.create(null),t,e):e}function qr(t,e){return t?gt(t)&&gt(e)?[...new Set([...t,...e])]:Dt(Object.create(null),Br(t),Br(e??{})):e}function mh(t,e){if(!t)return e;if(!e)return t;const i=Dt(Object.create(null),t);for(const r in e)i[r]=Wt(t[r],e[r]);return i}function Ao(){return{app:null,config:{isNativeTag:rl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yh=0;function vh(t,e){return function(r,n=null){pt(r)||(r=Dt({},r)),n!=null&&!Ft(n)&&(n=null);const s=Ao(),o=new WeakSet,a=[];let l=!1;const f=s.app={_uid:yh++,_component:r,_props:n,_container:null,_context:s,_instance:null,version:nc,get config(){return s.config},set config(c){},use(c,...p){return o.has(c)||(c&&pt(c.install)?(o.add(c),c.install(f,...p)):pt(c)&&(o.add(c),c(f,...p))),f},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),f},component(c,p){return p?(s.components[c]=p,f):s.components[c]},directive(c,p){return p?(s.directives[c]=p,f):s.directives[c]},mount(c,p,m){if(!l){const u=f._ceVNode||ot(r,n);return u.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),p&&e?e(u,c):t(u,c,m),l=!0,f._container=c,c.__vue_app__=f,Pr(u.component)}},onUnmount(c){a.push(c)},unmount(){l&&(he(a,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(c,p){return s.provides[c]=p,f},runWithContext(c){const p=Be;Be=f;try{return c()}finally{Be=p}}};return f}}let Be=null;function bh(t,e){if(Ut){let i=Ut.provides;const r=Ut.parent&&Ut.parent.provides;r===i&&(i=Ut.provides=Object.create(r)),i[t]=e}}function tn(t,e,i=!1){const r=Ut||Jt;if(r||Be){const n=Be?Be._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return i&&pt(e)?e.call(r&&r.proxy):e}}const To={},Ro=()=>Object.create(To),Po=t=>Object.getPrototypeOf(t)===To;function Sh(t,e,i,r=!1){const n={},s=Ro();t.propsDefaults=Object.create(null),Eo(t,e,n,s);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);i?t.props=r?n:Ul(n):t.type.props?t.props=n:t.props=s,t.attrs=s}function Ch(t,e,i,r){const{props:n,attrs:s,vnode:{patchFlag:o}}=t,a=Ct(n),[l]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let p=0;p<c.length;p++){let m=c[p];if(xn(t.emitsOptions,m))continue;const u=e[m];if(l)if(wt(s,m))u!==s[m]&&(s[m]=u,f=!0);else{const g=te(m);n[g]=nr(l,a,g,u,t,!1)}else u!==s[m]&&(s[m]=u,f=!0)}}}else{Eo(t,e,n,s)&&(f=!0);let c;for(const p in a)(!e||!wt(e,p)&&((c=Me(p))===p||!wt(e,c)))&&(l?i&&(i[p]!==void 0||i[c]!==void 0)&&(n[p]=nr(l,a,p,void 0,t,!0)):delete n[p]);if(s!==a)for(const p in s)(!e||!wt(e,p))&&(delete s[p],f=!0)}f&&pe(t.attrs,"set","")}function Eo(t,e,i,r){const[n,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Oi(l))continue;const f=e[l];let c;n&&wt(n,c=te(l))?!s||!s.includes(c)?i[c]=f:(a||(a={}))[c]=f:xn(t.emitsOptions,l)||(!(l in r)||f!==r[l])&&(r[l]=f,o=!0)}if(s){const l=Ct(i),f=a||At;for(let c=0;c<s.length;c++){const p=s[c];i[p]=nr(n,l,p,f[p],t,!wt(f,p))}}return o}function nr(t,e,i,r,n,s){const o=t[i];if(o!=null){const a=wt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&pt(l)){const{propsDefaults:f}=n;if(i in f)r=f[i];else{const c=Xi(n);r=f[i]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(i,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Me(i))&&(r=!0))}return r}const wh=new WeakMap;function Fo(t,e,i=!1){const r=i?wh:e.propsCache,n=r.get(t);if(n)return n;const s=t.props,o={},a=[];let l=!1;if(!pt(t)){const c=p=>{l=!0;const[m,u]=Fo(p,e,!0);Dt(o,m),u&&a.push(...u)};!i&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Ft(t)&&r.set(t,Ge),Ge;if(gt(s))for(let c=0;c<s.length;c++){const p=te(s[c]);Wr(p)&&(o[p]=At)}else if(s)for(const c in s){const p=te(c);if(Wr(p)){const m=s[c],u=o[p]=gt(m)||pt(m)?{type:m}:Dt({},m),g=u.type;let v=!1,b=!0;if(gt(g))for(let A=0;A<g.length;++A){const h=g[A],d=pt(h)&&h.name;if(d==="Boolean"){v=!0;break}else d==="String"&&(b=!1)}else v=pt(g)&&g.name==="Boolean";u[0]=v,u[1]=b,(v||wt(u,"default"))&&a.push(p)}}const f=[o,a];return Ft(t)&&r.set(t,f),f}function Wr(t){return t[0]!=="$"&&!Oi(t)}const Mo=t=>t[0]==="_"||t==="$stable",Ar=t=>gt(t)?t.map(oe):[oe(t)],xh=(t,e,i)=>{if(e._n)return e;const r=Ot((...n)=>Ar(e(...n)),i);return r._c=!1,r},ko=(t,e,i)=>{const r=t._ctx;for(const n in t){if(Mo(n))continue;const s=t[n];if(pt(s))e[n]=xh(n,s,r);else if(s!=null){const o=Ar(s);e[n]=()=>o}}},No=(t,e)=>{const i=Ar(e);t.slots.default=()=>i},Oo=(t,e,i)=>{for(const r in e)(i||r!=="_")&&(t[r]=e[r])},Ah=(t,e,i)=>{const r=t.slots=Ro();if(t.vnode.shapeFlag&32){const n=e._;n?(Oo(r,e,i),i&&Xa(r,"_",n,!0)):ko(e,r)}else e&&No(t,e)},Th=(t,e,i)=>{const{vnode:r,slots:n}=t;let s=!0,o=At;if(r.shapeFlag&32){const a=e._;a?i&&a===1?s=!1:Oo(n,e,i):(s=!e.$stable,ko(e,n)),o=e}else e&&(No(t,e),o={default:1});if(s)for(const a in n)!Mo(a)&&o[a]==null&&delete n[a]},Xt=Bh;function Rh(t){return Ph(t)}function Ph(t,e){const i=vn();i.__VUE__=!0;const{insert:r,remove:n,patchProp:s,createElement:o,createText:a,createComment:l,setText:f,setElementText:c,parentNode:p,nextSibling:m,setScopeId:u=le,insertStaticContent:g}=t,v=(M,O,U,B=null,G=null,H=null,Z=void 0,z=null,W=!!O.dynamicChildren)=>{if(M===O)return;M&&!We(M,O)&&(B=L(M),Q(M,G,H,!0),M=null),O.patchFlag===-2&&(W=!1,O.dynamicChildren=null);const{type:Y,ref:it,shapeFlag:tt}=O;switch(Y){case An:b(M,O,U,B);break;case Wi:A(M,O,U,B);break;case en:M==null&&h(O,U,B,Z);break;case ie:D(M,O,U,B,G,H,Z,z,W);break;default:tt&1?C(M,O,U,B,G,H,Z,z,W):tt&6?_(M,O,U,B,G,H,Z,z,W):(tt&64||tt&128)&&Y.process(M,O,U,B,G,H,Z,z,W,et)}it!=null&&G&&cn(it,M&&M.ref,H,O||M,!O)},b=(M,O,U,B)=>{if(M==null)r(O.el=a(O.children),U,B);else{const G=O.el=M.el;O.children!==M.children&&f(G,O.children)}},A=(M,O,U,B)=>{M==null?r(O.el=l(O.children||""),U,B):O.el=M.el},h=(M,O,U,B)=>{[M.el,M.anchor]=g(M.children,O,U,B,M.el,M.anchor)},d=({el:M,anchor:O},U,B)=>{let G;for(;M&&M!==O;)G=m(M),r(M,U,B),M=G;r(O,U,B)},y=({el:M,anchor:O})=>{let U;for(;M&&M!==O;)U=m(M),n(M),M=U;n(O)},C=(M,O,U,B,G,H,Z,z,W)=>{O.type==="svg"?Z="svg":O.type==="math"&&(Z="mathml"),M==null?T(O,U,B,G,H,Z,z,W):N(M,O,G,H,Z,z,W)},T=(M,O,U,B,G,H,Z,z)=>{let W,Y;const{props:it,shapeFlag:tt,transition:st,dirs:at}=M;if(W=M.el=o(M.type,H,it&&it.is,it),tt&8?c(W,M.children):tt&16&&E(M.children,W,null,B,G,On(M,H),Z,z),at&&Ae(M,null,B,"created"),k(W,M,M.scopeId,Z,B),it){for(const ft in it)ft!=="value"&&!Oi(ft)&&s(W,ft,null,it[ft],H,B);"value"in it&&s(W,"value",null,it.value,H),(Y=it.onVnodeBeforeMount)&&se(Y,B,M)}at&&Ae(M,null,B,"beforeMount");const ct=Eh(G,st);ct&&st.beforeEnter(W),r(W,O,U),((Y=it&&it.onVnodeMounted)||ct||at)&&Xt(()=>{Y&&se(Y,B,M),ct&&st.enter(W),at&&Ae(M,null,B,"mounted")},G)},k=(M,O,U,B,G)=>{if(U&&u(M,U),B)for(let H=0;H<B.length;H++)u(M,B[H]);if(G){let H=G.subTree;if(O===H||Bo(H.type)&&(H.ssContent===O||H.ssFallback===O)){const Z=G.vnode;k(M,Z,Z.scopeId,Z.slotScopeIds,G.parent)}}},E=(M,O,U,B,G,H,Z,z,W=0)=>{for(let Y=W;Y<M.length;Y++){const it=M[Y]=z?be(M[Y]):oe(M[Y]);v(null,it,O,U,B,G,H,Z,z)}},N=(M,O,U,B,G,H,Z)=>{const z=O.el=M.el;let{patchFlag:W,dynamicChildren:Y,dirs:it}=O;W|=M.patchFlag&16;const tt=M.props||At,st=O.props||At;let at;if(U&&Te(U,!1),(at=st.onVnodeBeforeUpdate)&&se(at,U,O,M),it&&Ae(O,M,U,"beforeUpdate"),U&&Te(U,!0),(tt.innerHTML&&st.innerHTML==null||tt.textContent&&st.textContent==null)&&c(z,""),Y?x(M.dynamicChildren,Y,z,U,B,On(O,G),H):Z||I(M,O,z,null,U,B,On(O,G),H,!1),W>0){if(W&16)F(z,tt,st,U,G);else if(W&2&&tt.class!==st.class&&s(z,"class",null,st.class,G),W&4&&s(z,"style",tt.style,st.style,G),W&8){const ct=O.dynamicProps;for(let ft=0;ft<ct.length;ft++){const _t=ct[ft],Tt=tt[_t],Et=st[_t];(Et!==Tt||_t==="value")&&s(z,_t,Tt,Et,G,U)}}W&1&&M.children!==O.children&&c(z,O.children)}else!Z&&Y==null&&F(z,tt,st,U,G);((at=st.onVnodeUpdated)||it)&&Xt(()=>{at&&se(at,U,O,M),it&&Ae(O,M,U,"updated")},B)},x=(M,O,U,B,G,H,Z)=>{for(let z=0;z<O.length;z++){const W=M[z],Y=O[z],it=W.el&&(W.type===ie||!We(W,Y)||W.shapeFlag&70)?p(W.el):U;v(W,Y,it,null,B,G,H,Z,!0)}},F=(M,O,U,B,G)=>{if(O!==U){if(O!==At)for(const H in O)!Oi(H)&&!(H in U)&&s(M,H,O[H],null,G,B);for(const H in U){if(Oi(H))continue;const Z=U[H],z=O[H];Z!==z&&H!=="value"&&s(M,H,z,Z,G,B)}"value"in U&&s(M,"value",O.value,U.value,G)}},D=(M,O,U,B,G,H,Z,z,W)=>{const Y=O.el=M?M.el:a(""),it=O.anchor=M?M.anchor:a("");let{patchFlag:tt,dynamicChildren:st,slotScopeIds:at}=O;at&&(z=z?z.concat(at):at),M==null?(r(Y,U,B),r(it,U,B),E(O.children||[],U,it,G,H,Z,z,W)):tt>0&&tt&64&&st&&M.dynamicChildren?(x(M.dynamicChildren,st,U,G,H,Z,z),(O.key!=null||G&&O===G.subTree)&&Lo(M,O,!0)):I(M,O,U,it,G,H,Z,z,W)},_=(M,O,U,B,G,H,Z,z,W)=>{O.slotScopeIds=z,M==null?O.shapeFlag&512?G.ctx.activate(O,U,B,Z,W):w(O,U,B,G,H,Z,W):S(M,O,W)},w=(M,O,U,B,G,H,Z)=>{const z=M.component=Xh(M,B,G);if(So(M)&&(z.ctx.renderer=et),Zh(z,!1,Z),z.asyncDep){if(G&&G.registerDep(z,R,Z),!M.el){const W=z.subTree=ot(Wi);A(null,W,O,U)}}else R(z,M,O,U,G,H,Z)},S=(M,O,U)=>{const B=O.component=M.component;if(Ih(M,O,U))if(B.asyncDep&&!B.asyncResolved){P(B,O,U);return}else B.next=O,B.update();else O.el=M.el,B.vnode=O},R=(M,O,U,B,G,H,Z)=>{const z=()=>{if(M.isMounted){let{next:tt,bu:st,u:at,parent:ct,vnode:ft}=M;{const kt=Do(M);if(kt){tt&&(tt.el=ft.el,P(M,tt,Z)),kt.asyncDep.then(()=>{M.isUnmounted||z()});return}}let _t=tt,Tt;Te(M,!1),tt?(tt.el=ft.el,P(M,tt,Z)):tt=ft,st&&En(st),(Tt=tt.props&&tt.props.onVnodeBeforeUpdate)&&se(Tt,ct,tt,ft),Te(M,!0);const Et=Ln(M),ee=M.subTree;M.subTree=Et,v(ee,Et,p(ee.el),L(ee),M,G,H),tt.el=Et.el,_t===null&&Uh(M,Et.el),at&&Xt(at,G),(Tt=tt.props&&tt.props.onVnodeUpdated)&&Xt(()=>se(Tt,ct,tt,ft),G)}else{let tt;const{el:st,props:at}=O,{bm:ct,m:ft,parent:_t,root:Tt,type:Et}=M,ee=Gi(O);if(Te(M,!1),ct&&En(ct),!ee&&(tt=at&&at.onVnodeBeforeMount)&&se(tt,_t,O),Te(M,!0),st&&ht){const kt=()=>{M.subTree=Ln(M),ht(st,M.subTree,M,G,null)};ee&&Et.__asyncHydrate?Et.__asyncHydrate(st,M,kt):kt()}else{Tt.ce&&Tt.ce._injectChildStyle(Et);const kt=M.subTree=Ln(M);v(null,kt,U,B,M,G,H),O.el=kt.el}if(ft&&Xt(ft,G),!ee&&(tt=at&&at.onVnodeMounted)){const kt=O;Xt(()=>se(tt,_t,kt),G)}(O.shapeFlag&256||_t&&Gi(_t.vnode)&&_t.vnode.shapeFlag&256)&&M.a&&Xt(M.a,G),M.isMounted=!0,O=U=B=null}};M.scope.on();const W=M.effect=new Qa(z);M.scope.off();const Y=M.update=W.run.bind(W),it=M.job=W.runIfDirty.bind(W);it.i=M,it.id=M.uid,W.scheduler=()=>br(it),Te(M,!0),Y()},P=(M,O,U)=>{O.component=M;const B=M.vnode.props;M.vnode=O,M.next=null,Ch(M,O.props,B,U),Th(M,O.children,U),we(),Gr(M),xe()},I=(M,O,U,B,G,H,Z,z,W=!1)=>{const Y=M&&M.children,it=M?M.shapeFlag:0,tt=O.children,{patchFlag:st,shapeFlag:at}=O;if(st>0){if(st&128){X(Y,tt,U,B,G,H,Z,z,W);return}else if(st&256){q(Y,tt,U,B,G,H,Z,z,W);return}}at&8?(it&16&&nt(Y,G,H),tt!==Y&&c(U,tt)):it&16?at&16?X(Y,tt,U,B,G,H,Z,z,W):nt(Y,G,H,!0):(it&8&&c(U,""),at&16&&E(tt,U,B,G,H,Z,z,W))},q=(M,O,U,B,G,H,Z,z,W)=>{M=M||Ge,O=O||Ge;const Y=M.length,it=O.length,tt=Math.min(Y,it);let st;for(st=0;st<tt;st++){const at=O[st]=W?be(O[st]):oe(O[st]);v(M[st],at,U,null,G,H,Z,z,W)}Y>it?nt(M,G,H,!0,!1,tt):E(O,U,B,G,H,Z,z,W,tt)},X=(M,O,U,B,G,H,Z,z,W)=>{let Y=0;const it=O.length;let tt=M.length-1,st=it-1;for(;Y<=tt&&Y<=st;){const at=M[Y],ct=O[Y]=W?be(O[Y]):oe(O[Y]);if(We(at,ct))v(at,ct,U,null,G,H,Z,z,W);else break;Y++}for(;Y<=tt&&Y<=st;){const at=M[tt],ct=O[st]=W?be(O[st]):oe(O[st]);if(We(at,ct))v(at,ct,U,null,G,H,Z,z,W);else break;tt--,st--}if(Y>tt){if(Y<=st){const at=st+1,ct=at<it?O[at].el:B;for(;Y<=st;)v(null,O[Y]=W?be(O[Y]):oe(O[Y]),U,ct,G,H,Z,z,W),Y++}}else if(Y>st)for(;Y<=tt;)Q(M[Y],G,H,!0),Y++;else{const at=Y,ct=Y,ft=new Map;for(Y=ct;Y<=st;Y++){const qt=O[Y]=W?be(O[Y]):oe(O[Y]);qt.key!=null&&ft.set(qt.key,Y)}let _t,Tt=0;const Et=st-ct+1;let ee=!1,kt=0;const zt=new Array(Et);for(Y=0;Y<Et;Y++)zt[Y]=0;for(Y=at;Y<=tt;Y++){const qt=M[Y];if(Tt>=Et){Q(qt,G,H,!0);continue}let re;if(qt.key!=null)re=ft.get(qt.key);else for(_t=ct;_t<=st;_t++)if(zt[_t-ct]===0&&We(qt,O[_t])){re=_t;break}re===void 0?Q(qt,G,H,!0):(zt[re-ct]=Y+1,re>=kt?kt=re:ee=!0,v(qt,O[re],U,null,G,H,Z,z,W),Tt++)}const ce=ee?Fh(zt):Ge;for(_t=ce.length-1,Y=Et-1;Y>=0;Y--){const qt=ct+Y,re=O[qt],Nr=qt+1<it?O[qt+1].el:B;zt[Y]===0?v(null,re,U,Nr,G,H,Z,z,W):ee&&(_t<0||Y!==ce[_t]?K(re,U,Nr,2):_t--)}}},K=(M,O,U,B,G=null)=>{const{el:H,type:Z,transition:z,children:W,shapeFlag:Y}=M;if(Y&6){K(M.component.subTree,O,U,B);return}if(Y&128){M.suspense.move(O,U,B);return}if(Y&64){Z.move(M,O,U,et);return}if(Z===ie){r(H,O,U);for(let tt=0;tt<W.length;tt++)K(W[tt],O,U,B);r(M.anchor,O,U);return}if(Z===en){d(M,O,U);return}if(B!==2&&Y&1&&z)if(B===0)z.beforeEnter(H),r(H,O,U),Xt(()=>z.enter(H),G);else{const{leave:tt,delayLeave:st,afterLeave:at}=z,ct=()=>r(H,O,U),ft=()=>{tt(H,()=>{ct(),at&&at()})};st?st(H,ct,ft):ft()}else r(H,O,U)},Q=(M,O,U,B=!1,G=!1)=>{const{type:H,props:Z,ref:z,children:W,dynamicChildren:Y,shapeFlag:it,patchFlag:tt,dirs:st,cacheIndex:at}=M;if(tt===-2&&(G=!1),z!=null&&cn(z,null,U,M,!0),at!=null&&(O.renderCache[at]=void 0),it&256){O.ctx.deactivate(M);return}const ct=it&1&&st,ft=!Gi(M);let _t;if(ft&&(_t=Z&&Z.onVnodeBeforeUnmount)&&se(_t,O,M),it&6)rt(M.component,U,B);else{if(it&128){M.suspense.unmount(U,B);return}ct&&Ae(M,null,O,"beforeUnmount"),it&64?M.type.remove(M,O,U,et,B):Y&&!Y.hasOnce&&(H!==ie||tt>0&&tt&64)?nt(Y,O,U,!1,!0):(H===ie&&tt&384||!G&&it&16)&&nt(W,O,U),B&&j(M)}(ft&&(_t=Z&&Z.onVnodeUnmounted)||ct)&&Xt(()=>{_t&&se(_t,O,M),ct&&Ae(M,null,O,"unmounted")},U)},j=M=>{const{type:O,el:U,anchor:B,transition:G}=M;if(O===ie){$(U,B);return}if(O===en){y(M);return}const H=()=>{n(U),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(M.shapeFlag&1&&G&&!G.persisted){const{leave:Z,delayLeave:z}=G,W=()=>Z(U,H);z?z(M.el,H,W):W()}else H()},$=(M,O)=>{let U;for(;M!==O;)U=m(M),n(M),M=U;n(O)},rt=(M,O,U)=>{const{bum:B,scope:G,job:H,subTree:Z,um:z,m:W,a:Y}=M;jr(W),jr(Y),B&&En(B),G.stop(),H&&(H.flags|=8,Q(Z,M,O,U)),z&&Xt(z,O),Xt(()=>{M.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},nt=(M,O,U,B=!1,G=!1,H=0)=>{for(let Z=H;Z<M.length;Z++)Q(M[Z],O,U,B,G)},L=M=>{if(M.shapeFlag&6)return L(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const O=m(M.anchor||M.el),U=O&&O[Jl];return U?m(U):O};let V=!1;const J=(M,O,U)=>{M==null?O._vnode&&Q(O._vnode,null,null,!0):v(O._vnode||null,M,O,null,null,null,U),O._vnode=M,V||(V=!0,Gr(),_o(),V=!1)},et={p:v,um:Q,m:K,r:j,mt:w,mc:E,pc:I,pbc:x,n:L,o:t};let lt,ht;return{render:J,hydrate:lt,createApp:vh(J,lt)}}function On({type:t,props:e},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function Te({effect:t,job:e},i){i?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Eh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Lo(t,e,i=!1){const r=t.children,n=e.children;if(gt(r)&&gt(n))for(let s=0;s<r.length;s++){const o=r[s];let a=n[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[s]=be(n[s]),a.el=o.el),!i&&a.patchFlag!==-2&&Lo(o,a)),a.type===An&&(a.el=o.el)}}function Fh(t){const e=t.slice(),i=[0];let r,n,s,o,a;const l=t.length;for(r=0;r<l;r++){const f=t[r];if(f!==0){if(n=i[i.length-1],t[n]<f){e[r]=n,i.push(r);continue}for(s=0,o=i.length-1;s<o;)a=s+o>>1,t[i[a]]<f?s=a+1:o=a;f<t[i[s]]&&(s>0&&(e[r]=i[s-1]),i[s]=r)}}for(s=i.length,o=i[s-1];s-- >0;)i[s]=o,o=e[o];return i}function Do(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Do(e)}function jr(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Mh=Symbol.for("v-scx"),kh=()=>tn(Mh);function Ui(t,e,i){return Go(t,e,i)}function Go(t,e,i=At){const{immediate:r,deep:n,flush:s,once:o}=i,a=Dt({},i),l=e&&r||!e&&s!=="post";let f;if(zi){if(s==="sync"){const u=kh();f=u.__watcherHandles||(u.__watcherHandles=[])}else if(!l){const u=()=>{};return u.stop=le,u.resume=le,u.pause=le,u}}const c=Ut;a.call=(u,g,v)=>he(u,c,g,v);let p=!1;s==="post"?a.scheduler=u=>{Xt(u,c&&c.suspense)}:s!=="sync"&&(p=!0,a.scheduler=(u,g)=>{g?u():br(u)}),a.augmentJob=u=>{e&&(u.flags|=4),p&&(u.flags|=2,c&&(u.id=c.uid,u.i=c))};const m=Kl(t,e,a);return zi&&(f?f.push(m):l&&m()),m}function Nh(t,e,i){const r=this.proxy,n=Lt(t)?t.includes(".")?Io(r,t):()=>r[t]:t.bind(r,r);let s;pt(e)?s=e:(s=e.handler,i=e);const o=Xi(this),a=Go(n,s.bind(r),i);return o(),a}function Io(t,e){const i=e.split(".");return()=>{let r=t;for(let n=0;n<i.length&&r;n++)r=r[i[n]];return r}}const Oh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${te(e)}Modifiers`]||t[`${Me(e)}Modifiers`];function Lh(t,e,...i){if(t.isUnmounted)return;const r=t.vnode.props||At;let n=i;const s=e.startsWith("update:"),o=s&&Oh(r,e.slice(7));o&&(o.trim&&(n=i.map(c=>Lt(c)?c.trim():c)),o.number&&(n=i.map(ul)));let a,l=r[a=Pn(e)]||r[a=Pn(te(e))];!l&&s&&(l=r[a=Pn(Me(e))]),l&&he(l,t,6,n);const f=r[a+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,he(f,t,6,n)}}function Uo(t,e,i=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const s=t.emits;let o={},a=!1;if(!pt(t)){const l=f=>{const c=Uo(f,e,!0);c&&(a=!0,Dt(o,c))};!i&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Ft(t)&&r.set(t,null),null):(gt(s)?s.forEach(l=>o[l]=null):Dt(o,s),Ft(t)&&r.set(t,o),o)}function xn(t,e){return!t||!pn(e)?!1:(e=e.slice(2).replace(/Once$/,""),wt(t,e[0].toLowerCase()+e.slice(1))||wt(t,Me(e))||wt(t,e))}function Ln(t){const{type:e,vnode:i,proxy:r,withProxy:n,propsOptions:[s],slots:o,attrs:a,emit:l,render:f,renderCache:c,props:p,data:m,setupState:u,ctx:g,inheritAttrs:v}=t,b=hn(t);let A,h;try{if(i.shapeFlag&4){const y=n||r,C=y;A=oe(f.call(C,y,c,p,u,m,g)),h=a}else{const y=e;A=oe(y.length>1?y(p,{attrs:a,slots:o,emit:l}):y(p,null)),h=e.props?a:Dh(a)}}catch(y){Bi.length=0,Sn(y,t,1),A=ot(Wi)}let d=A;if(h&&v!==!1){const y=Object.keys(h),{shapeFlag:C}=d;y.length&&C&7&&(s&&y.some(lr)&&(h=Gh(h,s)),d=Ve(d,h,!1,!0))}return i.dirs&&(d=Ve(d,null,!1,!0),d.dirs=d.dirs?d.dirs.concat(i.dirs):i.dirs),i.transition&&Sr(d,i.transition),A=d,hn(b),A}const Dh=t=>{let e;for(const i in t)(i==="class"||i==="style"||pn(i))&&((e||(e={}))[i]=t[i]);return e},Gh=(t,e)=>{const i={};for(const r in t)(!lr(r)||!(r.slice(9)in e))&&(i[r]=t[r]);return i};function Ih(t,e,i){const{props:r,children:n,component:s}=t,{props:o,children:a,patchFlag:l}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return r?zr(r,o,f):!!o;if(l&8){const c=e.dynamicProps;for(let p=0;p<c.length;p++){const m=c[p];if(o[m]!==r[m]&&!xn(f,m))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?zr(r,o,f):!0:!!o;return!1}function zr(t,e,i){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const s=r[n];if(e[s]!==t[s]&&!xn(i,s))return!0}return!1}function Uh({vnode:t,parent:e},i){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=i,e=e.parent;else break}}const Bo=t=>t.__isSuspense;function Bh(t,e){e&&e.pendingBranch?gt(t)?e.effects.push(...t):e.effects.push(t):Ql(t)}const ie=Symbol.for("v-fgt"),An=Symbol.for("v-txt"),Wi=Symbol.for("v-cmt"),en=Symbol.for("v-stc"),Bi=[];let Qt=null;function Le(t=!1){Bi.push(Qt=t?null:[])}function Vh(){Bi.pop(),Qt=Bi[Bi.length-1]||null}let ji=1;function Kr(t,e=!1){ji+=t,t<0&&Qt&&e&&(Qt.hasOnce=!0)}function Vo(t){return t.dynamicChildren=ji>0?Qt||Ge:null,Vh(),ji>0&&Qt&&Qt.push(t),t}function nn(t,e,i,r,n,s){return Vo(Tr(t,e,i,r,n,s,!0))}function Yr(t,e,i,r,n){return Vo(ot(t,e,i,r,n,!0))}function un(t){return t?t.__v_isVNode===!0:!1}function We(t,e){return t.type===e.type&&t.key===e.key}const Ho=({key:t})=>t??null,rn=({ref:t,ref_key:e,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?Lt(t)||Ht(t)||pt(t)?{i:Jt,r:t,k:e,f:!!i}:t:null);function Tr(t,e=null,i=null,r=0,n=null,s=t===ie?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ho(e),ref:e&&rn(e),scopeId:yo,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Jt};return a?(Rr(l,i),s&128&&t.normalize(l)):i&&(l.shapeFlag|=Lt(i)?8:16),ji>0&&!o&&Qt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Qt.push(l),l}const ot=Hh;function Hh(t,e=null,i=null,r=0,n=null,s=!1){if((!t||t===ch)&&(t=Wi),un(t)){const a=Ve(t,e,!0);return i&&Rr(a,i),ji>0&&!s&&Qt&&(a.shapeFlag&6?Qt[Qt.indexOf(t)]=a:Qt.push(a)),a.patchFlag=-2,a}if(ec(t)&&(t=t.__vccOpts),e){e=qh(e);let{class:a,style:l}=e;a&&!Lt(a)&&(e.class=ur(a)),Ft(l)&&(vr(l)&&!gt(l)&&(l=Dt({},l)),e.style=dr(l))}const o=Lt(t)?1:Bo(t)?128:$l(t)?64:Ft(t)?4:pt(t)?2:0;return Tr(t,e,i,r,n,o,s,!0)}function qh(t){return t?vr(t)||Po(t)?Dt({},t):t:null}function Ve(t,e,i=!1,r=!1){const{props:n,ref:s,patchFlag:o,children:a,transition:l}=t,f=e?zh(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&Ho(f),ref:e&&e.ref?i&&s?gt(s)?s.concat(rn(e)):[s,rn(e)]:rn(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ie?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ve(t.ssContent),ssFallback:t.ssFallback&&Ve(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Sr(c,l.clone(c)),c}function Wh(t=" ",e=0){return ot(An,null,t,e)}function jh(t,e){const i=ot(en,null,t);return i.staticCount=e,i}function oe(t){return t==null||typeof t=="boolean"?ot(Wi):gt(t)?ot(ie,null,t.slice()):un(t)?be(t):ot(An,null,String(t))}function be(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ve(t)}function Rr(t,e){let i=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(gt(e))i=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Rr(t,n()),n._c&&(n._d=!0));return}else{i=32;const n=e._;!n&&!Po(e)?e._ctx=Jt:n===3&&Jt&&(Jt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pt(e)?(e={default:e,_ctx:Jt},i=32):(e=String(e),r&64?(i=16,e=[Wh(e)]):i=8);t.children=e,t.shapeFlag|=i}function zh(...t){const e={};for(let i=0;i<t.length;i++){const r=t[i];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=ur([e.class,r.class]));else if(n==="style")e.style=dr([e.style,r.style]);else if(pn(n)){const s=e[n],o=r[n];o&&s!==o&&!(gt(s)&&s.includes(o))&&(e[n]=s?[].concat(s,o):o)}else n!==""&&(e[n]=r[n])}return e}function se(t,e,i,r=null){he(t,e,7,[i,r])}const Kh=Ao();let Yh=0;function Xh(t,e,i){const r=t.type,n=(e?e.appContext:t.appContext)||Kh,s={uid:Yh++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new vl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fo(r,n),emitsOptions:Uo(r,n),emit:null,emitted:null,propsDefaults:At,inheritAttrs:r.inheritAttrs,ctx:At,data:At,props:At,attrs:At,slots:At,refs:At,setupState:At,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Lh.bind(null,s),t.ce&&t.ce(s),s}let Ut=null;const qo=()=>Ut||Jt;let fn,rr;{const t=vn(),e=(i,r)=>{let n;return(n=t[i])||(n=t[i]=[]),n.push(r),s=>{n.length>1?n.forEach(o=>o(s)):n[0](s)}};fn=e("__VUE_INSTANCE_SETTERS__",i=>Ut=i),rr=e("__VUE_SSR_SETTERS__",i=>zi=i)}const Xi=t=>{const e=Ut;return fn(t),t.scope.on(),()=>{t.scope.off(),fn(e)}},Xr=()=>{Ut&&Ut.scope.off(),fn(null)};function Wo(t){return t.vnode.shapeFlag&4}let zi=!1;function Zh(t,e=!1,i=!1){e&&rr(e);const{props:r,children:n}=t.vnode,s=Wo(t);Sh(t,r,s,e),Ah(t,n,i);const o=s?Qh(t,e):void 0;return e&&rr(!1),o}function Qh(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,uh);const{setup:r}=i;if(r){we();const n=t.setupContext=r.length>1?$h(t):null,s=Xi(t),o=Yi(r,t,0,[t.props,n]),a=Ya(o);if(xe(),s(),(a||t.sp)&&!Gi(t)&&bo(t),a){if(o.then(Xr,Xr),e)return o.then(l=>{Zr(t,l,e)}).catch(l=>{Sn(l,t,0)});t.asyncDep=o}else Zr(t,o,e)}else jo(t,e)}function Zr(t,e,i){pt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ft(e)&&(t.setupState=fo(e)),jo(t,i)}let Qr;function jo(t,e,i){const r=t.type;if(!t.render){if(!e&&Qr&&!r.render){const n=r.template||xr(t).template;if(n){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,f=Dt(Dt({isCustomElement:s,delimiters:a},o),l);r.render=Qr(n,f)}}t.render=r.render||le}{const n=Xi(t);we();try{fh(t)}finally{xe(),n()}}}const Jh={get(t,e){return Bt(t,"get",""),t[e]}};function $h(t){const e=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,Jh),slots:t.slots,emit:t.emit,expose:e}}function Pr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(fo(Bl(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in Ii)return Ii[i](t)},has(e,i){return i in e||i in Ii}})):t.proxy}function tc(t,e=!0){return pt(t)?t.displayName||t.name:t.name||e&&t.__name}function ec(t){return pt(t)&&"__vccOpts"in t}const ic=(t,e)=>jl(t,e,zi);function zo(t,e,i){const r=arguments.length;return r===2?Ft(e)&&!gt(e)?un(e)?ot(t,null,[e]):ot(t,e):ot(t,null,e):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&un(i)&&(i=[i]),ot(t,e,i))}const nc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sr;const Jr=typeof window<"u"&&window.trustedTypes;if(Jr)try{sr=Jr.createPolicy("vue",{createHTML:t=>t})}catch{}const Ko=sr?t=>sr.createHTML(t):t=>t,rc="http://www.w3.org/2000/svg",sc="http://www.w3.org/1998/Math/MathML",ge=typeof document<"u"?document:null,$r=ge&&ge.createElement("template"),ac={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,r)=>{const n=e==="svg"?ge.createElementNS(rc,t):e==="mathml"?ge.createElementNS(sc,t):i?ge.createElement(t,{is:i}):ge.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>ge.createTextNode(t),createComment:t=>ge.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ge.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,r,n,s){const o=i?i.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),i),!(n===s||!(n=n.nextSibling)););else{$r.innerHTML=Ko(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=$r.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,i)}return[o?o.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},oc=Symbol("_vtc");function lc(t,e,i){const r=t[oc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const ts=Symbol("_vod"),hc=Symbol("_vsh"),cc=Symbol(""),dc=/(^|;)\s*display\s*:/;function uc(t,e,i){const r=t.style,n=Lt(i);let s=!1;if(i&&!n){if(e)if(Lt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();i[a]==null&&sn(r,a,"")}else for(const o in e)i[o]==null&&sn(r,o,"");for(const o in i)o==="display"&&(s=!0),sn(r,o,i[o])}else if(n){if(e!==i){const o=r[cc];o&&(i+=";"+o),r.cssText=i,s=dc.test(i)}}else e&&t.removeAttribute("style");ts in t&&(t[ts]=s?r.display:"",t[hc]&&(r.display="none"))}const es=/\s*!important$/;function sn(t,e,i){if(gt(i))i.forEach(r=>sn(t,e,r));else if(i==null&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const r=fc(t,e);es.test(i)?t.setProperty(Me(r),i.replace(es,""),"important"):t[r]=i}}const is=["Webkit","Moz","ms"],Dn={};function fc(t,e){const i=Dn[e];if(i)return i;let r=te(e);if(r!=="filter"&&r in t)return Dn[e]=r;r=yn(r);for(let n=0;n<is.length;n++){const s=is[n]+r;if(s in t)return Dn[e]=s}return e}const ns="http://www.w3.org/1999/xlink";function rs(t,e,i,r,n,s=yl(e)){r&&e.startsWith("xlink:")?i==null?t.removeAttributeNS(ns,e.slice(6,e.length)):t.setAttributeNS(ns,e,i):i==null||s&&!Za(i)?t.removeAttribute(e):t.setAttribute(e,s?"":He(i)?String(i):i)}function ss(t,e,i,r,n){if(e==="innerHTML"||e==="textContent"){i!=null&&(t[e]=e==="innerHTML"?Ko(i):i);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=i==null?t.type==="checkbox"?"on":"":String(i);(a!==l||!("_value"in t))&&(t.value=l),i==null&&t.removeAttribute(e),t._value=i;return}let o=!1;if(i===""||i==null){const a=typeof t[e];a==="boolean"?i=Za(i):i==null&&a==="string"?(i="",o=!0):a==="number"&&(i=0,o=!0)}try{t[e]=i}catch{}o&&t.removeAttribute(n||e)}function gc(t,e,i,r){t.addEventListener(e,i,r)}function pc(t,e,i,r){t.removeEventListener(e,i,r)}const as=Symbol("_vei");function _c(t,e,i,r,n=null){const s=t[as]||(t[as]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=mc(e);if(r){const f=s[e]=bc(r,n);gc(t,a,f,l)}else o&&(pc(t,a,o,l),s[e]=void 0)}}const os=/(?:Once|Passive|Capture)$/;function mc(t){let e;if(os.test(t)){e={};let r;for(;r=t.match(os);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Me(t.slice(2)),e]}let Gn=0;const yc=Promise.resolve(),vc=()=>Gn||(yc.then(()=>Gn=0),Gn=Date.now());function bc(t,e){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;he(Sc(r,i.value),e,5,[r])};return i.value=t,i.attached=vc(),i}function Sc(t,e){if(gt(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const ls=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Cc=(t,e,i,r,n,s)=>{const o=n==="svg";e==="class"?lc(t,r,o):e==="style"?uc(t,i,r):pn(e)?lr(e)||_c(t,e,i,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wc(t,e,r,o))?(ss(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&rs(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Lt(r))?ss(t,te(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),rs(t,e,r,o))};function wc(t,e,i,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ls(e)&&pt(i));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ls(e)&&Lt(i)?!1:e in t}const xc=Dt({patchProp:Cc},ac);let hs;function Ac(){return hs||(hs=Rh(xc))}const Tc=(...t)=>{const e=Ac().createApp(...t),{mount:i}=e;return e.mount=r=>{const n=Pc(r);if(!n)return;const s=e._component;!pt(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=i(n,!1,Rc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Rc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Pc(t){return Lt(t)?document.querySelector(t):t}const Ec=""+new URL("img-head-D3g3M7kS.png",import.meta.url).href,cs=""+new URL("animal-case-group-B4y03hCF.png",import.meta.url).href,ds="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATfSURBVHgB1VVbbBRVGP7Pmdl7d7qz3cKytkDB4lJT2FIVuQiFRkhQy4PWpgRNNCb18mCIGKOILwYvwZAQJfGhJARQUWIqQrgoXUxIIE2hUCihF7CUbbssS5futjs713M8O7UGsCV23/ySycycy/+d778dgP8D9p444SovKSIrQ2VSMOAfKi8p/rOxsXEWpRQ9uJaHHNHU1OT54t23L4qCgCgFx7RCr4MNe/d9s6O3v7u7iH0P3ruegxwx3U73P73AX3mpc5Dj+fvMoJ7r18sDwVDM4i764fW6mvNnWlpiCHLE7t2H3LXBSDJl6HTNKzuQy25DDp7QNLFQPZME28Ja0JQMljVKrzY34pyJvvp8a2V9hbuVGgSEPAeKqxlS+3UU3Y1cIb7iMo4YKiWGYdrPJ9H5GHJEkda3L6XqYLXwSFY0qP+kmWBiIDFQysX6rhhUSZLxtZfPX8zPmUgU3C4HIDh7uddwii6IohmcqsiwdNkSuuHN95kijZoLEYK6uprBnIkOnYs0FAZEWFExlzvc3Gb4Cz0oFHqcuPILEM9bQFKQaRthK+zatas/ZyIuEOzY81F4GAsuuuWXYRSP9JC55YuZPQSqnKZCwXTTdjwWZaIQzZmoorU7UlFcJDZt+QO4fA+y2qxUGhk258KHvjcMTTG/sT7aa75himBVj5fbPZ+Wl84j7bcGaEmBAG6LFU0r9JkxceYJkJT0fwrL60LbTA/AFDG7qsrWYC347acr543KwEyuIxEnF4gVl4cWgdPtQYlYhMRvDzEBFAzWeNpPHVifk6LUx19KoxkF1pbM5zDLqGN37lLAPARmz8NMLfz+689M9VhmJ27diI/3vSkRvdPQUF0ZLKMDCyTDsd5DtYxBO22FOH03TnTNALvDCS5vYMwmc+RTpQVvZBMh+/vQppo9zWvPLmr02JGLc+UdnnP15v7TxTb9rVAVr6ganLO0Gx5xJifwqk6ogU8fPcBaATHDcSeRpG3HfzyM0H54KBEj4T5YVaLF0zbSZlvLoTSqS6E0pdeSuG3nSb3MB+jGTeY7tworamp53mqHSHQIuwXR3G9NRk7ca4+fhAQ/F5y154XFPnR86BnOa5ON5etexlomTS+eDdP23pv46oiADaySWaJTVxSFjw/2ESHfa8aJtzngWteZdeNum5Ro06YPZ9csm7FRktKsfyl4Vc1GTkqPsIjyKLRsDVQsB3C4BNA1FSuZDM52guajRyBP9Jn7o72dXZCtXDNSY5gwGRJ9Z6oGbg9Tm4UDyjoJoeQBxQDSaAqyvQ2xC4Bj95G7wG/aYj6k2957cQ1Tc9+mCa+JkfB2AzvycP2mndT+5Kswb+ESlK10QshEy0GWUuR0OGy6Ld7fD/0dxya+yrdWrz8YtAorRZvDlVqqOSUN4GRrG+nzVmO9oxPaL1wiVGeDoJGsSkHwGE5B4ATRZ8ijKb6rqwfxHKYOwYssdGTvRIdBG0qfmPPZ8y/1jMoZU7oq6dCidGrfjgQs2JDhvyKbdayYaP3qR8s2b97c+eA8/q67tXc7iS490nUpHBscBL8owIUBFU+FJAtdlSER7ycTkZgH+TsFW9hTPT74yGNLTk0r8VfBlIAgERvgJp+dBP6y1Qd902e4iUGMsRGKFFlWOQv/74xgSSLJiiPSduS+2rkXfwHo+Cii6Ww2qgAAAABJRU5ErkJggg==",us=""+new URL("baby-group-CBGg1Hh_.png",import.meta.url).href,fs=""+new URL("baby-stroller-group-Ll2eVpka.png",import.meta.url).href,gs=""+new URL("baby-gwESQkam.png",import.meta.url).href,ps=""+new URL("bag-group-D_yyytON.png",import.meta.url).href,_s=""+new URL("balo-group-XPAjMwJN.png",import.meta.url).href,ms=""+new URL("bike-group-CaJYhgOQ.png",import.meta.url).href,ys=""+new URL("box-group-CeaTcZKr.png",import.meta.url).href,vs=""+new URL("car-C5PSHbB6.png",import.meta.url).href,bs=""+new URL("dad-group-CBrJIYTj.png",import.meta.url).href,Ss=""+new URL("dad-ducA0zjE.png",import.meta.url).href,Cs=""+new URL("golf-bag-group-CwUOYnu_.png",import.meta.url).href,ws=""+new URL("grand-father-group-C8PvfxXW.png",import.meta.url).href,xs=""+new URL("grand-mother-group-B2kTB5eC.png",import.meta.url).href,As=""+new URL("img-head-D3g3M7kS.png",import.meta.url).href,Ts=""+new URL("kid-bike-group-DmGrh5fv.png",import.meta.url).href,Rs=""+new URL("kid-bike-BpskyRKL.png",import.meta.url).href,Ps=""+new URL("kid-boy-group-Ejbonrpd.png",import.meta.url).href,Es=""+new URL("kid-boy-DTsoHpsx.png",import.meta.url).href,Fs=""+new URL("kid-girl-group-Cs4uJaeM.png",import.meta.url).href,Ms="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAThSURBVHgBrZZJbBtlFMf/s9vjLXYau3ZWp2lESEQpRWC60kMroIK2AiGkpkgckECqChxQxYGekIp6AKqKA+FSsV5oEBJVJQil3EKUlqIuTk0Smjr1UseOt9hjz8Y3TlKSlkgzEs8ajf3m+Tfv/d83bz7gfzbKYpy9vb07JghCSFXVeq1WvZpIxF8k/llyaJaAgiA+2xXeeE5Vair5yRhOXYcqiiITjf65VVGUMeJSzQLRu6Hntt1ma8sUKpTDLhgwLEJ1lWFYJha71mDRJnnM7if62i+eeYd6tCeAuqxDUWQYTIqiGJZlQTJ9zgpQnbydUXRJwbnvjkOq5FGrKwj67ASuNuBEkuetAPHqvscZT1sA+dgsUtEzmM+lcWH4faRT2cZ1ilrsB2OCZQSGKVZ8e8+TvWhyiKjOFTDQ04mjx89ggbSBZxt5eUqlwmkzQKxb5/9w4nZ2i7RQoTK5IjYPhOFxipiIJxCdyoLnGDgcruZMJvWRqZJJ8H6/14nh3yZw+L0hVHkaDFfHy/27UNdqjRiyLnW327vDFJBhGAdZHpivFHD+3Q9w+ZsErp8FIqEIqqV5sDQDTVPgcjn7zACpubnUEY7jKadgxzObIqqXbULA70Iim8Ts6e8xlb5DFiTpCsVwpjIsFotfTk5GvWFefE0mCd/JZ9HmawFD0ahXF/DZK2/oNULMZnMXWBO8pWcC+cjGgW2aXIOqa5DkesOpapou8DYqkYr/oFTLY6bXoWGPdW18Kl3Iws26wEIg2tLwiA7q6vTNIaVcPkBCaDMZ3rO+9nCXCCdKHeOY4QtIXtMRaPIiXZ6fWgrRrADF7rawY/zKVex6fQCzt9LoKD4Mp8cGgeX8y0FmS6Y6PB1CPlmCf2cZgseO2IgKla01nqO7xdy0VaAeiYReWj8oIdTmxU+fTGPbhkegaBo43oZ0Pv/XcuD9JS/PR6OznCi2t+hU8+DZT/ce3ntgZ/+pj8e1Wzds9JZOB379+yZ8HIu8VMN0LhtfC4i+vu2DBw8e+9zlCpFlHMNbRzh8PRTF4NEcujt2UO6HasTLgoxEyJqOdGxqJplNTqxVsn7o0IkvNE3lJ2Jj2BoYxptHf8cfdyMIt3qgqwvQFAW6IoFVJdh1CX6ny7sSsCpDl6u11253olzOUT0b+jF0KYhguwMqARhqLI/9ZRMEh3blysjomkAyxr0aEZplOVwa/xHBYI+eTsk5iYxot7vZGwh0+xiGa1w3blAoZLTz50+/sFSp9gCQ5zne6IeqygiHN6GzczN18uS+bYkE6cC/CRgzVFhqXGnJp/1nhjzvbCb6Ne5uvCdkuUrKl7UVIcrSUbvPd8/o1ZrY/GRQNr7rZAAYM1CWsxVYsFVAm83etJghqYFoSV6RRC9WggVbBeR5l9/Qj3AaE5i8wA236c3AA0C329elqgoB0kRDA8iRM2eHBVsFbGnp6jWANJlqNE0TTe1wOn3rYMFWdblUmkMuFye6CWTsz2F0dLiSyUzegAWjV5xdrJ7jgqF+ArSjtcWN4sIcQ+apBxasAewNdwwq8yPFBTnbW4ifwuXr32Lsxs9KpR6vo0w+Fox6es/BYz5/54n4rWk9GFpPG9qRjSTZs8yOXB79ZQ8WZVFMA8nRun33/q+MP6VT8YvJ5ExUkdRLkpSfwYpn1Kz9AwhRA/FvHrewAAAAAElFTkSuQmCC",ks="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAABGCAYAAABc3M0+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdySURBVHgB3VtJjxtFFH61te3xNh48WUgmGSYLEIE4IAgiEK75E7kjuEaKhISEIm4QTlwCEmdQuETiwgWJKOTAERFALFEgk2SyMZ4k4/Haxaul29XtduKecRybF1Xs7n716qtXr76qar8hMALZsbD0ytlvv/tx+epV2L13Ebq+36eTzeTgwvnv4c03Xodjr74wu7q6ugaTIKXS/IEr95ty8cChw5VKpZxUqtVq8dDLR078euOOxCocti6E7H/ptZPvnDh5SnZbbdAOk2lNYBWfrNXWeLFc7lBKuolq+K/dbon19XVWLlfaWCllQz1TT1XnxekP33+LvP3BJ/LY0cOy2WwTDWSo6pC6jyOzh7qUMv9+rXaed5pN8H1Jbq3eA8YYNJsN7RTjl2SL7W4Xsl4GdXytIZXyJh2p6yMizqi2M8iWup/NzcCDeh0Wdm6ja/dqLR17KlquLS/DmTOfQbkyB1xkwMt4wDnv9wpetzc2oFargYcdEB7qqSI8oEMOnCutRgPu3r4JM4UiCGFsqU8djbFethrrcPz4cWhhhFNgZuJkEMSlXy7BwjP7YGlpETzuQSaLHfAEEEojjfnIJCvXr0O90YR8fgay2SzqZnEkEDyOXBqhaHv5n6uA8xnm5ueRkTLGXoItSihcW7kFl//6A/YsPK3vGc/jkHjYWx1P2GXCCBom2jjpcyfV96nVZbboeyldz4I2tFW8JlTbTLJFtC4C5iIMK0tZ5oIRpuOeU6ZDRpXoHCYgqY/xydAQB8aZLoEu1aM0fOyrtlQhqk0elMAWiXWU9sLYSsi3RHnQqSwEx9Hg+r4MoauwkaZRpcusLn4X+MnUpIPhxQBSzsII1raMHdW2eiZjugK9TmQMfHBtgKARj1sjIjJxQvAaOOvpo1HdYErwwQhTFrXjYbvK833gRXRtc8KGmJBRlW3vVSHuOKlRwAmrGuG8o5/3Rkno+lKmCxsz0qZdLozDhA4bBm4IKseoZ24c97pCVdiI0JtK0dOej8aemtwiiHXbuGc7ylKyjQLEdbi5IYPgkeVYjOUYdkbj8Tv94BXEwAC3wEUMvPra7frGS47HFS8rtqKcplp5A8+bT2FGXDkDv1MWBa8WMdWpbqObAN5OWBHEsQVGIlFDoItsI8IGuTNSxntpw0bbCpjGsw7xuOF5x5ZxLIInjX7wyvecB3Fnei8s27hCqTQswwzbBHND6JinkEZYQJGBLe7ZEBSWdl1dE/ONOFVKM1+tkd4k8vQEgTAUdNgg23DX804HeMoJyy3dBhzOOQ1HUjOXjOliITJpwqJQy9s9CmR9PE8RPGWGn1nAFEG9lFQp1GJnixuGPIHndcyrRcoZkGjMM2qMOF6N8jwBP1hh9SpLw4VN2IUrtefR24pJlE0WrOz2u3TgC+ss8OPgpYFm9hTUrqAGWHR3gPB9V880HHSaxSbZo4RpBzC9IIU2aLKtcCvhODMaNnZDZDZeZpMUpUqil2etQ2jYiV5HaDq2UcB1G1QXbTfoQMyWaYdFQqkXQbL3ORiA7A2lTHiW8kAiY0ak+3/cVsLhiIYPCPTRYpJs4rzx2MSZuwEfPrzCKI+uWxUNXg9fwJ+ThO4Rkm5JnARxIqMX8zBZ8Zwo+s1C79LxvGL/SYdPB1xptpn0gI++A410hUyj50P+Hzt2t8FhRn2Q50n439iExF/FDVHDlRC82dOPF/xWZxiNvouc9Akb97y+7u3YJxt+wsbMPSmNM3C22haNWxun57ce81MssUVqusQ5SY0fevoWE3heH7lwX0MmnueTjoH2/uSfQwaBh5D0xybR1oZwXQyes7cZ9Y+rj5Zoa0M4Tg7Y2+jNDXmSfCNT60wQz6d3nAU/LYfYqFjwAWqS6l3j+CUx5mXiw/FKeqdFd5VPNGyGaXzQu8oplFjYTLrQwVfjX6bSSsLbAwN4Gnhy0AqrujCNPO/+YDZN8j85BpLx8/xo3h5IW6bujRkEv8pNPlHGJRbzUzthh/H6450YaS3zoJIv/b40FC8hZYUTHuYcCJ0vw8L8MJ4yZUUnX2Adyk0iRpj+YrM+Iro2N0fldRIXfLvTgbnZMvz+52V4sF7XyZ75mbxO0qQ6+8LZMuN+/8bNO3ALy81SEQoFo5vL5kyyUERXLecUwpQ89wcMafIyV27fhSt/L0Oj5UMebRVmZiCby9mUL+fne8Kw3RV4qljUHTCORAN+pw1LB55D0AVoNJs64bPTqMN6cyPRY4VsBrK7tpu8AdW5dhM2Oi3YjMx4Ap4/uK+XFBHYCjIkws5KmC8XYLa6zaSu4D6HE+ZBda4iM55HFndt04DkEPFPLDs9VNNt/CGi2vSHOMGpl2MqYQPB+yyX8/j5b86eKpfK71HZ7Wz2BCilT++trcpSaVZSzvxEHbzbbje9jfW6LFUq3c2ysgSf5AtF8fXnn54eCXUUq9Vnf75847ejL+4/Uq/Xf0rSyefzncr2Pe9+de7cxwd3VNS4d2GLMoo/f4DZ0lzpzr81+dEXX/6wc/denFD9uLJZDy5euAiNDkClUilMzN+MPCn5D6WzDMRazT56AAAAAElFTkSuQmCC",Ns=""+new URL("lie-boy-group-DmbzrcHm.png",import.meta.url).href,Os=""+new URL("seat-left-DnJ24FWU.png",import.meta.url).href,Ls=""+new URL("seat-right-BzmTKZwO.png",import.meta.url).href,Ds=""+new URL("storage-box-group-BET2UCrU.png",import.meta.url).href,Gs=""+new URL("surfboard-group-BRTh66ni.png",import.meta.url).href,Is=""+new URL("vali-group-1o3nKp_Y.png",import.meta.url).href,Us=""+new URL("vali-DPXTW9W0.png",import.meta.url).href,Bs=""+new URL("volang-BQq9TpFz.png",import.meta.url).href,Vs=""+new URL("wife-group-DzAKGI4a.png",import.meta.url).href,Hs=""+new URL("wife-BLEeoTDN.png",import.meta.url).href,dt=35,mt=35,$i=430,In=25*dt,Rt=80,ut=10;let Fc=4;const Mc={blockSize:dt,baseWidth:$i,baseHeight:In,padding:Fc,grid:function(){const t=[];for(let e=0;e<$i/mt;e++)t.push({points:[Math.round(e*mt),0,Math.round(e*mt),In],stroke:"#ddd",strokeWidth:1,opacity:.4});for(let e=0;e<In/mt;e++)t.push({id:`horizontal-${e}`,points:[0,Math.round(e*mt)+.5,$i,Math.round(e*mt)+.5],stroke:"#ddd",strokeWidth:1,opacity:.4});return t},head:{background:{x:0,y:0,width:$i,height:6*mt+30,fillLinearGradientStartPoint:{x:0,y:0},fillLinearGradientEndPoint:{x:0,y:6*mt},fillLinearGradientColorStops:[.6,"white",1,"#ffffffb4"]},filter:{group:{x:mt/2,y:mt/2},background:{width:9*mt,height:1*mt,fill:"#f2f2f2",opacity:1,cornerRadius:2*mt},activeBackground:{x:0*mt,width:3*mt,height:1*mt,fill:"#15668E",cornerRadius:mt},all:{group:{x:0,y:0},rect:{width:3*mt,height:1*mt},text:{y:14,width:3*mt,text:"ดูทั้งหมด",align:"center",fill:"white"}},people:{group:{x:3*mt,y:0},rect:{width:3*mt,height:1*mt},text:{y:14,width:3*mt,text:"ดูทั้งหมด",align:"center",fill:"black"}},items:{group:{x:6*mt,y:0},rect:{width:3*mt,height:1*mt},text:{y:14,width:3*mt,text:"ดูทั้งหมด",align:"center",fill:"black"}}},buttonPrev:{group:{x:mt*10.5,y:mt/2+18},circle:{width:30,height:30,fill:"#e2e2e2"},icon:{x:-4,y:-6,scaleX:1,scaleY:1,data:"M6.55566 0.944458L1.50011 6.00001L6.55566 11.0556",fill:"transparent",stroke:"black"}},buttonNext:{group:{x:mt*11.5,y:mt/2+18},circle:{width:30,height:30,fill:"#B0D0E0"},icon:{x:-4,y:-6,scaleX:1,scaleY:1,data:"M1.44434 0.944458L6.49989 6.00001L1.44434 11.0556",fill:"transparent",stroke:"black"}}},car:{group:{x:mt,y:2*mt},shadow:{x:3*dt,y:0,width:7*dt,height:20*dt,fill:"red",cornerRadius:dt,shadowColor:"#124057",shadowBlur:80,shadowOffset:{x:0,y:0},shadowOpacity:1},groupItem:{x:2*mt},body:{image:null,x:0,y:-.5*dt,width:9*dt,height:9*dt/.43,opacity:1},volang:{image:null,x:3.15*dt,y:4.4*dt,width:6.65*dt,opacity:1},seat1:{image:null,x:2*dt,y:6*dt,width:2*dt,height:3*dt,opacity:1},seat2:{image:null,x:5*dt,y:6*dt,width:2*dt,height:3*dt,opacity:1},seat3:{image:null,x:2*dt,y:10*dt,width:2*dt,height:3*dt,opacity:1},seat4:{image:null,x:5*dt,y:10*dt,width:2*dt,height:3*dt,opacity:1}},dropZones:[{id:"1",x:5*dt,y:8*dt,width:2*dt,height:2*dt,fill:"transparent",opacity:.2},{id:"2",x:8*dt,y:8*dt,width:2*dt,height:2*dt,fill:"transparent",opacity:.2},{id:"3",x:5*dt,y:12*dt,width:2*dt,height:2*dt,fill:"transparent",opacity:.2},{id:"4",x:8*dt,y:12*dt,width:2*dt,height:2*dt,fill:"transparent",opacity:.2},{id:"5",x:6*dt,y:15*dt,width:3*dt,height:6*dt,fill:"transparent",opacity:.2}],slider:{group:{x:mt,y:mt*2},perMove:dt*10},item:{shadow:{x:0,y:0,width:dt,height:dt,opacity:.6,fill:"#ff56566e",stroke:"#ff56566e",strokeWidth:3,dash:[20,2],visible:!1},text:{y:55,x:0,width:mt*2,align:"center",fontSize:8,fontWeight:"bold"}},items:[{groupConfig:{id:"people|dad|1,2,3,4",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:10,y:-(dt/2),width:54,height:84},imageName:"dad-group.png",imageDragName:"dad.png",type:"people",size:[2,2]},{groupConfig:{id:"people|wife|1,2,3,4",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:10,y:-(dt/2),width:54,height:84},imageName:"wife-group.png",imageDragName:"wife.png",type:"people",size:[2,2]},{groupConfig:{id:"people|kidboy|1,3,4",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:10,y:-(dt/2),width:54,height:84},imageName:"kid-boy-group.png",imageDragName:"kid-boy.png",type:"people",size:[2,2]},{groupConfig:{id:"people|kidboy|1,2,3,4",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:10,y:-(dt/2),width:54,height:84},imageName:"kid-girl-group.png",imageDragName:"kid-girl.png",type:"people",size:[2,2]},{groupConfig:{id:"people|kidboy|1,2,3,4",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:10,y:5,width:48,height:68},imageName:"baby-group.png",imageDragName:"baby.png",type:"people",size:[2,2]},{groupConfig:{id:"people|grandfather|1,3,4",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:10,y:5,width:48,height:68},imageName:"grand-father-group.png",imageDragName:"grand-father.png",type:"people",size:[2,2]},{groupConfig:{id:"people|grandfather|1,3,4",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:10,y:5,width:48,height:68},imageName:"grand-mother-group.png",imageDragName:"grand-mother.png",type:"people",size:[2,2]},{groupConfig:{id:"item|box,5",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:5,y:5,width:54,height:84},imageName:"box-group.png",imageDragName:"box.png",type:"item",size:[1,5]},{groupConfig:{id:"item|vali|5",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:5,y:5,width:54,height:84},imageName:"vali-group.png",imageDragName:"vali.png",type:"item",size:[2,3]},{groupConfig:{id:"item|surfboard|5",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:5,y:5,width:54,height:84},imageName:"surfboard-group.png",imageDragName:"surfboard.png",type:"item",size:[1,3]},{groupConfig:{id:"item|bike|5",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:-8,y:20,height:105,width:52},imageName:"bike-group.png",imageDragName:"bike.png",type:"item",size:[1,4]},{groupConfig:{id:"item|kidbike|5",draggable:!0},image:{image:null,x:ut,y:ut,width:Rt-ut,height:Rt-ut},imageDrag:{x:-8,y:20,height:105,width:52},imageName:"kid-bike-group.png",imageDragName:"kid-bike.png",type:"item",size:[1,4]}]},kc={__name:"layout1",setup(t){const e=St(Mc),i=St(),r=St(),n=St(),s=St(),o=St(),a=St(),l=St(),f=St(),c=St(),p=St(),m=St(),u=St(),g=e.value.blockSize,v=e.value.baseWidth,b=e.value.baseHeight,A=e.value.padding,h=St(e.value.item.shadow),d={width:v,height:b};let y=St(v);St(b);let C=St(g),T=St(e.value.car.body),k=St(e.value.car.volang),E=St(e.value.car.seat1),N=St(e.value.car.seat2),x=St(e.value.car.seat3),F=St(e.value.car.seat4),D=St(e.value.dropZones);St(e.value.grid());let _=()=>f.value.filter(B=>B.getNode().find("Rect")[0].fill()=="red"),w=()=>c.value.filter(B=>B.getNode().fill()=="green"),S=()=>_().length>0,R=()=>w().length==1,P=St(e.value.slider.perMove),I=St(0);const X=St((()=>{let B=[],G=10,H=80,Z=0,z=0;return e.value.items.forEach(function(W,Y){W.groupConfig.id=="item|box,5"&&(Z=1,z=0),W.groupConfig={...W.groupConfig,x:z*H,y:Z*H},W.rect={x:0,y:0,width:H+G,height:H+G},z++,B.push(W)}),B})());function K(){o.value.getNode().find("Group").forEach(function(B,G){B.visible(!1)})}function Q(){if(I.value==0)return;const B=o.value.getNode();I.value++,B.to({x:B.x()+P.value,y:B.y(),duration:.3}),$()}function j(){if(I.value==-1)return;const B=o.value.getNode();I.value--,B.to({x:B.x()-P.value,y:B.y(),duration:.3}),$()}function $(){const G=a.value.getNode().find("Circle")[0],Z=l.value.getNode().find("Circle")[0];I.value==0?(Z.fill("#B0D0E0"),G.fill("#e2e2e2")):(Z.fill("#e2e2e2"),G.fill("#B0D0E0"))}const rt=async(B,G)=>{const H=B.target,Z=B.target.find("Rect")[0];B.target.find("Text")[0];const z=B.target.find("Image")[0],W=X.value[G];Z.width(W.size[0]*C.value-A*2),Z.height(W.size[1]*C.value-A*2),z.to({x:W.imageDrag.x,y:W.imageDrag.y,width:W.imageDrag.width,height:W.imageDrag.height}),ht(z,G,"imageDragName"),H.moveToTop(),h.value.visible=!0},nt=(B,G)=>{const H=B.target,Z=H.find("Rect")[0],z=H.find("Image")[0];if(H.find("Text")[0],!S()&&R())H.moveTo(p.value.getNode()),H.position({x:Math.round((H.x()+P.value*I.value)/C.value)*C.value,y:Math.round(H.y()/C.value)*C.value}),u.value.getNode().moveToTop();else{const W=X.value[G];H.moveTo(o.value.getNode()),H.to({x:W.groupConfig.x,y:W.groupConfig.y,duration:.3}),Z.to({width:2*C.value-A*2,height:2*C.value-A*2,duration:.3}),z.to({x:W.image.x,y:W.image.y,width:W.image.width,height:W.image.height}),ht(z,G,"imageName")}_().forEach(W=>W.getNode().find("Rect")[0].fill("transparent")),w().forEach(W=>W.getNode().fill("transparent")),h.value.visible=!1},L=B=>{const G=B.target,H=G.find("Rect")[0],Z=G.id();h.value.width=H.width(),h.value.height=H.height(),h.value.x=Math.round(G.x()/C.value)*C.value+A,h.value.y=Math.round(G.y()/C.value)*C.value+A,f.value.forEach(z=>{let W=z.getNode(),Y=W.find("Rect")[0];W!=G&&(J(Y.getClientRect(),s.value.getNode().getClientRect())?W.find("Rect")[0].fill("red"):W.find("Rect")[0].fill()=="red"&&W.find("Rect")[0].fill("transparent"))}),c.value.forEach(z=>{let W=z.getNode(),Y=W.id();W!=G&&(V(s.value.getNode().getClientRect(),W.getClientRect())&&Z.includes(Y)?W.fill("green"):W.fill("transparent"))}),!S()&&R()?(h.value.fill="#28fa2878",h.value.stroke="#28fa2878"):(h.value.fill="#ff56566e",h.value.stroke="#ff56566e")};function V(B,G){return B.x-4<G.x-B.width+G.width&&B.x-B.width+B.width>G.x-4&&B.y-4<G.y-B.height+G.height&&B.y-B.height+B.height>G.y-4}function J(B,G){return!(G.x+4>B.x+B.width||G.x-4+G.width-4<B.x||G.y+4>B.y+B.height||G.y-4+G.height-4<B.y)}function et(B,G){let H=new URL(Object.assign({"../assets/images/animal-case-group.png":cs,"../assets/images/baby-group copy.png":ds,"../assets/images/baby-group.png":us,"../assets/images/baby-stroller-group.png":fs,"../assets/images/baby.png":gs,"../assets/images/bag-group.png":ps,"../assets/images/balo-group.png":_s,"../assets/images/bike-group.png":ms,"../assets/images/box-group.png":ys,"../assets/images/car.png":vs,"../assets/images/dad-group.png":bs,"../assets/images/dad.png":Ss,"../assets/images/golf-bag-group.png":Cs,"../assets/images/grand-father-group.png":ws,"../assets/images/grand-mother-group.png":xs,"../assets/images/img-head.png":As,"../assets/images/kid-bike-group.png":Ts,"../assets/images/kid-bike.png":Rs,"../assets/images/kid-boy-group.png":Ps,"../assets/images/kid-boy.png":Es,"../assets/images/kid-girl-group.png":Fs,"../assets/images/kid-girl.png":Ms,"../assets/images/lie-bag.png":ks,"../assets/images/lie-boy-group.png":Ns,"../assets/images/seat-left.png":Os,"../assets/images/seat-right.png":Ls,"../assets/images/storage-box-group.png":Ds,"../assets/images/surfboard-group.png":Gs,"../assets/images/vali-group.png":Is,"../assets/images/vali.png":Us,"../assets/images/volang.png":Bs,"../assets/images/wife-group.png":Vs,"../assets/images/wife.png":Hs})[`../assets/images/${G}`],import.meta.url).href,Z=new Image;Z.onload=function(){B.image=Z},Z.src=H}function lt(){f.value.forEach(function(B,G){let H=B.getNode().find("Image")[0];ht(H,G,"imageName")})}function ht(B,G,H){let Z=X.value[G],z=Z.image;H=="imageDragName"&&(z=Z.imageDrag);let W=new URL(Object.assign({"../assets/images/animal-case-group.png":cs,"../assets/images/baby-group copy.png":ds,"../assets/images/baby-group.png":us,"../assets/images/baby-stroller-group.png":fs,"../assets/images/baby.png":gs,"../assets/images/bag-group.png":ps,"../assets/images/balo-group.png":_s,"../assets/images/bike-group.png":ms,"../assets/images/box-group.png":ys,"../assets/images/car.png":vs,"../assets/images/dad-group.png":bs,"../assets/images/dad.png":Ss,"../assets/images/golf-bag-group.png":Cs,"../assets/images/grand-father-group.png":ws,"../assets/images/grand-mother-group.png":xs,"../assets/images/img-head.png":As,"../assets/images/kid-bike-group.png":Ts,"../assets/images/kid-bike.png":Rs,"../assets/images/kid-boy-group.png":Ps,"../assets/images/kid-boy.png":Es,"../assets/images/kid-girl-group.png":Fs,"../assets/images/kid-girl.png":Ms,"../assets/images/lie-bag.png":ks,"../assets/images/lie-boy-group.png":Ns,"../assets/images/seat-left.png":Os,"../assets/images/seat-right.png":Ls,"../assets/images/storage-box-group.png":Ds,"../assets/images/surfboard-group.png":Gs,"../assets/images/vali-group.png":Is,"../assets/images/vali.png":Us,"../assets/images/volang.png":Bs,"../assets/images/wife-group.png":Vs,"../assets/images/wife.png":Hs})[`../assets/images/${Z[H]}`],import.meta.url).href,Y=new Image;Y.onload=function(){B.image(Y),B.width(z.width),B.height(z.height)},Y.src=W}function M(){et(T.value,"car.png"),et(k.value,"volang.png"),et(E.value,"seat-left.png"),et(N.value,"seat-right.png"),et(x.value,"seat-left.png"),et(F.value,"seat-right.png")}const O=()=>{if(!n.value||!i.value)return;const B=n.value.offsetWidth,G=n.value.offsetHeight,H=B/v,Z=G/b,z=Math.min(H,Z);let W=i.value.getNode();W.width(v*z),W.height(b*z),W.scale({x:z,y:z}),W.batchDraw()},U=()=>{let B=i.value.getNode().toJSON();console.log(B)};return wn(async()=>{O(),M(),lt(),window.addEventListener("resize",O)}),(B,G)=>{const H=me("v-rect"),Z=me("v-image"),z=me("v-group"),W=me("v-text"),Y=me("v-circle"),it=me("v-path"),tt=me("v-layer"),st=me("v-stage");return Le(),nn("div",{ref_key:"container",ref:n,class:"stage-container"},[ot(st,{ref_key:"stageRef",ref:i,config:d},{default:Ot(()=>[ot(tt,{ref_key:"mainLayer",ref:r},{default:Ot(()=>[ot(z,{ref_key:"groupCarRef",ref:p,config:e.value.car.group},{default:Ot(()=>[ot(H,{config:e.value.car.shadow,listening:!1},null,8,["config"]),ot(z,{config:e.value.car.groupItem},{default:Ot(()=>[ot(Z,{ref_key:"carRef",ref:m,config:It(T),listening:!1},null,8,["config"]),ot(Z,{ref:"",config:It(E),listening:!1},null,8,["config"]),ot(Z,{ref:"",config:It(N),listening:!1},null,8,["config"]),ot(Z,{ref:"",config:It(x),listening:!1},null,8,["config"]),ot(Z,{ref:"",config:It(F),listening:!1},null,8,["config"])]),_:1},8,["config"]),ot(Z,{ref_key:"volangRef",ref:u,config:It(k)},null,8,["config"])]),_:1},8,["config"]),(Le(!0),nn(ie,null,Ur(It(D),at=>(Le(),Yr(H,{ref_for:!0,ref_key:"dropZonesRef",ref:c,key:at.id,config:at,listening:!1},null,8,["config"]))),128)),ot(z,null,{default:Ot(()=>[ot(H,{config:e.value.head.background},null,8,["config"]),ot(z,{config:e.value.head.filter.group},{default:Ot(()=>[ot(H,{config:e.value.head.filter.background},null,8,["config"]),ot(H,{config:e.value.head.filter.activeBackground},null,8,["config"]),ot(z,{config:e.value.head.filter.all.group},{default:Ot(()=>[ot(H,{config:e.value.head.filter.all.rect},null,8,["config"]),ot(W,{config:e.value.head.filter.all.text},null,8,["config"])]),_:1},8,["config"]),ot(z,{config:e.value.head.filter.people.group,onTap:K},{default:Ot(()=>[ot(H,{config:e.value.head.filter.people.rect},null,8,["config"]),ot(W,{config:e.value.head.filter.people.text},null,8,["config"])]),_:1},8,["config"]),ot(z,{config:e.value.head.filter.items.group},{default:Ot(()=>[ot(H,{config:e.value.head.filter.items.rect},null,8,["config"]),ot(W,{config:e.value.head.filter.items.text},null,8,["config"])]),_:1},8,["config"])]),_:1},8,["config"]),ot(z,{ref_key:"prevSliderRef",ref:a,config:e.value.head.buttonPrev.group,onTap:Q,onClick:Q},{default:Ot(()=>[ot(Y,{config:e.value.head.buttonPrev.circle},null,8,["config"]),ot(it,{config:e.value.head.buttonPrev.icon},null,8,["config"])]),_:1},8,["config"]),ot(z,{ref_key:"nextSliderRef",ref:l,config:e.value.head.buttonNext.group,onTap:j,onClick:j},{default:Ot(()=>[ot(Y,{config:e.value.head.buttonNext.circle},null,8,["config"]),ot(it,{config:e.value.head.buttonNext.icon},null,8,["config"])]),_:1},8,["config"])]),_:1}),ot(z,{ref_key:"groupSlider",ref:o,config:e.value.slider.group},{default:Ot(()=>[ot(H,{config:h.value,ref_key:"shadowRect",ref:s},null,8,["config"]),(Le(!0),nn(ie,null,Ur(X.value,(at,ct)=>(Le(),Yr(z,{config:at.groupConfig,key:ct,ref_for:!0,ref_key:"groupItemsRef",ref:f,onDragstart:ft=>rt(ft,ct),onDragend:ft=>nt(ft,ct),onDragmove:L},{default:Ot(()=>[ot(H,{config:at.rect},null,8,["config"]),ot(Z,{config:at.image},null,8,["config"])]),_:2},1032,["config","onDragstart","onDragend"]))),128))]),_:1},8,["config"]),ot(z,{config:{x:0,y:8*It(C)}},{default:Ot(()=>[ot(H,{config:{x:0,y:0,width:It(C)*4,height:It(C),fill:""}},null,8,["config"])]),_:1},8,["config"]),ot(z,{config:{x:0,y:23*It(C)}},{default:Ot(()=>[ot(H,{config:{x:0,y:0,width:It(y),height:2*It(C),fill:"#124057"}},null,8,["config"]),ot(z,{config:{x:It(C)/2+20,y:(2*It(C)-40)/2+20}},{default:Ot(()=>[ot(Y,{config:{x:0,y:0,radius:20,stroke:"white",strokeWidth:2}}),ot(it,{config:{x:-6,y:-6,data:"M7.78788 13H5.21212V7.78788H0V5.21212H5.21212V0H7.78788V5.21212H13V7.78788H7.78788V13Z",fill:"white",stroke:"white"}}),ot(W,{config:{x:30,y:-6,text:"ดูรูปแบบที่นั่งทั้ง 13 แบบเพิ่มเติม",fill:"white",fontSize:16}})]),_:1},8,["config"]),ot(z,{config:{x:9.5*It(C),y:21},onTap:U},{default:Ot(()=>[ot(it,{config:{data:"M22 14.2556C22 20.0546 17.299 24.7556 11.5 24.7556C5.70101 24.7556 1 20.0546 1 14.2556C1 8.45663 5.70101 3.75562 11.5 3.75562C14.2424 3.75562 16.7393 4.80697 18.6095 6.52862 M17.5 1.24438L19.1471 7.3915L13 9.03861",fill:"transparent",stroke:"white",scaleX:1,scaleY:1}}),ot(W,{config:{x:35,y:7,text:"รีเซ็ต",fill:"white",fontSize:16}})]),_:1},8,["config"])]),_:1},8,["config"])]),_:1},512),ot(tt,null,{default:Ot(()=>[ot(it)]),_:1})]),_:1},512)],512)}}},Nc={class:""},Oc={__name:"App",setup(t){return St(1),(e,i)=>(Le(),nn("div",Nc,[i[0]||(i[0]=jh('<div class="border-b border-[#f5f5f5]"><div class="px-5 max-w-[1320px] mx-auto lg:hidden"><div class="flex items-center"><div class="flex-1 text-[#15668E]"><p class="font-bold text-2xl">เลื่อน พับ<br>ปรับที่นั่ง</p><p class="text-xl">สะดวกสบาย<br>สไตล์ครอบครัวคุณ</p></div><div class="w-[210px]"><img src="'+Ec+'" alt=""></div></div></div></div>',1)),ot(kc),i[1]||(i[1]=Tr("div",{class:"h-screen"},null,-1))]))}};var qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var an={exports:{}},je={},Un={},Bn={},Ws;function yt(){return Ws||(Ws=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function i(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof qs<"u"?qs:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.16",isBrowser:i(),isUnminified:/param/.test((function(n){}).toString()),dblClickWindow:400,getAngle(n){return t.Konva.angleDeg?n*e:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var n;return(n=t.Konva.Transformer)===null||n===void 0?void 0:n.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(n){t.glob.Konva=n}};const r=n=>{t.Konva[n.prototype.getClassName()]=n};t._registerNode=r,t.Konva._injectGlobal(t.Konva)}(Bn)),Bn}var Vn={},js;function Mt(){return js||(js=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=yt();class i{constructor(y=[1,0,0,1,0,0]){this.dirty=!1,this.m=y&&y.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new i(this.m)}copyInto(y){y.m[0]=this.m[0],y.m[1]=this.m[1],y.m[2]=this.m[2],y.m[3]=this.m[3],y.m[4]=this.m[4],y.m[5]=this.m[5]}point(y){const C=this.m;return{x:C[0]*y.x+C[2]*y.y+C[4],y:C[1]*y.x+C[3]*y.y+C[5]}}translate(y,C){return this.m[4]+=this.m[0]*y+this.m[2]*C,this.m[5]+=this.m[1]*y+this.m[3]*C,this}scale(y,C){return this.m[0]*=y,this.m[1]*=y,this.m[2]*=C,this.m[3]*=C,this}rotate(y){const C=Math.cos(y),T=Math.sin(y),k=this.m[0]*C+this.m[2]*T,E=this.m[1]*C+this.m[3]*T,N=this.m[0]*-T+this.m[2]*C,x=this.m[1]*-T+this.m[3]*C;return this.m[0]=k,this.m[1]=E,this.m[2]=N,this.m[3]=x,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(y,C){const T=this.m[0]+this.m[2]*C,k=this.m[1]+this.m[3]*C,E=this.m[2]+this.m[0]*y,N=this.m[3]+this.m[1]*y;return this.m[0]=T,this.m[1]=k,this.m[2]=E,this.m[3]=N,this}multiply(y){const C=this.m[0]*y.m[0]+this.m[2]*y.m[1],T=this.m[1]*y.m[0]+this.m[3]*y.m[1],k=this.m[0]*y.m[2]+this.m[2]*y.m[3],E=this.m[1]*y.m[2]+this.m[3]*y.m[3],N=this.m[0]*y.m[4]+this.m[2]*y.m[5]+this.m[4],x=this.m[1]*y.m[4]+this.m[3]*y.m[5]+this.m[5];return this.m[0]=C,this.m[1]=T,this.m[2]=k,this.m[3]=E,this.m[4]=N,this.m[5]=x,this}invert(){const y=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),C=this.m[3]*y,T=-this.m[1]*y,k=-this.m[2]*y,E=this.m[0]*y,N=y*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),x=y*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=C,this.m[1]=T,this.m[2]=k,this.m[3]=E,this.m[4]=N,this.m[5]=x,this}getMatrix(){return this.m}decompose(){const y=this.m[0],C=this.m[1],T=this.m[2],k=this.m[3],E=this.m[4],N=this.m[5],x=y*k-C*T,F={x:E,y:N,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(y!=0||C!=0){const D=Math.sqrt(y*y+C*C);F.rotation=C>0?Math.acos(y/D):-Math.acos(y/D),F.scaleX=D,F.scaleY=x/D,F.skewX=(y*T+C*k)/x,F.skewY=0}else if(T!=0||k!=0){const D=Math.sqrt(T*T+k*k);F.rotation=Math.PI/2-(k>0?Math.acos(-T/D):-Math.acos(T/D)),F.scaleX=x/D,F.scaleY=D,F.skewX=0,F.skewY=(y*T+C*k)/x}return F.rotation=t.Util._getRotation(F.rotation),F}}t.Transform=i;let r="[object Array]",n="[object Number]",s="[object String]",o="[object Boolean]",a=Math.PI/180,l=180/Math.PI,f="#",c="",p="0",m="Konva warning: ",u="Konva error: ",g="rgb(",v={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},b=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,A=[];const h=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(d){setTimeout(d,60)};t.Util={_isElement(d){return!!(d&&d.nodeType==1)},_isFunction(d){return!!(d&&d.constructor&&d.call&&d.apply)},_isPlainObject(d){return!!d&&d.constructor===Object},_isArray(d){return Object.prototype.toString.call(d)===r},_isNumber(d){return Object.prototype.toString.call(d)===n&&!isNaN(d)&&isFinite(d)},_isString(d){return Object.prototype.toString.call(d)===s},_isBoolean(d){return Object.prototype.toString.call(d)===o},isObject(d){return d instanceof Object},isValidSelector(d){if(typeof d!="string")return!1;const y=d[0];return y==="#"||y==="."||y===y.toUpperCase()},_sign(d){return d===0||d>0?1:-1},requestAnimFrame(d){A.push(d),A.length===1&&h(function(){const y=A;A=[],y.forEach(function(C){C()})})},createCanvasElement(){const d=document.createElement("canvas");try{d.style=d.style||{}}catch{}return d},createImageElement(){return document.createElement("img")},_isInDocument(d){for(;d=d.parentNode;)if(d==document)return!0;return!1},_urlToImage(d,y){const C=t.Util.createImageElement();C.onload=function(){y(C)},C.src=d},_rgbToHex(d,y,C){return((1<<24)+(d<<16)+(y<<8)+C).toString(16).slice(1)},_hexToRgb(d){d=d.replace(f,c);const y=parseInt(d,16);return{r:y>>16&255,g:y>>8&255,b:y&255}},getRandomColor(){let d=(Math.random()*16777215<<0).toString(16);for(;d.length<6;)d=p+d;return f+d},getRGB(d){let y;return d in v?(y=v[d],{r:y[0],g:y[1],b:y[2]}):d[0]===f?this._hexToRgb(d.substring(1)):d.substr(0,4)===g?(y=b.exec(d.replace(/ /g,"")),{r:parseInt(y[1],10),g:parseInt(y[2],10),b:parseInt(y[3],10)}):{r:0,g:0,b:0}},colorToRGBA(d){return d=d||"black",t.Util._namedColorToRBA(d)||t.Util._hex3ColorToRGBA(d)||t.Util._hex4ColorToRGBA(d)||t.Util._hex6ColorToRGBA(d)||t.Util._hex8ColorToRGBA(d)||t.Util._rgbColorToRGBA(d)||t.Util._rgbaColorToRGBA(d)||t.Util._hslColorToRGBA(d)},_namedColorToRBA(d){const y=v[d.toLowerCase()];return y?{r:y[0],g:y[1],b:y[2],a:1}:null},_rgbColorToRGBA(d){if(d.indexOf("rgb(")===0){d=d.match(/rgb\(([^)]+)\)/)[1];const y=d.split(/ *, */).map(Number);return{r:y[0],g:y[1],b:y[2],a:1}}},_rgbaColorToRGBA(d){if(d.indexOf("rgba(")===0){d=d.match(/rgba\(([^)]+)\)/)[1];const y=d.split(/ *, */).map((C,T)=>C.slice(-1)==="%"?T===3?parseInt(C)/100:parseInt(C)/100*255:Number(C));return{r:y[0],g:y[1],b:y[2],a:y[3]}}},_hex8ColorToRGBA(d){if(d[0]==="#"&&d.length===9)return{r:parseInt(d.slice(1,3),16),g:parseInt(d.slice(3,5),16),b:parseInt(d.slice(5,7),16),a:parseInt(d.slice(7,9),16)/255}},_hex6ColorToRGBA(d){if(d[0]==="#"&&d.length===7)return{r:parseInt(d.slice(1,3),16),g:parseInt(d.slice(3,5),16),b:parseInt(d.slice(5,7),16),a:1}},_hex4ColorToRGBA(d){if(d[0]==="#"&&d.length===5)return{r:parseInt(d[1]+d[1],16),g:parseInt(d[2]+d[2],16),b:parseInt(d[3]+d[3],16),a:parseInt(d[4]+d[4],16)/255}},_hex3ColorToRGBA(d){if(d[0]==="#"&&d.length===4)return{r:parseInt(d[1]+d[1],16),g:parseInt(d[2]+d[2],16),b:parseInt(d[3]+d[3],16),a:1}},_hslColorToRGBA(d){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(d)){const[y,...C]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(d),T=Number(C[0])/360,k=Number(C[1])/100,E=Number(C[2])/100;let N,x,F;if(k===0)return F=E*255,{r:Math.round(F),g:Math.round(F),b:Math.round(F),a:1};E<.5?N=E*(1+k):N=E+k-E*k;const D=2*E-N,_=[0,0,0];for(let w=0;w<3;w++)x=T+1/3*-(w-1),x<0&&x++,x>1&&x--,6*x<1?F=D+(N-D)*6*x:2*x<1?F=N:3*x<2?F=D+(N-D)*(2/3-x)*6:F=D,_[w]=F*255;return{r:Math.round(_[0]),g:Math.round(_[1]),b:Math.round(_[2]),a:1}}},haveIntersection(d,y){return!(y.x>d.x+d.width||y.x+y.width<d.x||y.y>d.y+d.height||y.y+y.height<d.y)},cloneObject(d){const y={};for(const C in d)this._isPlainObject(d[C])?y[C]=this.cloneObject(d[C]):this._isArray(d[C])?y[C]=this.cloneArray(d[C]):y[C]=d[C];return y},cloneArray(d){return d.slice(0)},degToRad(d){return d*a},radToDeg(d){return d*l},_degToRad(d){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(d)},_radToDeg(d){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(d)},_getRotation(d){return e.Konva.angleDeg?t.Util.radToDeg(d):d},_capitalize(d){return d.charAt(0).toUpperCase()+d.slice(1)},throw(d){throw new Error(u+d)},error(d){console.error(u+d)},warn(d){e.Konva.showWarnings&&console.warn(m+d)},each(d,y){for(const C in d)y(C,d[C])},_inRange(d,y,C){return y<=d&&d<C},_getProjectionToSegment(d,y,C,T,k,E){let N,x,F;const D=(d-C)*(d-C)+(y-T)*(y-T);if(D==0)N=d,x=y,F=(k-C)*(k-C)+(E-T)*(E-T);else{const _=((k-d)*(C-d)+(E-y)*(T-y))/D;_<0?(N=d,x=y,F=(d-k)*(d-k)+(y-E)*(y-E)):_>1?(N=C,x=T,F=(C-k)*(C-k)+(T-E)*(T-E)):(N=d+_*(C-d),x=y+_*(T-y),F=(N-k)*(N-k)+(x-E)*(x-E))}return[N,x,F]},_getProjectionToLine(d,y,C){const T=t.Util.cloneObject(d);let k=Number.MAX_VALUE;return y.forEach(function(E,N){if(!C&&N===y.length-1)return;const x=y[(N+1)%y.length],F=t.Util._getProjectionToSegment(E.x,E.y,x.x,x.y,d.x,d.y),D=F[0],_=F[1],w=F[2];w<k&&(T.x=D,T.y=_,k=w)}),T},_prepareArrayForTween(d,y,C){let T,k=[],E=[];if(d.length>y.length){const x=y;y=d,d=x}for(T=0;T<d.length;T+=2)k.push({x:d[T],y:d[T+1]});for(T=0;T<y.length;T+=2)E.push({x:y[T],y:y[T+1]});const N=[];return E.forEach(function(x){const F=t.Util._getProjectionToLine(x,k,C);N.push(F.x),N.push(F.y)}),N},_prepareToStringify(d){let y;d.visitedByCircularReferenceRemoval=!0;for(const C in d)if(d.hasOwnProperty(C)&&d[C]&&typeof d[C]=="object"){if(y=Object.getOwnPropertyDescriptor(d,C),d[C].visitedByCircularReferenceRemoval||t.Util._isElement(d[C]))if(y.configurable)delete d[C];else return null;else if(t.Util._prepareToStringify(d[C])===null)if(y.configurable)delete d[C];else return null}return delete d.visitedByCircularReferenceRemoval,d},_assign(d,y){for(const C in y)d[C]=y[C];return d},_getFirstPointerId(d){return d.touches?d.changedTouches[0].identifier:d.pointerId||999},releaseCanvas(...d){e.Konva.releaseCanvasOnDestroy&&d.forEach(y=>{y.width=0,y.height=0})},drawRoundedRectPath(d,y,C,T){let k=0,E=0,N=0,x=0;typeof T=="number"?k=E=N=x=Math.min(T,y/2,C/2):(k=Math.min(T[0]||0,y/2,C/2),E=Math.min(T[1]||0,y/2,C/2),x=Math.min(T[2]||0,y/2,C/2),N=Math.min(T[3]||0,y/2,C/2)),d.moveTo(k,0),d.lineTo(y-E,0),d.arc(y-E,E,E,Math.PI*3/2,0,!1),d.lineTo(y,C-x),d.arc(y-x,C-x,x,0,Math.PI/2,!1),d.lineTo(N,C),d.arc(N,C-N,N,Math.PI/2,Math.PI,!1),d.lineTo(0,k),d.arc(k,k,k,Math.PI,Math.PI*3/2,!1)}}}(Vn)),Vn}var ze={},Hn={},Kt={},zs;function bt(){if(zs)return Kt;zs=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.RGBComponent=r,Kt.alphaComponent=n,Kt.getNumberValidator=s,Kt.getNumberOrArrayOfNumbersValidator=o,Kt.getNumberOrAutoValidator=a,Kt.getStringValidator=l,Kt.getStringOrGradientValidator=f,Kt.getFunctionValidator=c,Kt.getNumberArrayValidator=p,Kt.getBooleanValidator=m,Kt.getComponentValidator=u;const t=yt(),e=Mt();function i(g){return e.Util._isString(g)?'"'+g+'"':Object.prototype.toString.call(g)==="[object Number]"||e.Util._isBoolean(g)?g:Object.prototype.toString.call(g)}function r(g){return g>255?255:g<0?0:Math.round(g)}function n(g){return g>1?1:g<1e-4?1e-4:g}function s(){if(t.Konva.isUnminified)return function(g,v){return e.Util._isNumber(g)||e.Util.warn(i(g)+' is a not valid value for "'+v+'" attribute. The value should be a number.'),g}}function o(g){if(t.Konva.isUnminified)return function(v,b){const A=e.Util._isNumber(v),h=e.Util._isArray(v)&&v.length==g;return!A&&!h&&e.Util.warn(i(v)+' is a not valid value for "'+b+'" attribute. The value should be a number or Array<number>('+g+")"),v}}function a(){if(t.Konva.isUnminified)return function(g,v){return e.Util._isNumber(g)||g==="auto"||e.Util.warn(i(g)+' is a not valid value for "'+v+'" attribute. The value should be a number or "auto".'),g}}function l(){if(t.Konva.isUnminified)return function(g,v){return e.Util._isString(g)||e.Util.warn(i(g)+' is a not valid value for "'+v+'" attribute. The value should be a string.'),g}}function f(){if(t.Konva.isUnminified)return function(g,v){const b=e.Util._isString(g),A=Object.prototype.toString.call(g)==="[object CanvasGradient]"||g&&g.addColorStop;return b||A||e.Util.warn(i(g)+' is a not valid value for "'+v+'" attribute. The value should be a string or a native gradient.'),g}}function c(){if(t.Konva.isUnminified)return function(g,v){return e.Util._isFunction(g)||e.Util.warn(i(g)+' is a not valid value for "'+v+'" attribute. The value should be a function.'),g}}function p(){if(t.Konva.isUnminified)return function(g,v){const b=Int8Array?Object.getPrototypeOf(Int8Array):null;return b&&g instanceof b||(e.Util._isArray(g)?g.forEach(function(A){e.Util._isNumber(A)||e.Util.warn('"'+v+'" attribute has non numeric element '+A+". Make sure that all elements are numbers.")}):e.Util.warn(i(g)+' is a not valid value for "'+v+'" attribute. The value should be a array of numbers.')),g}}function m(){if(t.Konva.isUnminified)return function(g,v){return g===!0||g===!1||e.Util.warn(i(g)+' is a not valid value for "'+v+'" attribute. The value should be a boolean.'),g}}function u(g){if(t.Konva.isUnminified)return function(v,b){return v==null||e.Util.isObject(v)||e.Util.warn(i(v)+' is a not valid value for "'+b+'" attribute. The value should be an object with properties '+g),v}}return Kt}var Ks;function vt(){return Ks||(Ks=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Mt(),i=bt(),r="get",n="set";t.Factory={addGetterSetter(s,o,a,l,f){t.Factory.addGetter(s,o,a),t.Factory.addSetter(s,o,l,f),t.Factory.addOverloadedGetterSetter(s,o)},addGetter(s,o,a){const l=r+e.Util._capitalize(o);s.prototype[l]=s.prototype[l]||function(){const f=this.attrs[o];return f===void 0?a:f}},addSetter(s,o,a,l){const f=n+e.Util._capitalize(o);s.prototype[f]||t.Factory.overWriteSetter(s,o,a,l)},overWriteSetter(s,o,a,l){const f=n+e.Util._capitalize(o);s.prototype[f]=function(c){return a&&c!==void 0&&c!==null&&(c=a.call(this,c,o)),this._setAttr(o,c),l&&l.call(this),this}},addComponentsGetterSetter(s,o,a,l,f){let c=a.length,p=e.Util._capitalize,m=r+p(o),u=n+p(o),g,v;s.prototype[m]=function(){const A={};for(g=0;g<c;g++)v=a[g],A[v]=this.getAttr(o+p(v));return A};const b=(0,i.getComponentValidator)(a);s.prototype[u]=function(A){let h=this.attrs[o],d;l&&(A=l.call(this,A)),b&&b.call(this,A,o);for(d in A)A.hasOwnProperty(d)&&this._setAttr(o+p(d),A[d]);return A||a.forEach(y=>{this._setAttr(o+p(y),void 0)}),this._fireChangeEvent(o,h,A),f&&f.call(this),this},t.Factory.addOverloadedGetterSetter(s,o)},addOverloadedGetterSetter(s,o){const a=e.Util._capitalize(o),l=n+a,f=r+a;s.prototype[o]=function(){return arguments.length?(this[l](arguments[0]),this):this[f]()}},addDeprecatedGetterSetter(s,o,a,l){e.Util.error("Adding deprecated "+o);const f=r+e.Util._capitalize(o),c=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[f]=function(){e.Util.error(c);const p=this.attrs[o];return p===void 0?a:p},t.Factory.addSetter(s,o,l,function(){e.Util.error(c)}),t.Factory.addOverloadedGetterSetter(s,o)},backCompat(s,o){e.Util.each(o,function(a,l){const f=s.prototype[l],c=r+e.Util._capitalize(a),p=n+e.Util._capitalize(a);function m(){f.apply(this,arguments),e.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}s.prototype[a]=m,s.prototype[c]=m,s.prototype[p]=m})},afterSetFilter(){this._filterUpToDate=!1}}}(Hn)),Hn}var ue={},fe={},Ys;function Yo(){if(Ys)return fe;Ys=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.HitContext=fe.SceneContext=fe.Context=void 0;const t=Mt(),e=yt();function i(A){let h=[],d=A.length,y=t.Util,C,T;for(C=0;C<d;C++)T=A[C],y._isNumber(T)?T=Math.round(T*1e3)/1e3:y._isString(T)||(T=T+""),h.push(T);return h}const r=",",n="(",s=")",o="([",a="])",l=";",f="()",c="=",p=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],m=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],u=100;let g=class{constructor(h){this.canvas=h,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(h){h.fillEnabled()&&this._fill(h)}_fill(h){}strokeShape(h){h.hasStroke()&&this._stroke(h)}_stroke(h){}fillStrokeShape(h){h.attrs.fillAfterStrokeEnabled?(this.strokeShape(h),this.fillShape(h)):(this.fillShape(h),this.strokeShape(h))}getTrace(h,d){let y=this.traceArr,C=y.length,T="",k,E,N,x;for(k=0;k<C;k++)E=y[k],N=E.method,N?(x=E.args,T+=N,h?T+=f:t.Util._isArray(x[0])?T+=o+x.join(r)+a:(d&&(x=x.map(F=>typeof F=="number"?Math.floor(F):F)),T+=n+x.join(r)+s)):(T+=E.property,h||(T+=c+E.val)),T+=l;return T}clearTrace(){this.traceArr=[]}_trace(h){let d=this.traceArr,y;d.push(h),y=d.length,y>=u&&d.shift()}reset(){const h=this.getCanvas().getPixelRatio();this.setTransform(1*h,0,0,1*h,0,0)}getCanvas(){return this.canvas}clear(h){const d=this.getCanvas();h?this.clearRect(h.x||0,h.y||0,h.width||0,h.height||0):this.clearRect(0,0,d.getWidth()/d.pixelRatio,d.getHeight()/d.pixelRatio)}_applyLineCap(h){const d=h.attrs.lineCap;d&&this.setAttr("lineCap",d)}_applyOpacity(h){const d=h.getAbsoluteOpacity();d!==1&&this.setAttr("globalAlpha",d)}_applyLineJoin(h){const d=h.attrs.lineJoin;d&&this.setAttr("lineJoin",d)}setAttr(h,d){this._context[h]=d}arc(h,d,y,C,T,k){this._context.arc(h,d,y,C,T,k)}arcTo(h,d,y,C,T){this._context.arcTo(h,d,y,C,T)}beginPath(){this._context.beginPath()}bezierCurveTo(h,d,y,C,T,k){this._context.bezierCurveTo(h,d,y,C,T,k)}clearRect(h,d,y,C){this._context.clearRect(h,d,y,C)}clip(...h){this._context.clip.apply(this._context,h)}closePath(){this._context.closePath()}createImageData(h,d){const y=arguments;if(y.length===2)return this._context.createImageData(h,d);if(y.length===1)return this._context.createImageData(h)}createLinearGradient(h,d,y,C){return this._context.createLinearGradient(h,d,y,C)}createPattern(h,d){return this._context.createPattern(h,d)}createRadialGradient(h,d,y,C,T,k){return this._context.createRadialGradient(h,d,y,C,T,k)}drawImage(h,d,y,C,T,k,E,N,x){const F=arguments,D=this._context;F.length===3?D.drawImage(h,d,y):F.length===5?D.drawImage(h,d,y,C,T):F.length===9&&D.drawImage(h,d,y,C,T,k,E,N,x)}ellipse(h,d,y,C,T,k,E,N){this._context.ellipse(h,d,y,C,T,k,E,N)}isPointInPath(h,d,y,C){return y?this._context.isPointInPath(y,h,d,C):this._context.isPointInPath(h,d,C)}fill(...h){this._context.fill.apply(this._context,h)}fillRect(h,d,y,C){this._context.fillRect(h,d,y,C)}strokeRect(h,d,y,C){this._context.strokeRect(h,d,y,C)}fillText(h,d,y,C){C?this._context.fillText(h,d,y,C):this._context.fillText(h,d,y)}measureText(h){return this._context.measureText(h)}getImageData(h,d,y,C){return this._context.getImageData(h,d,y,C)}lineTo(h,d){this._context.lineTo(h,d)}moveTo(h,d){this._context.moveTo(h,d)}rect(h,d,y,C){this._context.rect(h,d,y,C)}roundRect(h,d,y,C,T){this._context.roundRect(h,d,y,C,T)}putImageData(h,d,y){this._context.putImageData(h,d,y)}quadraticCurveTo(h,d,y,C){this._context.quadraticCurveTo(h,d,y,C)}restore(){this._context.restore()}rotate(h){this._context.rotate(h)}save(){this._context.save()}scale(h,d){this._context.scale(h,d)}setLineDash(h){this._context.setLineDash?this._context.setLineDash(h):"mozDash"in this._context?this._context.mozDash=h:"webkitLineDash"in this._context&&(this._context.webkitLineDash=h)}getLineDash(){return this._context.getLineDash()}setTransform(h,d,y,C,T,k){this._context.setTransform(h,d,y,C,T,k)}stroke(h){h?this._context.stroke(h):this._context.stroke()}strokeText(h,d,y,C){this._context.strokeText(h,d,y,C)}transform(h,d,y,C,T,k){this._context.transform(h,d,y,C,T,k)}translate(h,d){this._context.translate(h,d)}_enableTrace(){let h=this,d=p.length,y=this.setAttr,C,T;const k=function(E){let N=h[E],x;h[E]=function(){return T=i(Array.prototype.slice.call(arguments,0)),x=N.apply(h,arguments),h._trace({method:E,args:T}),x}};for(C=0;C<d;C++)k(p[C]);h.setAttr=function(){y.apply(h,arguments);const E=arguments[0];let N=arguments[1];(E==="shadowOffsetX"||E==="shadowOffsetY"||E==="shadowBlur")&&(N=N/this.canvas.getPixelRatio()),h._trace({property:E,val:N})}}_applyGlobalCompositeOperation(h){const d=h.attrs.globalCompositeOperation;!d||d==="source-over"||this.setAttr("globalCompositeOperation",d)}};fe.Context=g,m.forEach(function(A){Object.defineProperty(g.prototype,A,{get(){return this._context[A]},set(h){this._context[A]=h}})});class v extends g{constructor(h,{willReadFrequently:d=!1}={}){super(h),this._context=h._canvas.getContext("2d",{willReadFrequently:d})}_fillColor(h){const d=h.fill();this.setAttr("fillStyle",d),h._fillFunc(this)}_fillPattern(h){this.setAttr("fillStyle",h._getFillPattern()),h._fillFunc(this)}_fillLinearGradient(h){const d=h._getLinearGradient();d&&(this.setAttr("fillStyle",d),h._fillFunc(this))}_fillRadialGradient(h){const d=h._getRadialGradient();d&&(this.setAttr("fillStyle",d),h._fillFunc(this))}_fill(h){const d=h.fill(),y=h.getFillPriority();if(d&&y==="color"){this._fillColor(h);return}const C=h.getFillPatternImage();if(C&&y==="pattern"){this._fillPattern(h);return}const T=h.getFillLinearGradientColorStops();if(T&&y==="linear-gradient"){this._fillLinearGradient(h);return}const k=h.getFillRadialGradientColorStops();if(k&&y==="radial-gradient"){this._fillRadialGradient(h);return}d?this._fillColor(h):C?this._fillPattern(h):T?this._fillLinearGradient(h):k&&this._fillRadialGradient(h)}_strokeLinearGradient(h){const d=h.getStrokeLinearGradientStartPoint(),y=h.getStrokeLinearGradientEndPoint(),C=h.getStrokeLinearGradientColorStops(),T=this.createLinearGradient(d.x,d.y,y.x,y.y);if(C){for(let k=0;k<C.length;k+=2)T.addColorStop(C[k],C[k+1]);this.setAttr("strokeStyle",T)}}_stroke(h){const d=h.dash(),y=h.getStrokeScaleEnabled();if(h.hasStroke()){if(!y){this.save();const T=this.getCanvas().getPixelRatio();this.setTransform(T,0,0,T,0,0)}this._applyLineCap(h),d&&h.dashEnabled()&&(this.setLineDash(d),this.setAttr("lineDashOffset",h.dashOffset())),this.setAttr("lineWidth",h.strokeWidth()),h.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),h.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(h):this.setAttr("strokeStyle",h.stroke()),h._strokeFunc(this),y||this.restore()}}_applyShadow(h){var d,y,C;const T=(d=h.getShadowRGBA())!==null&&d!==void 0?d:"black",k=(y=h.getShadowBlur())!==null&&y!==void 0?y:5,E=(C=h.getShadowOffset())!==null&&C!==void 0?C:{x:0,y:0},N=h.getAbsoluteScale(),x=this.canvas.getPixelRatio(),F=N.x*x,D=N.y*x;this.setAttr("shadowColor",T),this.setAttr("shadowBlur",k*Math.min(Math.abs(F),Math.abs(D))),this.setAttr("shadowOffsetX",E.x*F),this.setAttr("shadowOffsetY",E.y*D)}}fe.SceneContext=v;class b extends g{constructor(h){super(h),this._context=h._canvas.getContext("2d",{willReadFrequently:!0})}_fill(h){this.save(),this.setAttr("fillStyle",h.colorKey),h._fillFuncHit(this),this.restore()}strokeShape(h){h.hasHitStroke()&&this._stroke(h)}_stroke(h){if(h.hasHitStroke()){const d=h.getStrokeScaleEnabled();if(!d){this.save();const T=this.getCanvas().getPixelRatio();this.setTransform(T,0,0,T,0,0)}this._applyLineCap(h);const y=h.hitStrokeWidth(),C=y==="auto"?h.strokeWidth():y;this.setAttr("lineWidth",C),this.setAttr("strokeStyle",h.colorKey),h._strokeFuncHit(this),d||this.restore()}}}return fe.HitContext=b,fe}var Xs;function Tn(){if(Xs)return ue;Xs=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.HitCanvas=ue.SceneCanvas=ue.Canvas=void 0;const t=Mt(),e=Yo(),i=yt(),r=vt(),n=bt();let s;function o(){if(s)return s;const c=t.Util.createCanvasElement(),p=c.getContext("2d");return s=function(){const m=i.Konva._global.devicePixelRatio||1,u=p.webkitBackingStorePixelRatio||p.mozBackingStorePixelRatio||p.msBackingStorePixelRatio||p.oBackingStorePixelRatio||p.backingStorePixelRatio||1;return m/u}(),t.Util.releaseCanvas(c),s}let a=class{constructor(p){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const u=(p||{}).pixelRatio||i.Konva.pixelRatio||o();this.pixelRatio=u,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(p){const m=this.pixelRatio;this.pixelRatio=p,this.setSize(this.getWidth()/m,this.getHeight()/m)}setWidth(p){this.width=this._canvas.width=p*this.pixelRatio,this._canvas.style.width=p+"px";const m=this.pixelRatio;this.getContext()._context.scale(m,m)}setHeight(p){this.height=this._canvas.height=p*this.pixelRatio,this._canvas.style.height=p+"px";const m=this.pixelRatio;this.getContext()._context.scale(m,m)}getWidth(){return this.width}getHeight(){return this.height}setSize(p,m){this.setWidth(p||0),this.setHeight(m||0)}toDataURL(p,m){try{return this._canvas.toDataURL(p,m)}catch{try{return this._canvas.toDataURL()}catch(g){return t.Util.error("Unable to get data URL. "+g.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ue.Canvas=a,r.Factory.addGetterSetter(a,"pixelRatio",void 0,(0,n.getNumberValidator)());class l extends a{constructor(p={width:0,height:0,willReadFrequently:!1}){super(p),this.context=new e.SceneContext(this,{willReadFrequently:p.willReadFrequently}),this.setSize(p.width,p.height)}}ue.SceneCanvas=l;class f extends a{constructor(p={width:0,height:0}){super(p),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(p.width,p.height)}}return ue.HitCanvas=f,ue}var qn={},Zs;function Er(){return Zs||(Zs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=yt(),i=Mt();t.DD={get isDragging(){let r=!1;return t.DD._dragElements.forEach(n=>{n.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return t.DD._dragElements.forEach(n=>{r=n.node}),r},_dragElements:new Map,_drag(r){const n=[];t.DD._dragElements.forEach((s,o)=>{const{node:a}=s,l=a.getStage();l.setPointersPositions(r),s.pointerId===void 0&&(s.pointerId=i.Util._getFirstPointerId(r));const f=l._changedPointerPositions.find(c=>c.id===s.pointerId);if(f){if(s.dragStatus!=="dragging"){const c=a.dragDistance();if(Math.max(Math.abs(f.x-s.startPointerPos.x),Math.abs(f.y-s.startPointerPos.y))<c||(a.startDrag({evt:r}),!a.isDragging()))return}a._setDragPosition(r,s),n.push(a)}}),n.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:r},!0)})},_endDragBefore(r){const n=[];t.DD._dragElements.forEach(s=>{const{node:o}=s,a=o.getStage();if(r&&a.setPointersPositions(r),!a._changedPointerPositions.find(c=>c.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const f=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;f&&n.indexOf(f)===-1&&n.push(f)}),n.forEach(s=>{s.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((n,s)=>{n.dragStatus==="stopped"&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:r},!0),n.dragStatus!=="dragging"&&t.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))}(qn)),qn}var Qs;function Nt(){if(Qs)return ze;Qs=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.Node=void 0;const t=Mt(),e=vt(),i=Tn(),r=yt(),n=Er(),s=bt(),o="absoluteOpacity",a="allEventListeners",l="absoluteTransform",f="absoluteScale",c="canvas",p="Change",m="children",u="konva",g="listening",v="mouseenter",b="mouseleave",A="set",h="Shape",d=" ",y="stage",C="transform",T="Stage",k="visible",E=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(d);let N=1,x=class ar{constructor(_){this._id=N++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(_),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(_){(_===C||_===l)&&this._cache.get(_)?this._cache.get(_).dirty=!0:_?this._cache.delete(_):this._cache.clear()}_getCache(_,w){let S=this._cache.get(_);return(S===void 0||(_===C||_===l)&&S.dirty===!0)&&(S=w.call(this),this._cache.set(_,S)),S}_calculate(_,w,S){if(!this._attachedDepsListeners.get(_)){const R=w.map(P=>P+"Change.konva").join(d);this.on(R,()=>{this._clearCache(_)}),this._attachedDepsListeners.set(_,!0)}return this._getCache(_,S)}_getCanvasCache(){return this._cache.get(c)}_clearSelfAndDescendantCache(_){this._clearCache(_),_===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(c)){const{scene:_,filter:w,hit:S}=this._cache.get(c);t.Util.releaseCanvas(_,w,S),this._cache.delete(c)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(_){const w=_||{};let S={};(w.x===void 0||w.y===void 0||w.width===void 0||w.height===void 0)&&(S=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let R=Math.ceil(w.width||S.width),P=Math.ceil(w.height||S.height),I=w.pixelRatio,q=w.x===void 0?Math.floor(S.x):w.x,X=w.y===void 0?Math.floor(S.y):w.y,K=w.offset||0,Q=w.drawBorder||!1,j=w.hitCanvasPixelRatio||1;if(!R||!P){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const $=Math.abs(Math.round(S.x)-q)>.5?1:0,rt=Math.abs(Math.round(S.y)-X)>.5?1:0;R+=K*2+$,P+=K*2+rt,q-=K,X-=K;const nt=new i.SceneCanvas({pixelRatio:I,width:R,height:P}),L=new i.SceneCanvas({pixelRatio:I,width:0,height:0,willReadFrequently:!0}),V=new i.HitCanvas({pixelRatio:j,width:R,height:P}),J=nt.getContext(),et=V.getContext();return V.isCache=!0,nt.isCache=!0,this._cache.delete(c),this._filterUpToDate=!1,w.imageSmoothingEnabled===!1&&(nt.getContext()._context.imageSmoothingEnabled=!1,L.getContext()._context.imageSmoothingEnabled=!1),J.save(),et.save(),J.translate(-q,-X),et.translate(-q,-X),this._isUnderCache=!0,this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(f),this.drawScene(nt,this),this.drawHit(V,this),this._isUnderCache=!1,J.restore(),et.restore(),Q&&(J.save(),J.beginPath(),J.rect(0,0,R,P),J.closePath(),J.setAttr("strokeStyle","red"),J.setAttr("lineWidth",5),J.stroke(),J.restore()),this._cache.set(c,{scene:nt,filter:L,hit:V,x:q,y:X}),this._requestDraw(),this}isCached(){return this._cache.has(c)}getClientRect(_){throw new Error('abstract "getClientRect" method call')}_transformedRect(_,w){const S=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x+_.width,y:_.y+_.height},{x:_.x,y:_.y+_.height}];let R=1/0,P=1/0,I=-1/0,q=-1/0;const X=this.getAbsoluteTransform(w);return S.forEach(function(K){const Q=X.point(K);R===void 0&&(R=I=Q.x,P=q=Q.y),R=Math.min(R,Q.x),P=Math.min(P,Q.y),I=Math.max(I,Q.x),q=Math.max(q,Q.y)}),{x:R,y:P,width:I-R,height:q-P}}_drawCachedSceneCanvas(_){_.save(),_._applyOpacity(this),_._applyGlobalCompositeOperation(this);const w=this._getCanvasCache();_.translate(w.x,w.y);const S=this._getCachedSceneCanvas(),R=S.pixelRatio;_.drawImage(S._canvas,0,0,S.width/R,S.height/R),_.restore()}_drawCachedHitCanvas(_){const w=this._getCanvasCache(),S=w.hit;_.save(),_.translate(w.x,w.y),_.drawImage(S._canvas,0,0,S.width/S.pixelRatio,S.height/S.pixelRatio),_.restore()}_getCachedSceneCanvas(){let _=this.filters(),w=this._getCanvasCache(),S=w.scene,R=w.filter,P=R.getContext(),I,q,X,K;if(_){if(!this._filterUpToDate){const Q=S.pixelRatio;R.setSize(S.width/S.pixelRatio,S.height/S.pixelRatio);try{for(I=_.length,P.clear(),P.drawImage(S._canvas,0,0,S.getWidth()/Q,S.getHeight()/Q),q=P.getImageData(0,0,R.getWidth(),R.getHeight()),X=0;X<I;X++){if(K=_[X],typeof K!="function"){t.Util.error("Filter should be type of function, but got "+typeof K+" instead. Please check correct filters");continue}K.call(this,q),P.putImageData(q,0,0)}}catch(j){t.Util.error("Unable to apply filter. "+j.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return R}return S}on(_,w){if(this._cache&&this._cache.delete(a),arguments.length===3)return this._delegate.apply(this,arguments);let S=_.split(d),R=S.length,P,I,q,X,K;for(P=0;P<R;P++)I=S[P],q=I.split("."),X=q[0],K=q[1]||"",this.eventListeners[X]||(this.eventListeners[X]=[]),this.eventListeners[X].push({name:K,handler:w});return this}off(_,w){let S=(_||"").split(d),R=S.length,P,I,q,X,K,Q;if(this._cache&&this._cache.delete(a),!_)for(I in this.eventListeners)this._off(I);for(P=0;P<R;P++)if(q=S[P],X=q.split("."),K=X[0],Q=X[1],K)this.eventListeners[K]&&this._off(K,Q,w);else for(I in this.eventListeners)this._off(I,Q,w);return this}dispatchEvent(_){const w={target:this,type:_.type,evt:_};return this.fire(_.type,w),this}addEventListener(_,w){return this.on(_,function(S){w.call(this,S.evt)}),this}removeEventListener(_){return this.off(_),this}_delegate(_,w,S){const R=this;this.on(_,function(P){const I=P.target.findAncestors(w,!0,R);for(let q=0;q<I.length;q++)P=t.Util.cloneObject(P),P.currentTarget=I[q],S.call(I[q],P)})}remove(){return this.isDragging()&&this.stopDrag(),n.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(y),this._clearSelfAndDescendantCache(k),this._clearSelfAndDescendantCache(g)}_remove(){this._clearCaches();const _=this.getParent();_&&_.children&&(_.children.splice(this.index,1),_._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(_){const w="get"+t.Util._capitalize(_);return t.Util._isFunction(this[w])?this[w]():this.attrs[_]}getAncestors(){let _=this.getParent(),w=[];for(;_;)w.push(_),_=_.getParent();return w}getAttrs(){return this.attrs||{}}setAttrs(_){return this._batchTransformChanges(()=>{let w,S;if(!_)return this;for(w in _)w!==m&&(S=A+t.Util._capitalize(w),t.Util._isFunction(this[S])?this[S](_[w]):this._setAttr(w,_[w]))}),this}isListening(){return this._getCache(g,this._isListening)}_isListening(_){if(!this.listening())return!1;const S=this.getParent();return S&&S!==_&&this!==_?S._isListening(_):!0}isVisible(){return this._getCache(k,this._isVisible)}_isVisible(_){if(!this.visible())return!1;const S=this.getParent();return S&&S!==_&&this!==_?S._isVisible(_):!0}shouldDrawHit(_,w=!1){if(_)return this._isVisible(_)&&this._isListening(_);const S=this.getLayer();let R=!1;n.DD._dragElements.forEach(I=>{I.dragStatus==="dragging"&&(I.node.nodeType==="Stage"||I.node.getLayer()===S)&&(R=!0)});const P=!w&&!r.Konva.hitOnDragEnabled&&(R||r.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!P}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let _=this.getDepth(),w=this,S=0,R,P,I,q;function X(Q){for(R=[],P=Q.length,I=0;I<P;I++)q=Q[I],S++,q.nodeType!==h&&(R=R.concat(q.getChildren().slice())),q._id===w._id&&(I=P);R.length>0&&R[0].getDepth()<=_&&X(R)}const K=this.getStage();return w.nodeType!==T&&K&&X(K.getChildren()),S}getDepth(){let _=0,w=this.parent;for(;w;)_++,w=w.parent;return _}_batchTransformChanges(_){this._batchingTransformChange=!0,_(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(C),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(_){return this._batchTransformChanges(()=>{this.x(_.x),this.y(_.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const _=this.getStage();if(!_)return null;const w=_.getPointerPosition();if(!w)return null;const S=this.getAbsoluteTransform().copy();return S.invert(),S.point(w)}getAbsolutePosition(_){let w=!1,S=this.parent;for(;S;){if(S.isCached()){w=!0;break}S=S.parent}w&&!_&&(_=!0);const R=this.getAbsoluteTransform(_).getMatrix(),P=new t.Transform,I=this.offset();return P.m=R.slice(),P.translate(I.x,I.y),P.getTranslation()}setAbsolutePosition(_){const{x:w,y:S,...R}=this._clearTransform();this.attrs.x=w,this.attrs.y=S,this._clearCache(C);const P=this._getAbsoluteTransform().copy();return P.invert(),P.translate(_.x,_.y),_={x:this.attrs.x+P.getTranslation().x,y:this.attrs.y+P.getTranslation().y},this._setTransform(R),this.setPosition({x:_.x,y:_.y}),this._clearCache(C),this._clearSelfAndDescendantCache(l),this}_setTransform(_){let w;for(w in _)this.attrs[w]=_[w]}_clearTransform(){const _={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,_}move(_){let w=_.x,S=_.y,R=this.x(),P=this.y();return w!==void 0&&(R+=w),S!==void 0&&(P+=S),this.setPosition({x:R,y:P}),this}_eachAncestorReverse(_,w){let S=[],R=this.getParent(),P,I;if(!(w&&w._id===this._id)){for(S.unshift(this);R&&(!w||R._id!==w._id);)S.unshift(R),R=R.parent;for(P=S.length,I=0;I<P;I++)_(S[I])}}rotate(_){return this.rotation(this.rotation()+_),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const _=this.index,w=this.parent.getChildren().length;return _<w-1?(this.parent.children.splice(_,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;const _=this.index,w=this.parent.getChildren().length;return _<w-1?(this.parent.children.splice(_,1),this.parent.children.splice(_+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;const _=this.index;return _>0?(this.parent.children.splice(_,1),this.parent.children.splice(_-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const _=this.index;return _>0?(this.parent.children.splice(_,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(_){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(_<0||_>=this.parent.children.length)&&t.Util.warn("Unexpected value "+_+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const w=this.index;return this.parent.children.splice(w,1),this.parent.children.splice(_,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(o,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let _=this.opacity();const w=this.getParent();return w&&!w._isUnderCache&&(_*=w.getAbsoluteOpacity()),_}moveTo(_){return this.getParent()!==_&&(this._remove(),_.add(this)),this}toObject(){let _=this.getAttrs(),w,S,R,P,I;const q={attrs:{},className:this.getClassName()};for(w in _)S=_[w],I=t.Util.isObject(S)&&!t.Util._isPlainObject(S)&&!t.Util._isArray(S),!I&&(R=typeof this[w]=="function"&&this[w],delete _[w],P=R?R.call(this):null,_[w]=S,P!==S&&(q.attrs[w]=S));return t.Util._prepareToStringify(q)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(_,w,S){const R=[];w&&this._isMatch(_)&&R.push(this);let P=this.parent;for(;P;){if(P===S)return R;P._isMatch(_)&&R.push(P),P=P.parent}return R}isAncestorOf(_){return!1}findAncestor(_,w,S){return this.findAncestors(_,w,S)[0]}_isMatch(_){if(!_)return!1;if(typeof _=="function")return _(this);let w=_.replace(/ /g,"").split(","),S=w.length,R,P;for(R=0;R<S;R++)if(P=w[R],t.Util.isValidSelector(P)||(t.Util.warn('Selector "'+P+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),P.charAt(0)==="#"){if(this.id()===P.slice(1))return!0}else if(P.charAt(0)==="."){if(this.hasName(P.slice(1)))return!0}else if(this.className===P||this.nodeType===P)return!0;return!1}getLayer(){const _=this.getParent();return _?_.getLayer():null}getStage(){return this._getCache(y,this._getStage)}_getStage(){const _=this.getParent();return _?_.getStage():null}fire(_,w={},S){return w.target=w.target||this,S?this._fireAndBubble(_,w):this._fire(_,w),this}getAbsoluteTransform(_){return _?this._getAbsoluteTransform(_):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(_){let w;if(_)return w=new t.Transform,this._eachAncestorReverse(function(S){const R=S.transformsEnabled();R==="all"?w.multiply(S.getTransform()):R==="position"&&w.translate(S.x()-S.offsetX(),S.y()-S.offsetY())},_),w;{w=this._cache.get(l)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(w):w.reset();const S=this.transformsEnabled();if(S==="all")w.multiply(this.getTransform());else if(S==="position"){const R=this.attrs.x||0,P=this.attrs.y||0,I=this.attrs.offsetX||0,q=this.attrs.offsetY||0;w.translate(R-I,P-q)}return w.dirty=!1,w}}getAbsoluteScale(_){let w=this;for(;w;)w._isUnderCache&&(_=w),w=w.getParent();const R=this.getAbsoluteTransform(_).decompose();return{x:R.scaleX,y:R.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(C,this._getTransform)}_getTransform(){var _,w;const S=this._cache.get(C)||new t.Transform;S.reset();const R=this.x(),P=this.y(),I=r.Konva.getAngle(this.rotation()),q=(_=this.attrs.scaleX)!==null&&_!==void 0?_:1,X=(w=this.attrs.scaleY)!==null&&w!==void 0?w:1,K=this.attrs.skewX||0,Q=this.attrs.skewY||0,j=this.attrs.offsetX||0,$=this.attrs.offsetY||0;return(R!==0||P!==0)&&S.translate(R,P),I!==0&&S.rotate(I),(K!==0||Q!==0)&&S.skew(K,Q),(q!==1||X!==1)&&S.scale(q,X),(j!==0||$!==0)&&S.translate(-1*j,-1*$),S.dirty=!1,S}clone(_){let w=t.Util.cloneObject(this.attrs),S,R,P,I,q;for(S in _)w[S]=_[S];const X=new this.constructor(w);for(S in this.eventListeners)for(R=this.eventListeners[S],P=R.length,I=0;I<P;I++)q=R[I],q.name.indexOf(u)<0&&(X.eventListeners[S]||(X.eventListeners[S]=[]),X.eventListeners[S].push(q));return X}_toKonvaCanvas(_){_=_||{};const w=this.getClientRect(),S=this.getStage(),R=_.x!==void 0?_.x:Math.floor(w.x),P=_.y!==void 0?_.y:Math.floor(w.y),I=_.pixelRatio||1,q=new i.SceneCanvas({width:_.width||Math.ceil(w.width)||(S?S.width():0),height:_.height||Math.ceil(w.height)||(S?S.height():0),pixelRatio:I}),X=q.getContext(),K=new i.SceneCanvas({width:q.width/q.pixelRatio+Math.abs(R),height:q.height/q.pixelRatio+Math.abs(P),pixelRatio:q.pixelRatio});return _.imageSmoothingEnabled===!1&&(X._context.imageSmoothingEnabled=!1),X.save(),(R||P)&&X.translate(-1*R,-1*P),this.drawScene(q,void 0,K),X.restore(),q}toCanvas(_){return this._toKonvaCanvas(_)._canvas}toDataURL(_){_=_||{};const w=_.mimeType||null,S=_.quality||null,R=this._toKonvaCanvas(_).toDataURL(w,S);return _.callback&&_.callback(R),R}toImage(_){return new Promise((w,S)=>{try{const R=_==null?void 0:_.callback;R&&delete _.callback,t.Util._urlToImage(this.toDataURL(_),function(P){w(P),R==null||R(P)})}catch(R){S(R)}})}toBlob(_){return new Promise((w,S)=>{try{const R=_==null?void 0:_.callback;R&&delete _.callback,this.toCanvas(_).toBlob(P=>{w(P),R==null||R(P)},_==null?void 0:_.mimeType,_==null?void 0:_.quality)}catch(R){S(R)}})}setSize(_){return this.width(_.width),this.height(_.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():r.Konva.dragDistance}_off(_,w,S){let R=this.eventListeners[_],P,I,q;for(P=0;P<R.length;P++)if(I=R[P].name,q=R[P].handler,(I!=="konva"||w==="konva")&&(!w||I===w)&&(!S||S===q)){if(R.splice(P,1),R.length===0){delete this.eventListeners[_];break}P--}}_fireChangeEvent(_,w,S){this._fire(_+p,{oldVal:w,newVal:S})}addName(_){if(!this.hasName(_)){const w=this.name(),S=w?w+" "+_:_;this.name(S)}return this}hasName(_){if(!_)return!1;const w=this.name();return w?(w||"").split(/\s/g).indexOf(_)!==-1:!1}removeName(_){const w=(this.name()||"").split(/\s/g),S=w.indexOf(_);return S!==-1&&(w.splice(S,1),this.name(w.join(" "))),this}setAttr(_,w){const S=this[A+t.Util._capitalize(_)];return t.Util._isFunction(S)?S.call(this,w):this._setAttr(_,w),this}_requestDraw(){if(r.Konva.autoDrawEnabled){const _=this.getLayer()||this.getStage();_==null||_.batchDraw()}}_setAttr(_,w){const S=this.attrs[_];S===w&&!t.Util.isObject(w)||(w==null?delete this.attrs[_]:this.attrs[_]=w,this._shouldFireChangeEvents&&this._fireChangeEvent(_,S,w),this._requestDraw())}_setComponentAttr(_,w,S){let R;S!==void 0&&(R=this.attrs[_],R||(this.attrs[_]=this.getAttr(_)),this.attrs[_][w]=S,this._fireChangeEvent(_,R,S))}_fireAndBubble(_,w,S){if(w&&this.nodeType===h&&(w.target=this),!((_===v||_===b)&&(S&&(this===S||this.isAncestorOf&&this.isAncestorOf(S))||this.nodeType==="Stage"&&!S))){this._fire(_,w);const P=(_===v||_===b)&&S&&S.isAncestorOf&&S.isAncestorOf(this)&&!S.isAncestorOf(this.parent);(w&&!w.cancelBubble||!w)&&this.parent&&this.parent.isListening()&&!P&&(S&&S.parent?this._fireAndBubble.call(this.parent,_,w,S):this._fireAndBubble.call(this.parent,_,w))}}_getProtoListeners(_){var w,S,R;const P=(w=this._cache.get(a))!==null&&w!==void 0?w:{};let I=P==null?void 0:P[_];if(I===void 0){I=[];let q=Object.getPrototypeOf(this);for(;q;){const X=(R=(S=q.eventListeners)===null||S===void 0?void 0:S[_])!==null&&R!==void 0?R:[];I.push(...X),q=Object.getPrototypeOf(q)}P[_]=I,this._cache.set(a,P)}return I}_fire(_,w){w=w||{},w.currentTarget=this,w.type=_;const S=this._getProtoListeners(_);if(S)for(var R=0;R<S.length;R++)S[R].handler.call(this,w);const P=this.eventListeners[_];if(P)for(var R=0;R<P.length;R++)P[R].handler.call(this,w)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(_){const w=_?_.pointerId:void 0,S=this.getStage(),R=this.getAbsolutePosition();if(!S)return;const P=S._getPointerById(w)||S._changedPointerPositions[0]||R;n.DD._dragElements.set(this._id,{node:this,startPointerPos:P,offset:{x:P.x-R.x,y:P.y-R.y},dragStatus:"ready",pointerId:w})}startDrag(_,w=!0){n.DD._dragElements.has(this._id)||this._createDragElement(_);const S=n.DD._dragElements.get(this._id);S.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:_&&_.evt},w)}_setDragPosition(_,w){const S=this.getStage()._getPointerById(w.pointerId);if(!S)return;let R={x:S.x-w.offset.x,y:S.y-w.offset.y};const P=this.dragBoundFunc();if(P!==void 0){const I=P.call(this,R,_);I?R=I:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==R.x||this._lastPos.y!==R.y)&&(this.setAbsolutePosition(R),this._requestDraw()),this._lastPos=R}stopDrag(_){const w=n.DD._dragElements.get(this._id);w&&(w.dragStatus="stopped"),n.DD._endDragBefore(_),n.DD._endDragAfter(_)}setDraggable(_){this._setAttr("draggable",_),this._dragChange()}isDragging(){const _=n.DD._dragElements.get(this._id);return _?_.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(_){if(!(!(_.evt.button!==void 0)||r.Konva.dragButtons.indexOf(_.evt.button)>=0)||this.isDragging())return;let R=!1;n.DD._dragElements.forEach(P=>{this.isAncestorOf(P.node)&&(R=!0)}),R||this._createDragElement(_)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const w=n.DD._dragElements.get(this._id),S=w&&w.dragStatus==="dragging",R=w&&w.dragStatus==="ready";S?this.stopDrag():R&&n.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(_={x:0,y:0}){const w=this.getStage();if(!w)return!1;const S={x:-_.x,y:-_.y,width:w.width()+2*_.x,height:w.height()+2*_.y};return t.Util.haveIntersection(S,this.getClientRect())}static create(_,w){return t.Util._isString(_)&&(_=JSON.parse(_)),this._createNode(_,w)}static _createNode(_,w){let S=ar.prototype.getClassName.call(_),R=_.children,P,I,q;w&&(_.attrs.container=w),r.Konva[S]||(t.Util.warn('Can not find a node with class name "'+S+'". Fallback to "Shape".'),S="Shape");const X=r.Konva[S];if(P=new X(_.attrs),R)for(I=R.length,q=0;q<I;q++)P.add(ar._createNode(R[q]));return P}};ze.Node=x,x.prototype.nodeType="Node",x.prototype._attrsAffectingSize=[],x.prototype.eventListeners={},x.prototype.on.call(x.prototype,E,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(C),this._clearSelfAndDescendantCache(l)}),x.prototype.on.call(x.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(k)}),x.prototype.on.call(x.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(g)}),x.prototype.on.call(x.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(o)});const F=e.Factory.addGetterSetter;return F(x,"zIndex"),F(x,"absolutePosition"),F(x,"position"),F(x,"x",0,(0,s.getNumberValidator)()),F(x,"y",0,(0,s.getNumberValidator)()),F(x,"globalCompositeOperation","source-over",(0,s.getStringValidator)()),F(x,"opacity",1,(0,s.getNumberValidator)()),F(x,"name","",(0,s.getStringValidator)()),F(x,"id","",(0,s.getStringValidator)()),F(x,"rotation",0,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(x,"scale",["x","y"]),F(x,"scaleX",1,(0,s.getNumberValidator)()),F(x,"scaleY",1,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(x,"skew",["x","y"]),F(x,"skewX",0,(0,s.getNumberValidator)()),F(x,"skewY",0,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(x,"offset",["x","y"]),F(x,"offsetX",0,(0,s.getNumberValidator)()),F(x,"offsetY",0,(0,s.getNumberValidator)()),F(x,"dragDistance",null,(0,s.getNumberValidator)()),F(x,"width",0,(0,s.getNumberValidator)()),F(x,"height",0,(0,s.getNumberValidator)()),F(x,"listening",!0,(0,s.getBooleanValidator)()),F(x,"preventDefault",!0,(0,s.getBooleanValidator)()),F(x,"filters",null,function(D){return this._filterUpToDate=!1,D}),F(x,"visible",!0,(0,s.getBooleanValidator)()),F(x,"transformsEnabled","all",(0,s.getStringValidator)()),F(x,"size"),F(x,"dragBoundFunc"),F(x,"draggable",!1,(0,s.getBooleanValidator)()),e.Factory.backCompat(x,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),ze}var Ke={},Js;function Rn(){if(Js)return Ke;Js=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.Container=void 0;const t=vt(),e=Nt(),i=bt();let r=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(s){if(!s)return this.children||[];const o=this.children||[],a=[];return o.forEach(function(l){s(l)&&a.push(l)}),a}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.destroy()}),this.children=[],this._requestDraw(),this}add(...s){if(s.length===0)return this;if(s.length>1){for(let a=0;a<s.length;a++)this.add(s[a]);return this}const o=s[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(s){return this._generalFind(s,!1)}findOne(s){const o=this._generalFind(s,!0);return o.length>0?o[0]:void 0}_generalFind(s,o){const a=[];return this._descendants(l=>{const f=l._isMatch(s);return f&&a.push(l),!!(f&&o)}),a}_descendants(s){let o=!1;const a=this.getChildren();for(const l of a){if(o=s(l),o)return!0;if(l.hasChildren()&&(o=l._descendants(s),o))return!0}return!1}toObject(){const s=e.Node.prototype.toObject.call(this);return s.children=[],this.getChildren().forEach(o=>{s.children.push(o.toObject())}),s}isAncestorOf(s){let o=s.getParent();for(;o;){if(o._id===this._id)return!0;o=o.getParent()}return!1}clone(s){const o=e.Node.prototype.clone.call(this,s);return this.getChildren().forEach(function(a){o.add(a.clone())}),o}getAllIntersections(s){const o=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(s)&&o.push(a)}),o}_clearSelfAndDescendantCache(s){var o;super._clearSelfAndDescendantCache(s),!this.isCached()&&((o=this.children)===null||o===void 0||o.forEach(function(a){a._clearSelfAndDescendantCache(s)}))}_setChildrenIndices(){var s;(s=this.children)===null||s===void 0||s.forEach(function(o,a){o.index=a}),this._requestDraw()}drawScene(s,o,a){const l=this.getLayer(),f=s||l&&l.getCanvas(),c=f&&f.getContext(),p=this._getCanvasCache(),m=p&&p.scene,u=f&&f.isCache;if(!this.isVisible()&&!u)return this;if(m){c.save();const g=this.getAbsoluteTransform(o).getMatrix();c.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(c),c.restore()}else this._drawChildren("drawScene",f,o,a);return this}drawHit(s,o){if(!this.shouldDrawHit(o))return this;const a=this.getLayer(),l=s||a&&a.hitCanvas,f=l&&l.getContext(),c=this._getCanvasCache();if(c&&c.hit){f.save();const m=this.getAbsoluteTransform(o).getMatrix();f.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedHitCanvas(f),f.restore()}else this._drawChildren("drawHit",l,o);return this}_drawChildren(s,o,a,l){var f;const c=o&&o.getContext(),p=this.clipWidth(),m=this.clipHeight(),u=this.clipFunc(),g=typeof p=="number"&&typeof m=="number"||u,v=a===this;if(g){c.save();const A=this.getAbsoluteTransform(a);let h=A.getMatrix();c.transform(h[0],h[1],h[2],h[3],h[4],h[5]),c.beginPath();let d;if(u)d=u.call(this,c,this);else{const y=this.clipX(),C=this.clipY();c.rect(y||0,C||0,p,m)}c.clip.apply(c,d),h=A.copy().invert().getMatrix(),c.transform(h[0],h[1],h[2],h[3],h[4],h[5])}const b=!v&&this.globalCompositeOperation()!=="source-over"&&s==="drawScene";b&&(c.save(),c._applyGlobalCompositeOperation(this)),(f=this.children)===null||f===void 0||f.forEach(function(A){A[s](o,a,l)}),b&&c.restore(),g&&c.restore()}getClientRect(s={}){var o;const a=s.skipTransform,l=s.relativeTo;let f,c,p,m,u={x:1/0,y:1/0,width:0,height:0};const g=this;(o=this.children)===null||o===void 0||o.forEach(function(A){if(!A.visible())return;const h=A.getClientRect({relativeTo:g,skipShadow:s.skipShadow,skipStroke:s.skipStroke});h.width===0&&h.height===0||(f===void 0?(f=h.x,c=h.y,p=h.x+h.width,m=h.y+h.height):(f=Math.min(f,h.x),c=Math.min(c,h.y),p=Math.max(p,h.x+h.width),m=Math.max(m,h.y+h.height)))});const v=this.find("Shape");let b=!1;for(let A=0;A<v.length;A++)if(v[A]._isVisible(this)){b=!0;break}return b&&f!==void 0?u={x:f,y:c,width:p-f,height:m-c}:u={x:0,y:0,width:0,height:0},a?u:this._transformedRect(u,l)}};return Ke.Container=r,t.Factory.addComponentsGetterSetter(r,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(r,"clipX",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipY",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipWidth",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipHeight",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"clipFunc"),Ke}var Wn={},ye={},$s;function Xo(){if($s)return ye;$s=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.getCapturedShape=r,ye.createEvent=n,ye.hasPointerCapture=s,ye.setPointerCapture=o,ye.releaseCapture=a;const t=yt(),e=new Map,i=t.Konva._global.PointerEvent!==void 0;function r(l){return e.get(l)}function n(l){return{evt:l,pointerId:l.pointerId}}function s(l,f){return e.get(l)===f}function o(l,f){a(l),f.getStage()&&(e.set(l,f),i&&f._fire("gotpointercapture",n(new PointerEvent("gotpointercapture"))))}function a(l,f){const c=e.get(l);if(!c)return;const p=c.getStage();p&&p.content,e.delete(l),i&&c._fire("lostpointercapture",n(new PointerEvent("lostpointercapture")))}return ye}var ta;function Dc(){return ta||(ta=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Mt(),i=vt(),r=Rn(),n=yt(),s=Tn(),o=Er(),a=yt(),l=Xo(),f="Stage",c="string",p="px",m="mouseout",u="mouseleave",g="mouseover",v="mouseenter",b="mousemove",A="mousedown",h="mouseup",d="pointermove",y="pointerdown",C="pointerup",T="pointercancel",k="lostpointercapture",E="pointerout",N="pointerleave",x="pointerover",F="pointerenter",D="contextmenu",_="touchstart",w="touchend",S="touchmove",R="touchcancel",P="wheel",I=5,q=[[v,"_pointerenter"],[A,"_pointerdown"],[b,"_pointermove"],[h,"_pointerup"],[u,"_pointerleave"],[_,"_pointerdown"],[S,"_pointermove"],[w,"_pointerup"],[R,"_pointercancel"],[g,"_pointerover"],[P,"_wheel"],[D,"_contextmenu"],[y,"_pointerdown"],[d,"_pointermove"],[C,"_pointerup"],[T,"_pointercancel"],[k,"_lostpointercapture"]],X={mouse:{[E]:m,[N]:u,[x]:g,[F]:v,[d]:b,[y]:A,[C]:h,[T]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[E]:"touchout",[N]:"touchleave",[x]:"touchover",[F]:"touchenter",[d]:S,[y]:_,[C]:w,[T]:R,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[E]:E,[N]:N,[x]:x,[F]:F,[d]:d,[y]:y,[C]:C,[T]:T,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},K=nt=>nt.indexOf("pointer")>=0?"pointer":nt.indexOf("touch")>=0?"touch":"mouse",Q=nt=>{const L=K(nt);if(L==="pointer")return n.Konva.pointerEventsEnabled&&X.pointer;if(L==="touch")return X.touch;if(L==="mouse")return X.mouse};function j(nt={}){return(nt.clipFunc||nt.clipWidth||nt.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),nt}const $="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class rt extends r.Container{constructor(L){super(j(L)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{j(this.attrs)}),this._checkVisibility()}_validateAdd(L){const V=L.getType()==="Layer",J=L.getType()==="FastLayer";V||J||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const L=this.visible()?"":"none";this.content.style.display=L}setContainer(L){if(typeof L===c){if(L.charAt(0)==="."){const J=L.slice(1);L=document.getElementsByClassName(J)[0]}else{var V;L.charAt(0)!=="#"?V=L:V=L.slice(1),L=document.getElementById(V)}if(!L)throw"Can not find container in document with id "+V}return this._setAttr("container",L),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),L.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let L=this.children,V=L.length,J;for(J=0;J<V;J++)L[J].clear();return this}clone(L){return L||(L={}),L.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,L)}destroy(){super.destroy();const L=this.content;L&&e.Util._isInDocument(L)&&this.container().removeChild(L);const V=t.stages.indexOf(this);return V>-1&&t.stages.splice(V,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const L=this._pointerPositions[0]||this._changedPointerPositions[0];return L?{x:L.x,y:L.y}:(e.Util.warn($),null)}_getPointerById(L){return this._pointerPositions.find(V=>V.id===L)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(L){L=L||{},L.x=L.x||0,L.y=L.y||0,L.width=L.width||this.width(),L.height=L.height||this.height();const V=new s.SceneCanvas({width:L.width,height:L.height,pixelRatio:L.pixelRatio||1}),J=V.getContext()._context,et=this.children;return(L.x||L.y)&&J.translate(-1*L.x,-1*L.y),et.forEach(function(lt){if(!lt.isVisible())return;const ht=lt._toKonvaCanvas(L);J.drawImage(ht._canvas,L.x,L.y,ht.getWidth()/ht.getPixelRatio(),ht.getHeight()/ht.getPixelRatio())}),V}getIntersection(L){if(!L)return null;let V=this.children,J=V.length,et=J-1,lt;for(lt=et;lt>=0;lt--){const ht=V[lt].getIntersection(L);if(ht)return ht}return null}_resizeDOM(){const L=this.width(),V=this.height();this.content&&(this.content.style.width=L+p,this.content.style.height=V+p),this.bufferCanvas.setSize(L,V),this.bufferHitCanvas.setSize(L,V),this.children.forEach(J=>{J.setSize({width:L,height:V}),J.draw()})}add(L,...V){if(arguments.length>1){for(let et=0;et<arguments.length;et++)this.add(arguments[et]);return this}super.add(L);const J=this.children.length;return J>I&&e.Util.warn("The stage has "+J+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),L.setSize({width:this.width(),height:this.height()}),L.draw(),n.Konva.isBrowser&&this.content.appendChild(L.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(L){return l.hasPointerCapture(L,this)}setPointerCapture(L){l.setPointerCapture(L,this)}releaseCapture(L){l.releaseCapture(L,this)}getLayers(){return this.children}_bindContentEvents(){n.Konva.isBrowser&&q.forEach(([L,V])=>{this.content.addEventListener(L,J=>{this[V](J)},{passive:!1})})}_pointerenter(L){this.setPointersPositions(L);const V=Q(L.type);V&&this._fire(V.pointerenter,{evt:L,target:this,currentTarget:this})}_pointerover(L){this.setPointersPositions(L);const V=Q(L.type);V&&this._fire(V.pointerover,{evt:L,target:this,currentTarget:this})}_getTargetShape(L){let V=this[L+"targetShape"];return V&&!V.getStage()&&(V=null),V}_pointerleave(L){const V=Q(L.type),J=K(L.type);if(!V)return;this.setPointersPositions(L);const et=this._getTargetShape(J),lt=!(n.Konva.isDragging()||n.Konva.isTransforming())||n.Konva.hitOnDragEnabled;et&&lt?(et._fireAndBubble(V.pointerout,{evt:L}),et._fireAndBubble(V.pointerleave,{evt:L}),this._fire(V.pointerleave,{evt:L,target:this,currentTarget:this}),this[J+"targetShape"]=null):lt&&(this._fire(V.pointerleave,{evt:L,target:this,currentTarget:this}),this._fire(V.pointerout,{evt:L,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(L){const V=Q(L.type),J=K(L.type);if(!V)return;this.setPointersPositions(L);let et=!1;this._changedPointerPositions.forEach(lt=>{const ht=this.getIntersection(lt);if(o.DD.justDragged=!1,n.Konva["_"+J+"ListenClick"]=!0,!ht||!ht.isListening()){this[J+"ClickStartShape"]=void 0;return}n.Konva.capturePointerEventsEnabled&&ht.setPointerCapture(lt.id),this[J+"ClickStartShape"]=ht,ht._fireAndBubble(V.pointerdown,{evt:L,pointerId:lt.id}),et=!0;const M=L.type.indexOf("touch")>=0;ht.preventDefault()&&L.cancelable&&M&&L.preventDefault()}),et||this._fire(V.pointerdown,{evt:L,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(L){const V=Q(L.type),J=K(L.type);if(!V||(n.Konva.isDragging()&&o.DD.node.preventDefault()&&L.cancelable&&L.preventDefault(),this.setPointersPositions(L),!(!(n.Konva.isDragging()||n.Konva.isTransforming())||n.Konva.hitOnDragEnabled)))return;const lt={};let ht=!1;const M=this._getTargetShape(J);this._changedPointerPositions.forEach(O=>{const U=l.getCapturedShape(O.id)||this.getIntersection(O),B=O.id,G={evt:L,pointerId:B},H=M!==U;if(H&&M&&(M._fireAndBubble(V.pointerout,{...G},U),M._fireAndBubble(V.pointerleave,{...G},U)),U){if(lt[U._id])return;lt[U._id]=!0}U&&U.isListening()?(ht=!0,H&&(U._fireAndBubble(V.pointerover,{...G},M),U._fireAndBubble(V.pointerenter,{...G},M),this[J+"targetShape"]=U),U._fireAndBubble(V.pointermove,{...G})):M&&(this._fire(V.pointerover,{evt:L,target:this,currentTarget:this,pointerId:B}),this[J+"targetShape"]=null)}),ht||this._fire(V.pointermove,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(L){const V=Q(L.type),J=K(L.type);if(!V)return;this.setPointersPositions(L);const et=this[J+"ClickStartShape"],lt=this[J+"ClickEndShape"],ht={};let M=!1;this._changedPointerPositions.forEach(O=>{const U=l.getCapturedShape(O.id)||this.getIntersection(O);if(U){if(U.releaseCapture(O.id),ht[U._id])return;ht[U._id]=!0}const B=O.id,G={evt:L,pointerId:B};let H=!1;n.Konva["_"+J+"InDblClickWindow"]?(H=!0,clearTimeout(this[J+"DblTimeout"])):o.DD.justDragged||(n.Konva["_"+J+"InDblClickWindow"]=!0,clearTimeout(this[J+"DblTimeout"])),this[J+"DblTimeout"]=setTimeout(function(){n.Konva["_"+J+"InDblClickWindow"]=!1},n.Konva.dblClickWindow),U&&U.isListening()?(M=!0,this[J+"ClickEndShape"]=U,U._fireAndBubble(V.pointerup,{...G}),n.Konva["_"+J+"ListenClick"]&&et&&et===U&&(U._fireAndBubble(V.pointerclick,{...G}),H&&lt&&lt===U&&U._fireAndBubble(V.pointerdblclick,{...G}))):(this[J+"ClickEndShape"]=null,n.Konva["_"+J+"ListenClick"]&&this._fire(V.pointerclick,{evt:L,target:this,currentTarget:this,pointerId:B}),H&&this._fire(V.pointerdblclick,{evt:L,target:this,currentTarget:this,pointerId:B}))}),M||this._fire(V.pointerup,{evt:L,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),n.Konva["_"+J+"ListenClick"]=!1,L.cancelable&&J!=="touch"&&L.preventDefault()}_contextmenu(L){this.setPointersPositions(L);const V=this.getIntersection(this.getPointerPosition());V&&V.isListening()?V._fireAndBubble(D,{evt:L}):this._fire(D,{evt:L,target:this,currentTarget:this})}_wheel(L){this.setPointersPositions(L);const V=this.getIntersection(this.getPointerPosition());V&&V.isListening()?V._fireAndBubble(P,{evt:L}):this._fire(P,{evt:L,target:this,currentTarget:this})}_pointercancel(L){this.setPointersPositions(L);const V=l.getCapturedShape(L.pointerId)||this.getIntersection(this.getPointerPosition());V&&V._fireAndBubble(C,l.createEvent(L)),l.releaseCapture(L.pointerId)}_lostpointercapture(L){l.releaseCapture(L.pointerId)}setPointersPositions(L){let V=this._getContentPosition(),J=null,et=null;L=L||window.event,L.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(L.touches,lt=>{this._pointerPositions.push({id:lt.identifier,x:(lt.clientX-V.left)/V.scaleX,y:(lt.clientY-V.top)/V.scaleY})}),Array.prototype.forEach.call(L.changedTouches||L.touches,lt=>{this._changedPointerPositions.push({id:lt.identifier,x:(lt.clientX-V.left)/V.scaleX,y:(lt.clientY-V.top)/V.scaleY})})):(J=(L.clientX-V.left)/V.scaleX,et=(L.clientY-V.top)/V.scaleY,this.pointerPos={x:J,y:et},this._pointerPositions=[{x:J,y:et,id:e.Util._getFirstPointerId(L)}],this._changedPointerPositions=[{x:J,y:et,id:e.Util._getFirstPointerId(L)}])}_setPointerPosition(L){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(L)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const L=this.content.getBoundingClientRect();return{top:L.top,left:L.left,scaleX:L.width/this.content.clientWidth||1,scaleY:L.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!n.Konva.isBrowser)return;const L=this.container();if(!L)throw"Stage has no container. A container is required.";L.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),L.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(L){L.batchDraw()}),this}}t.Stage=rt,rt.prototype.nodeType=f,(0,a._registerNode)(rt),i.Factory.addGetterSetter(rt,"container"),n.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(nt=>{nt.batchDraw()})})}(Wn)),Wn}var Ye={},jn={},ea;function Gt(){return ea||(ea=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=yt(),i=Mt(),r=vt(),n=Nt(),s=bt(),o=yt(),a=Xo(),l="hasShadow",f="shadowRGBA",c="patternImage",p="linearGradient",m="radialGradient";let u;function g(){return u||(u=i.Util.createCanvasElement().getContext("2d"),u)}t.shapes={};function v(N){const x=this.attrs.fillRule;x?N.fill(x):N.fill()}function b(N){N.stroke()}function A(N){const x=this.attrs.fillRule;x?N.fill(x):N.fill()}function h(N){N.stroke()}function d(){this._clearCache(l)}function y(){this._clearCache(f)}function C(){this._clearCache(c)}function T(){this._clearCache(p)}function k(){this._clearCache(m)}class E extends n.Node{constructor(x){super(x);let F;for(;F=i.Util.getRandomColor(),!(F&&!(F in t.shapes)););this.colorKey=F,t.shapes[F]=this}getContext(){return i.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return i.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(c,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const F=g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(F&&F.setTransform){const D=new i.Transform;D.translate(this.fillPatternX(),this.fillPatternY()),D.rotate(e.Konva.getAngle(this.fillPatternRotation())),D.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),D.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const _=D.getMatrix(),w=typeof DOMMatrix>"u"?{a:_[0],b:_[1],c:_[2],d:_[3],e:_[4],f:_[5]}:new DOMMatrix(_);F.setTransform(w)}return F}}_getLinearGradient(){return this._getCache(p,this.__getLinearGradient)}__getLinearGradient(){const x=this.fillLinearGradientColorStops();if(x){const F=g(),D=this.fillLinearGradientStartPoint(),_=this.fillLinearGradientEndPoint(),w=F.createLinearGradient(D.x,D.y,_.x,_.y);for(let S=0;S<x.length;S+=2)w.addColorStop(x[S],x[S+1]);return w}}_getRadialGradient(){return this._getCache(m,this.__getRadialGradient)}__getRadialGradient(){const x=this.fillRadialGradientColorStops();if(x){const F=g(),D=this.fillRadialGradientStartPoint(),_=this.fillRadialGradientEndPoint(),w=F.createRadialGradient(D.x,D.y,this.fillRadialGradientStartRadius(),_.x,_.y,this.fillRadialGradientEndRadius());for(let S=0;S<x.length;S+=2)w.addColorStop(x[S],x[S+1]);return w}}getShadowRGBA(){return this._getCache(f,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const x=i.Util.colorToRGBA(this.shadowColor());if(x)return"rgba("+x.r+","+x.g+","+x.b+","+x.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const x=this.hitStrokeWidth();return x==="auto"?this.hasStroke():this.strokeEnabled()&&!!x}intersects(x){const F=this.getStage();if(!F)return!1;const D=F.bufferHitCanvas;return D.getContext().clear(),this.drawHit(D,void 0,!0),D.context.getImageData(Math.round(x.x),Math.round(x.y),1,1).data[3]>0}destroy(){return n.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(x){var F;if(!((F=this.attrs.perfectDrawEnabled)!==null&&F!==void 0?F:!0))return!1;const _=x||this.hasFill(),w=this.hasStroke(),S=this.getAbsoluteOpacity()!==1;if(_&&w&&S)return!0;const R=this.hasShadow(),P=this.shadowForStrokeEnabled();return!!(_&&w&&R&&P)}setStrokeHitEnabled(x){i.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),x?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const x=this.size();return{x:this._centroid?-x.width/2:0,y:this._centroid?-x.height/2:0,width:x.width,height:x.height}}getClientRect(x={}){let F=!1,D=this.getParent();for(;D;){if(D.isCached()){F=!0;break}D=D.getParent()}const _=x.skipTransform,w=x.relativeTo||F&&this.getStage()||void 0,S=this.getSelfRect(),P=!x.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,I=S.width+P,q=S.height+P,X=!x.skipShadow&&this.hasShadow(),K=X?this.shadowOffsetX():0,Q=X?this.shadowOffsetY():0,j=I+Math.abs(K),$=q+Math.abs(Q),rt=X&&this.shadowBlur()||0,nt=j+rt*2,L=$+rt*2,V={width:nt,height:L,x:-(P/2+rt)+Math.min(K,0)+S.x,y:-(P/2+rt)+Math.min(Q,0)+S.y};return _?V:this._transformedRect(V,w)}drawScene(x,F,D){const _=this.getLayer();let w=x||_.getCanvas(),S=w.getContext(),R=this._getCanvasCache(),P=this.getSceneFunc(),I=this.hasShadow(),q,X;const K=w.isCache,Q=F===this;if(!this.isVisible()&&!Q)return this;if(R){S.save();const $=this.getAbsoluteTransform(F).getMatrix();return S.transform($[0],$[1],$[2],$[3],$[4],$[5]),this._drawCachedSceneCanvas(S),S.restore(),this}if(!P)return this;if(S.save(),this._useBufferCanvas()&&!K){q=this.getStage();const $=D||q.bufferCanvas;X=$.getContext(),X.clear(),X.save(),X._applyLineJoin(this);var j=this.getAbsoluteTransform(F).getMatrix();X.transform(j[0],j[1],j[2],j[3],j[4],j[5]),P.call(this,X,this),X.restore();const rt=$.pixelRatio;I&&S._applyShadow(this),S._applyOpacity(this),S._applyGlobalCompositeOperation(this),S.drawImage($._canvas,0,0,$.width/rt,$.height/rt)}else{if(S._applyLineJoin(this),!Q){var j=this.getAbsoluteTransform(F).getMatrix();S.transform(j[0],j[1],j[2],j[3],j[4],j[5]),S._applyOpacity(this),S._applyGlobalCompositeOperation(this)}I&&S._applyShadow(this),P.call(this,S,this)}return S.restore(),this}drawHit(x,F,D=!1){if(!this.shouldDrawHit(F,D))return this;const _=this.getLayer(),w=x||_.hitCanvas,S=w&&w.getContext(),R=this.hitFunc()||this.sceneFunc(),P=this._getCanvasCache(),I=P&&P.hit;if(this.colorKey||i.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),I){S.save();const X=this.getAbsoluteTransform(F).getMatrix();return S.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._drawCachedHitCanvas(S),S.restore(),this}if(!R)return this;if(S.save(),S._applyLineJoin(this),!(this===F)){const X=this.getAbsoluteTransform(F).getMatrix();S.transform(X[0],X[1],X[2],X[3],X[4],X[5])}return R.call(this,S,this),S.restore(),this}drawHitFromCache(x=0){let F=this._getCanvasCache(),D=this._getCachedSceneCanvas(),_=F.hit,w=_.getContext(),S=_.getWidth(),R=_.getHeight(),P,I,q,X,K,Q;w.clear(),w.drawImage(D._canvas,0,0,S,R);try{for(P=w.getImageData(0,0,S,R),I=P.data,q=I.length,X=i.Util._hexToRgb(this.colorKey),K=0;K<q;K+=4)Q=I[K+3],Q>x?(I[K]=X.r,I[K+1]=X.g,I[K+2]=X.b,I[K+3]=255):I[K+3]=0;w.putImageData(P,0,0)}catch(j){i.Util.error("Unable to draw hit graph from cached scene canvas. "+j.message)}return this}hasPointerCapture(x){return a.hasPointerCapture(x,this)}setPointerCapture(x){a.setPointerCapture(x,this)}releaseCapture(x){a.releaseCapture(x,this)}}t.Shape=E,E.prototype._fillFunc=v,E.prototype._strokeFunc=b,E.prototype._fillFuncHit=A,E.prototype._strokeFuncHit=h,E.prototype._centroid=!1,E.prototype.nodeType="Shape",(0,o._registerNode)(E),E.prototype.eventListeners={},E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",d),E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",y),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",C),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",T),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",k),r.Factory.addGetterSetter(E,"stroke",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(E,"strokeWidth",2,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(E,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(E,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(E,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(E,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(E,"lineJoin"),r.Factory.addGetterSetter(E,"lineCap"),r.Factory.addGetterSetter(E,"sceneFunc"),r.Factory.addGetterSetter(E,"hitFunc"),r.Factory.addGetterSetter(E,"dash"),r.Factory.addGetterSetter(E,"dashOffset",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(E,"shadowColor",void 0,(0,s.getStringValidator)()),r.Factory.addGetterSetter(E,"shadowBlur",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(E,"shadowOpacity",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(E,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(E,"shadowOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(E,"shadowOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternImage"),r.Factory.addGetterSetter(E,"fill",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(E,"fillPatternX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(E,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(E,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(E,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(E,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(E,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(E,"fillEnabled",!0),r.Factory.addGetterSetter(E,"strokeEnabled",!0),r.Factory.addGetterSetter(E,"shadowEnabled",!0),r.Factory.addGetterSetter(E,"dashEnabled",!0),r.Factory.addGetterSetter(E,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(E,"fillPriority","color"),r.Factory.addComponentsGetterSetter(E,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(E,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(E,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(E,"fillPatternScaleX",1,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternScaleY",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(E,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(E,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(E,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(E,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(E,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(E,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(E,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(E,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(E,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(E,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(E,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(E,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(E,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(E,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(E,"fillPatternRotation",0),r.Factory.addGetterSetter(E,"fillRule",void 0,(0,s.getStringValidator)()),r.Factory.backCompat(E,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(jn)),jn}var ia;function Zo(){if(ia)return Ye;ia=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.Layer=void 0;const t=Mt(),e=Rn(),i=Nt(),r=vt(),n=Tn(),s=bt(),o=Gt(),a=yt(),l="#",f="beforeDraw",c="draw",p=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],m=p.length;let u=class extends e.Container{constructor(v){super(v),this.canvas=new n.SceneCanvas,this.hitCanvas=new n.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(v){return this.getContext().clear(v),this.getHitCanvas().getContext().clear(v),this}setZIndex(v){super.setZIndex(v);const b=this.getStage();return b&&b.content&&(b.content.removeChild(this.getNativeCanvasElement()),v<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[v+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){i.Node.prototype.moveToTop.call(this);const v=this.getStage();return v&&v.content&&(v.content.removeChild(this.getNativeCanvasElement()),v.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!i.Node.prototype.moveUp.call(this))return!1;const b=this.getStage();return!b||!b.content?!1:(b.content.removeChild(this.getNativeCanvasElement()),this.index<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[this.index+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(i.Node.prototype.moveDown.call(this)){const v=this.getStage();if(v){const b=v.children;v.content&&(v.content.removeChild(this.getNativeCanvasElement()),v.content.insertBefore(this.getNativeCanvasElement(),b[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(i.Node.prototype.moveToBottom.call(this)){const v=this.getStage();if(v){const b=v.children;v.content&&(v.content.removeChild(this.getNativeCanvasElement()),v.content.insertBefore(this.getNativeCanvasElement(),b[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const v=this.getNativeCanvasElement();return i.Node.prototype.remove.call(this),v&&v.parentNode&&t.Util._isInDocument(v)&&v.parentNode.removeChild(v),this}getStage(){return this.parent}setSize({width:v,height:b}){return this.canvas.setSize(v,b),this.hitCanvas.setSize(v,b),this._setSmoothEnabled(),this}_validateAdd(v){const b=v.getType();b!=="Group"&&b!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(v){return v=v||{},v.width=v.width||this.getWidth(),v.height=v.height||this.getHeight(),v.x=v.x!==void 0?v.x:this.x(),v.y=v.y!==void 0?v.y:this.y(),i.Node.prototype._toKonvaCanvas.call(this,v)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(v){if(!this.isListening()||!this.isVisible())return null;let b=1,A=!1;for(;;){for(let h=0;h<m;h++){const d=p[h],y=this._getIntersection({x:v.x+d.x*b,y:v.y+d.y*b}),C=y.shape;if(C)return C;if(A=!!y.antialiased,!y.antialiased)break}if(A)b+=1;else return null}}_getIntersection(v){const b=this.hitCanvas.pixelRatio,A=this.hitCanvas.context.getImageData(Math.round(v.x*b),Math.round(v.y*b),1,1).data,h=A[3];if(h===255){const d=t.Util._rgbToHex(A[0],A[1],A[2]),y=o.shapes[l+d];return y?{shape:y}:{antialiased:!0}}else if(h>0)return{antialiased:!0};return{}}drawScene(v,b){const A=this.getLayer(),h=v||A&&A.getCanvas();return this._fire(f,{node:this}),this.clearBeforeDraw()&&h.getContext().clear(),e.Container.prototype.drawScene.call(this,h,b),this._fire(c,{node:this}),this}drawHit(v,b){const A=this.getLayer(),h=v||A&&A.hitCanvas;return A&&A.clearBeforeDraw()&&A.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,h,b),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(v){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(v)}getHitGraphEnabled(v){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const v=this.parent;!!this.hitCanvas._canvas.parentNode?v.content.removeChild(this.hitCanvas._canvas):v.content.appendChild(this.hitCanvas._canvas)}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Ye.Layer=u,u.prototype.nodeType="Layer",(0,a._registerNode)(u),r.Factory.addGetterSetter(u,"imageSmoothingEnabled",!0),r.Factory.addGetterSetter(u,"clearBeforeDraw",!0),r.Factory.addGetterSetter(u,"hitGraphEnabled",!0,(0,s.getBooleanValidator)()),Ye}var Xe={},na;function Gc(){if(na)return Xe;na=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.FastLayer=void 0;const t=Mt(),e=Zo(),i=yt();let r=class extends e.Layer{constructor(s){super(s),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Xe.FastLayer=r,r.prototype.nodeType="FastLayer",(0,i._registerNode)(r),Xe}var Ze={},ra;function Fr(){if(ra)return Ze;ra=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.Group=void 0;const t=Mt(),e=Rn(),i=yt();let r=class extends e.Container{_validateAdd(s){const o=s.getType();o!=="Group"&&o!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return Ze.Group=r,r.prototype.nodeType="Group",(0,i._registerNode)(r),Ze}var Qe={},sa;function Mr(){if(sa)return Qe;sa=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.Animation=void 0;const t=yt(),e=Mt(),i=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let r=class De{constructor(s,o){this.id=De.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=s,this.setLayers(o)}setLayers(s){let o=[];return s&&(o=Array.isArray(s)?s:[s]),this.layers=o,this}getLayers(){return this.layers}addLayer(s){const o=this.layers,a=o.length;for(let l=0;l<a;l++)if(o[l]._id===s._id)return!1;return this.layers.push(s),!0}isRunning(){const o=De.animations,a=o.length;for(let l=0;l<a;l++)if(o[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),De._addAnimation(this),this}stop(){return De._removeAnimation(this),this}_updateFrameObject(s){this.frame.timeDiff=s-this.frame.lastTime,this.frame.lastTime=s,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(s){this.animations.push(s),this._handleAnimation()}static _removeAnimation(s){const o=s.id,a=this.animations,l=a.length;for(let f=0;f<l;f++)if(a[f].id===o){this.animations.splice(f,1);break}}static _runFrames(){const s={},o=this.animations;for(let a=0;a<o.length;a++){const l=o[a],f=l.layers,c=l.func;l._updateFrameObject(i());const p=f.length;let m;if(c?m=c.call(l,l.frame)!==!1:m=!0,!!m)for(let u=0;u<p;u++){const g=f[u];g._id!==void 0&&(s[g._id]=g)}}for(const a in s)s.hasOwnProperty(a)&&s[a].batchDraw()}static _animationLoop(){const s=De;s.animations.length?(s._runFrames(),e.Util.requestAnimFrame(s._animationLoop)):s.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return Qe.Animation=r,r.animations=[],r.animIdCounter=0,r.animRunning=!1,Qe}var zn={},aa;function Ic(){return aa||(aa=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Mt(),i=Mr(),r=Nt(),n=yt();let s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,a=2,l=3,f=0,c=["fill","stroke","shadowColor"];class p{constructor(g,v,b,A,h,d,y){this.prop=g,this.propFunc=v,this.begin=A,this._pos=A,this.duration=d,this._change=0,this.prevPos=0,this.yoyo=y,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=b,this._change=h-this.begin,this.pause()}fire(g){const v=this[g];v&&v()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const g=this.getTimer()-this._startTime;this.state===a?this.setTime(g):this.state===l&&this.setTime(this.duration-g)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class m{constructor(g){let v=this,b=g.node,A=b._id,h,d=g.easing||t.Easings.Linear,y=!!g.yoyo,C;typeof g.duration>"u"?h=.3:g.duration===0?h=.001:h=g.duration,this.node=b,this._id=f++;const T=b.getLayer()||(b instanceof n.Konva.Stage?b.getLayers():null);T||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation(function(){v.tween.onEnterFrame()},T),this.tween=new p(C,function(k){v._tweenFunc(k)},d,0,1,h*1e3,y),this._addListeners(),m.attrs[A]||(m.attrs[A]={}),m.attrs[A][this._id]||(m.attrs[A][this._id]={}),m.tweens[A]||(m.tweens[A]={});for(C in g)s[C]===void 0&&this._addAttr(C,g[C]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,v){let b=this.node,A=b._id,h,d,y,C,T,k,E,N;if(y=m.tweens[A][g],y&&delete m.attrs[A][y][g],h=b.getAttr(g),e.Util._isArray(v))if(d=[],T=Math.max(v.length,h.length),g==="points"&&v.length!==h.length&&(v.length>h.length?(E=h,h=e.Util._prepareArrayForTween(h,v,b.closed())):(k=v,v=e.Util._prepareArrayForTween(v,h,b.closed()))),g.indexOf("fill")===0)for(C=0;C<T;C++)if(C%2===0)d.push(v[C]-h[C]);else{const x=e.Util.colorToRGBA(h[C]);N=e.Util.colorToRGBA(v[C]),h[C]=x,d.push({r:N.r-x.r,g:N.g-x.g,b:N.b-x.b,a:N.a-x.a})}else for(C=0;C<T;C++)d.push(v[C]-h[C]);else c.indexOf(g)!==-1?(h=e.Util.colorToRGBA(h),N=e.Util.colorToRGBA(v),d={r:N.r-h.r,g:N.g-h.g,b:N.b-h.b,a:N.a-h.a}):d=v-h;m.attrs[A][this._id][g]={start:h,diff:d,end:v,trueEnd:k,trueStart:E},m.tweens[A][g]=this._id}_tweenFunc(g){let v=this.node,b=m.attrs[v._id][this._id],A,h,d,y,C,T,k,E;for(A in b){if(h=b[A],d=h.start,y=h.diff,E=h.end,e.Util._isArray(d))if(C=[],k=Math.max(d.length,E.length),A.indexOf("fill")===0)for(T=0;T<k;T++)T%2===0?C.push((d[T]||0)+y[T]*g):C.push("rgba("+Math.round(d[T].r+y[T].r*g)+","+Math.round(d[T].g+y[T].g*g)+","+Math.round(d[T].b+y[T].b*g)+","+(d[T].a+y[T].a*g)+")");else for(T=0;T<k;T++)C.push((d[T]||0)+y[T]*g);else c.indexOf(A)!==-1?C="rgba("+Math.round(d.r+y.r*g)+","+Math.round(d.g+y.g*g)+","+Math.round(d.b+y.b*g)+","+(d.a+y.a*g)+")":C=d+y*g;v.setAttr(A,C)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const g=this.node,v=m.attrs[g._id][this._id];v.points&&v.points.trueEnd&&g.setAttr("points",v.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const g=this.node,v=m.attrs[g._id][this._id];v.points&&v.points.trueStart&&g.points(v.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let g=this.node._id,v=this._id,b=m.tweens[g],A;this.pause();for(A in b)delete m.tweens[g][A];delete m.attrs[g][v]}}t.Tween=m,m.attrs={},m.tweens={},r.Node.prototype.to=function(u){const g=u.onFinish;u.node=this,u.onFinish=function(){this.destroy(),g&&g()},new m(u).play()},t.Easings={BackEaseIn(u,g,v,b){return v*(u/=b)*u*((1.70158+1)*u-1.70158)+g},BackEaseOut(u,g,v,b){return v*((u=u/b-1)*u*((1.70158+1)*u+1.70158)+1)+g},BackEaseInOut(u,g,v,b){let A=1.70158;return(u/=b/2)<1?v/2*(u*u*(((A*=1.525)+1)*u-A))+g:v/2*((u-=2)*u*(((A*=1.525)+1)*u+A)+2)+g},ElasticEaseIn(u,g,v,b,A,h){let d=0;return u===0?g:(u/=b)===1?g+v:(h||(h=b*.3),!A||A<Math.abs(v)?(A=v,d=h/4):d=h/(2*Math.PI)*Math.asin(v/A),-(A*Math.pow(2,10*(u-=1))*Math.sin((u*b-d)*(2*Math.PI)/h))+g)},ElasticEaseOut(u,g,v,b,A,h){let d=0;return u===0?g:(u/=b)===1?g+v:(h||(h=b*.3),!A||A<Math.abs(v)?(A=v,d=h/4):d=h/(2*Math.PI)*Math.asin(v/A),A*Math.pow(2,-10*u)*Math.sin((u*b-d)*(2*Math.PI)/h)+v+g)},ElasticEaseInOut(u,g,v,b,A,h){let d=0;return u===0?g:(u/=b/2)===2?g+v:(h||(h=b*(.3*1.5)),!A||A<Math.abs(v)?(A=v,d=h/4):d=h/(2*Math.PI)*Math.asin(v/A),u<1?-.5*(A*Math.pow(2,10*(u-=1))*Math.sin((u*b-d)*(2*Math.PI)/h))+g:A*Math.pow(2,-10*(u-=1))*Math.sin((u*b-d)*(2*Math.PI)/h)*.5+v+g)},BounceEaseOut(u,g,v,b){return(u/=b)<1/2.75?v*(7.5625*u*u)+g:u<2/2.75?v*(7.5625*(u-=1.5/2.75)*u+.75)+g:u<2.5/2.75?v*(7.5625*(u-=2.25/2.75)*u+.9375)+g:v*(7.5625*(u-=2.625/2.75)*u+.984375)+g},BounceEaseIn(u,g,v,b){return v-t.Easings.BounceEaseOut(b-u,0,v,b)+g},BounceEaseInOut(u,g,v,b){return u<b/2?t.Easings.BounceEaseIn(u*2,0,v,b)*.5+g:t.Easings.BounceEaseOut(u*2-b,0,v,b)*.5+v*.5+g},EaseIn(u,g,v,b){return v*(u/=b)*u+g},EaseOut(u,g,v,b){return-v*(u/=b)*(u-2)+g},EaseInOut(u,g,v,b){return(u/=b/2)<1?v/2*u*u+g:-v/2*(--u*(u-2)-1)+g},StrongEaseIn(u,g,v,b){return v*(u/=b)*u*u*u*u+g},StrongEaseOut(u,g,v,b){return v*((u=u/b-1)*u*u*u*u+1)+g},StrongEaseInOut(u,g,v,b){return(u/=b/2)<1?v/2*u*u*u*u*u+g:v/2*((u-=2)*u*u*u*u+2)+g},Linear(u,g,v,b){return v*u/b+g}}}(zn)),zn}var oa;function Uc(){return oa||(oa=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=yt(),i=Mt(),r=Nt(),n=Rn(),s=Dc(),o=Zo(),a=Gc(),l=Fr(),f=Er(),c=Gt(),p=Mr(),m=Ic(),u=Yo(),g=Tn();t.Konva=i.Util._assign(e.Konva,{Util:i.Util,Transform:i.Transform,Node:r.Node,Container:n.Container,Stage:s.Stage,stages:s.stages,Layer:o.Layer,FastLayer:a.FastLayer,Group:l.Group,DD:f.DD,Shape:c.Shape,shapes:c.shapes,Animation:p.Animation,Tween:m.Tween,Easings:m.Easings,Context:u.Context,Canvas:g.Canvas}),t.default=t.Konva}(Un)),Un}var Je={},la;function Bc(){if(la)return Je;la=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.Arc=void 0;const t=vt(),e=Gt(),i=yt(),r=bt(),n=yt();let s=class extends e.Shape{_sceneFunc(a){const l=i.Konva.getAngle(this.angle()),f=this.clockwise();a.beginPath(),a.arc(0,0,this.outerRadius(),0,l,f),a.arc(0,0,this.innerRadius(),l,0,!f),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}getSelfRect(){const a=this.innerRadius(),l=this.outerRadius(),f=this.clockwise(),c=i.Konva.getAngle(f?360-this.angle():this.angle()),p=Math.cos(Math.min(c,Math.PI)),m=1,u=Math.sin(Math.min(Math.max(Math.PI,c),3*Math.PI/2)),g=Math.sin(Math.min(c,Math.PI/2)),v=p*(p>0?a:l),b=m*l,A=u*(u>0?a:l),h=g*(g>0?l:a);return{x:v,y:f?-1*h:A,width:b-v,height:h-A}}};return Je.Arc=s,s.prototype._centroid=!0,s.prototype.className="Arc",s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"innerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"angle",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"clockwise",!1,(0,r.getBooleanValidator)()),Je}var $e={},ti={},ha;function Qo(){if(ha)return ti;ha=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.Line=void 0;const t=vt(),e=yt(),i=Gt(),r=bt();function n(a,l,f,c,p,m,u){const g=Math.sqrt(Math.pow(f-a,2)+Math.pow(c-l,2)),v=Math.sqrt(Math.pow(p-f,2)+Math.pow(m-c,2)),b=u*g/(g+v),A=u*v/(g+v),h=f-b*(p-a),d=c-b*(m-l),y=f+A*(p-a),C=c+A*(m-l);return[h,d,y,C]}function s(a,l){const f=a.length,c=[];for(let p=2;p<f-2;p+=2){const m=n(a[p-2],a[p-1],a[p],a[p+1],a[p+2],a[p+3],l);isNaN(m[0])||(c.push(m[0]),c.push(m[1]),c.push(a[p]),c.push(a[p+1]),c.push(m[2]),c.push(m[3]))}return c}let o=class extends i.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){let f=this.points(),c=f.length,p=this.tension(),m=this.closed(),u=this.bezier(),g,v,b;if(c){if(l.beginPath(),l.moveTo(f[0],f[1]),p!==0&&c>4){for(g=this.getTensionPoints(),v=g.length,b=m?0:4,m||l.quadraticCurveTo(g[0],g[1],g[2],g[3]);b<v-2;)l.bezierCurveTo(g[b++],g[b++],g[b++],g[b++],g[b++],g[b++]);m||l.quadraticCurveTo(g[v-2],g[v-1],f[c-2],f[c-1])}else if(u)for(b=2;b<c;)l.bezierCurveTo(f[b++],f[b++],f[b++],f[b++],f[b++],f[b++]);else for(b=2;b<c;b+=2)l.lineTo(f[b],f[b+1]);m?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():s(this.points(),this.tension())}_getTensionPointsClosed(){const l=this.points(),f=l.length,c=this.tension(),p=n(l[f-2],l[f-1],l[0],l[1],l[2],l[3],c),m=n(l[f-4],l[f-3],l[f-2],l[f-1],l[0],l[1],c),u=s(l,c);return[p[2],p[3]].concat(u).concat([m[0],m[1],l[f-2],l[f-1],m[2],m[3],p[0],p[1],l[0],l[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();let f=l[0],c=l[0],p=l[1],m=l[1],u,g;for(let v=0;v<l.length/2;v++)u=l[v*2],g=l[v*2+1],f=Math.min(f,u),c=Math.max(c,u),p=Math.min(p,g),m=Math.max(m,g);return{x:f,y:p,width:c-f,height:m-p}}};return ti.Line=o,o.prototype.className="Line",o.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(o),t.Factory.addGetterSetter(o,"closed",!1),t.Factory.addGetterSetter(o,"bezier",!1),t.Factory.addGetterSetter(o,"tension",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(o,"points",[],(0,r.getNumberArrayValidator)()),ti}var ei={},Kn={},ca;function Vc(){return ca||(ca=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(o,a,l)=>{let f,c;const m=l/2;f=0;for(let u=0;u<20;u++)c=m*t.tValues[20][u]+m,f+=t.cValues[20][u]*r(o,a,c);return m*f};t.getCubicArcLength=e;const i=(o,a,l)=>{l===void 0&&(l=1);const f=o[0]-2*o[1]+o[2],c=a[0]-2*a[1]+a[2],p=2*o[1]-2*o[0],m=2*a[1]-2*a[0],u=4*(f*f+c*c),g=4*(f*p+c*m),v=p*p+m*m;if(u===0)return l*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(a[2]-a[0],2));const b=g/(2*u),A=v/u,h=l+b,d=A-b*b,y=h*h+d>0?Math.sqrt(h*h+d):0,C=b*b+d>0?Math.sqrt(b*b+d):0,T=b+Math.sqrt(b*b+d)!==0?d*Math.log(Math.abs((h+y)/(b+C))):0;return Math.sqrt(u)/2*(h*y-b*C+T)};t.getQuadraticArcLength=i;function r(o,a,l){const f=n(1,l,o),c=n(1,l,a),p=f*f+c*c;return Math.sqrt(p)}const n=(o,a,l)=>{const f=l.length-1;let c,p;if(f===0)return 0;if(o===0){p=0;for(let m=0;m<=f;m++)p+=t.binomialCoefficients[f][m]*Math.pow(1-a,f-m)*Math.pow(a,m)*l[m];return p}else{c=new Array(f);for(let m=0;m<f;m++)c[m]=f*(l[m+1]-l[m]);return n(o-1,a,c)}},s=(o,a,l)=>{let f=1,c=o/a,p=(o-l(c))/a,m=0;for(;f>.001;){const u=l(c+p),g=Math.abs(o-u)/a;if(g<f)f=g,c+=p;else{const v=l(c-p),b=Math.abs(o-v)/a;b<f?(f=b,c-=p):p/=2}if(m++,m>500)break}return c};t.t2length=s}(Kn)),Kn}var da;function kr(){if(da)return ei;da=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.Path=void 0;const t=vt(),e=Gt(),i=yt(),r=Vc();let n=class Yt extends e.Shape{constructor(o){super(o),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Yt.parsePathData(this.data()),this.pathLength=Yt.getPathLength(this.dataArray)}_sceneFunc(o){const a=this.dataArray;o.beginPath();let l=!1;for(let y=0;y<a.length;y++){const C=a[y].command,T=a[y].points;switch(C){case"L":o.lineTo(T[0],T[1]);break;case"M":o.moveTo(T[0],T[1]);break;case"C":o.bezierCurveTo(T[0],T[1],T[2],T[3],T[4],T[5]);break;case"Q":o.quadraticCurveTo(T[0],T[1],T[2],T[3]);break;case"A":var f=T[0],c=T[1],p=T[2],m=T[3],u=T[4],g=T[5],v=T[6],b=T[7],A=p>m?p:m,h=p>m?1:p/m,d=p>m?m/p:1;o.translate(f,c),o.rotate(v),o.scale(h,d),o.arc(0,0,A,u,u+g,1-b),o.scale(1/h,1/d),o.rotate(-v),o.translate(-f,-c);break;case"z":l=!0,o.closePath();break}}!l&&!this.hasFill()?o.strokeShape(this):o.fillStrokeShape(this)}getSelfRect(){let o=[];this.dataArray.forEach(function(u){if(u.command==="A"){const g=u.points[4],v=u.points[5],b=u.points[4]+v;let A=Math.PI/180;if(Math.abs(g-b)<A&&(A=Math.abs(g-b)),v<0)for(let h=g-A;h>b;h-=A){const d=Yt.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],h,0);o.push(d.x,d.y)}else for(let h=g+A;h<b;h+=A){const d=Yt.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],h,0);o.push(d.x,d.y)}}else if(u.command==="C")for(let g=0;g<=1;g+=.01){const v=Yt.getPointOnCubicBezier(g,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);o.push(v.x,v.y)}else o=o.concat(u.points)});let a=o[0],l=o[0],f=o[1],c=o[1],p,m;for(let u=0;u<o.length/2;u++)p=o[u*2],m=o[u*2+1],isNaN(p)||(a=Math.min(a,p),l=Math.max(l,p)),isNaN(m)||(f=Math.min(f,m),c=Math.max(c,m));return{x:a,y:f,width:l-a,height:c-f}}getLength(){return this.pathLength}getPointAtLength(o){return Yt.getPointAtLengthOfDataArray(o,this.dataArray)}static getLineLength(o,a,l,f){return Math.sqrt((l-o)*(l-o)+(f-a)*(f-a))}static getPathLength(o){let a=0;for(let l=0;l<o.length;++l)a+=o[l].pathLength;return a}static getPointAtLengthOfDataArray(o,a){let l,f=0,c=a.length;if(!c)return null;for(;f<c&&o>a[f].pathLength;)o-=a[f].pathLength,++f;if(f===c)return l=a[f-1].points.slice(-2),{x:l[0],y:l[1]};if(o<.01)return l=a[f].points.slice(0,2),{x:l[0],y:l[1]};const p=a[f],m=p.points;switch(p.command){case"L":return Yt.getPointOnLine(o,p.start.x,p.start.y,m[0],m[1]);case"C":return Yt.getPointOnCubicBezier((0,r.t2length)(o,Yt.getPathLength(a),y=>(0,r.getCubicArcLength)([p.start.x,m[0],m[2],m[4]],[p.start.y,m[1],m[3],m[5]],y)),p.start.x,p.start.y,m[0],m[1],m[2],m[3],m[4],m[5]);case"Q":return Yt.getPointOnQuadraticBezier((0,r.t2length)(o,Yt.getPathLength(a),y=>(0,r.getQuadraticArcLength)([p.start.x,m[0],m[2]],[p.start.y,m[1],m[3]],y)),p.start.x,p.start.y,m[0],m[1],m[2],m[3]);case"A":var u=m[0],g=m[1],v=m[2],b=m[3],A=m[4],h=m[5],d=m[6];return A+=h*o/p.pathLength,Yt.getPointOnEllipticalArc(u,g,v,b,A,d)}return null}static getPointOnLine(o,a,l,f,c,p,m){p=p??a,m=m??l;const u=this.getLineLength(a,l,f,c);if(u<1e-10)return{x:a,y:l};if(f===a)return{x:p,y:m+(c>l?o:-o)};const g=(c-l)/(f-a),v=Math.sqrt(o*o/(1+g*g))*(f<a?-1:1),b=g*v;if(Math.abs(m-l-g*(p-a))<1e-10)return{x:p+v,y:m+b};const A=((p-a)*(f-a)+(m-l)*(c-l))/(u*u),h=a+A*(f-a),d=l+A*(c-l),y=this.getLineLength(p,m,h,d),C=Math.sqrt(o*o-y*y),T=Math.sqrt(C*C/(1+g*g))*(f<a?-1:1),k=g*T;return{x:h+T,y:d+k}}static getPointOnCubicBezier(o,a,l,f,c,p,m,u,g){function v(C){return C*C*C}function b(C){return 3*C*C*(1-C)}function A(C){return 3*C*(1-C)*(1-C)}function h(C){return(1-C)*(1-C)*(1-C)}const d=u*v(o)+p*b(o)+f*A(o)+a*h(o),y=g*v(o)+m*b(o)+c*A(o)+l*h(o);return{x:d,y}}static getPointOnQuadraticBezier(o,a,l,f,c,p,m){function u(h){return h*h}function g(h){return 2*h*(1-h)}function v(h){return(1-h)*(1-h)}const b=p*u(o)+f*g(o)+a*v(o),A=m*u(o)+c*g(o)+l*v(o);return{x:b,y:A}}static getPointOnEllipticalArc(o,a,l,f,c,p){const m=Math.cos(p),u=Math.sin(p),g={x:l*Math.cos(c),y:f*Math.sin(c)};return{x:o+(g.x*m-g.y*u),y:a+(g.x*u+g.y*m)}}static parsePathData(o){if(!o)return[];let a=o;const l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];a=a.replace(new RegExp(" ","g"),",");for(var f=0;f<l.length;f++)a=a.replace(new RegExp(l[f],"g"),"|"+l[f]);const c=a.split("|"),p=[],m=[];let u=0,g=0;const v=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let b;for(f=1;f<c.length;f++){let _=c[f],w=_.charAt(0);for(_=_.slice(1),m.length=0;b=v.exec(_);)m.push(b[0]);const S=[];for(let R=0,P=m.length;R<P;R++){if(m[R]==="00"){S.push(0,0);continue}const I=parseFloat(m[R]);isNaN(I)?S.push(0):S.push(I)}for(;S.length>0&&!isNaN(S[0]);){let R="",P=[];const I=u,q=g;var A,h,d,y,C,T,k,E,N,x;switch(w){case"l":u+=S.shift(),g+=S.shift(),R="L",P.push(u,g);break;case"L":u=S.shift(),g=S.shift(),P.push(u,g);break;case"m":var F=S.shift(),D=S.shift();if(u+=F,g+=D,R="M",p.length>2&&p[p.length-1].command==="z"){for(let X=p.length-2;X>=0;X--)if(p[X].command==="M"){u=p[X].points[0]+F,g=p[X].points[1]+D;break}}P.push(u,g),w="l";break;case"M":u=S.shift(),g=S.shift(),R="M",P.push(u,g),w="L";break;case"h":u+=S.shift(),R="L",P.push(u,g);break;case"H":u=S.shift(),R="L",P.push(u,g);break;case"v":g+=S.shift(),R="L",P.push(u,g);break;case"V":g=S.shift(),R="L",P.push(u,g);break;case"C":P.push(S.shift(),S.shift(),S.shift(),S.shift()),u=S.shift(),g=S.shift(),P.push(u,g);break;case"c":P.push(u+S.shift(),g+S.shift(),u+S.shift(),g+S.shift()),u+=S.shift(),g+=S.shift(),R="C",P.push(u,g);break;case"S":h=u,d=g,A=p[p.length-1],A.command==="C"&&(h=u+(u-A.points[2]),d=g+(g-A.points[3])),P.push(h,d,S.shift(),S.shift()),u=S.shift(),g=S.shift(),R="C",P.push(u,g);break;case"s":h=u,d=g,A=p[p.length-1],A.command==="C"&&(h=u+(u-A.points[2]),d=g+(g-A.points[3])),P.push(h,d,u+S.shift(),g+S.shift()),u+=S.shift(),g+=S.shift(),R="C",P.push(u,g);break;case"Q":P.push(S.shift(),S.shift()),u=S.shift(),g=S.shift(),P.push(u,g);break;case"q":P.push(u+S.shift(),g+S.shift()),u+=S.shift(),g+=S.shift(),R="Q",P.push(u,g);break;case"T":h=u,d=g,A=p[p.length-1],A.command==="Q"&&(h=u+(u-A.points[0]),d=g+(g-A.points[1])),u=S.shift(),g=S.shift(),R="Q",P.push(h,d,u,g);break;case"t":h=u,d=g,A=p[p.length-1],A.command==="Q"&&(h=u+(u-A.points[0]),d=g+(g-A.points[1])),u+=S.shift(),g+=S.shift(),R="Q",P.push(h,d,u,g);break;case"A":y=S.shift(),C=S.shift(),T=S.shift(),k=S.shift(),E=S.shift(),N=u,x=g,u=S.shift(),g=S.shift(),R="A",P=this.convertEndpointToCenterParameterization(N,x,u,g,k,E,y,C,T);break;case"a":y=S.shift(),C=S.shift(),T=S.shift(),k=S.shift(),E=S.shift(),N=u,x=g,u+=S.shift(),g+=S.shift(),R="A",P=this.convertEndpointToCenterParameterization(N,x,u,g,k,E,y,C,T);break}p.push({command:R||w,points:P,start:{x:I,y:q},pathLength:this.calcLength(I,q,R||w,P)})}(w==="z"||w==="Z")&&p.push({command:"z",points:[],start:void 0,pathLength:0})}return p}static calcLength(o,a,l,f){let c,p,m,u;const g=Yt;switch(l){case"L":return g.getLineLength(o,a,f[0],f[1]);case"C":return(0,r.getCubicArcLength)([o,f[0],f[2],f[4]],[a,f[1],f[3],f[5]],1);case"Q":return(0,r.getQuadraticArcLength)([o,f[0],f[2]],[a,f[1],f[3]],1);case"A":c=0;var v=f[4],b=f[5],A=f[4]+b,h=Math.PI/180;if(Math.abs(v-A)<h&&(h=Math.abs(v-A)),p=g.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],v,0),b<0)for(u=v-h;u>A;u-=h)m=g.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],u,0),c+=g.getLineLength(p.x,p.y,m.x,m.y),p=m;else for(u=v+h;u<A;u+=h)m=g.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],u,0),c+=g.getLineLength(p.x,p.y,m.x,m.y),p=m;return m=g.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],A,0),c+=g.getLineLength(p.x,p.y,m.x,m.y),c}return 0}static convertEndpointToCenterParameterization(o,a,l,f,c,p,m,u,g){const v=g*(Math.PI/180),b=Math.cos(v)*(o-l)/2+Math.sin(v)*(a-f)/2,A=-1*Math.sin(v)*(o-l)/2+Math.cos(v)*(a-f)/2,h=b*b/(m*m)+A*A/(u*u);h>1&&(m*=Math.sqrt(h),u*=Math.sqrt(h));let d=Math.sqrt((m*m*(u*u)-m*m*(A*A)-u*u*(b*b))/(m*m*(A*A)+u*u*(b*b)));c===p&&(d*=-1),isNaN(d)&&(d=0);const y=d*m*A/u,C=d*-u*b/m,T=(o+l)/2+Math.cos(v)*y-Math.sin(v)*C,k=(a+f)/2+Math.sin(v)*y+Math.cos(v)*C,E=function(S){return Math.sqrt(S[0]*S[0]+S[1]*S[1])},N=function(S,R){return(S[0]*R[0]+S[1]*R[1])/(E(S)*E(R))},x=function(S,R){return(S[0]*R[1]<S[1]*R[0]?-1:1)*Math.acos(N(S,R))},F=x([1,0],[(b-y)/m,(A-C)/u]),D=[(b-y)/m,(A-C)/u],_=[(-1*b-y)/m,(-1*A-C)/u];let w=x(D,_);return N(D,_)<=-1&&(w=Math.PI),N(D,_)>=1&&(w=0),p===0&&w>0&&(w=w-2*Math.PI),p===1&&w<0&&(w=w+2*Math.PI),[T,k,m,u,F,w,v,p]}};return ei.Path=n,n.prototype.className="Path",n.prototype._attrsAffectingSize=["data"],(0,i._registerNode)(n),t.Factory.addGetterSetter(n,"data"),ei}var ua;function Hc(){if(ua)return $e;ua=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.Arrow=void 0;const t=vt(),e=Qo(),i=bt(),r=yt(),n=kr();let s=class extends e.Line{_sceneFunc(a){super._sceneFunc(a);const l=Math.PI*2,f=this.points();let c=f;const p=this.tension()!==0&&f.length>4;p&&(c=this.getTensionPoints());const m=this.pointerLength(),u=f.length;let g,v;if(p){const h=[c[c.length-4],c[c.length-3],c[c.length-2],c[c.length-1],f[u-2],f[u-1]],d=n.Path.calcLength(c[c.length-4],c[c.length-3],"C",h),y=n.Path.getPointOnQuadraticBezier(Math.min(1,1-m/d),h[0],h[1],h[2],h[3],h[4],h[5]);g=f[u-2]-y.x,v=f[u-1]-y.y}else g=f[u-2]-f[u-4],v=f[u-1]-f[u-3];const b=(Math.atan2(v,g)+l)%l,A=this.pointerWidth();this.pointerAtEnding()&&(a.save(),a.beginPath(),a.translate(f[u-2],f[u-1]),a.rotate(b),a.moveTo(0,0),a.lineTo(-m,A/2),a.lineTo(-m,-A/2),a.closePath(),a.restore(),this.__fillStroke(a)),this.pointerAtBeginning()&&(a.save(),a.beginPath(),a.translate(f[0],f[1]),p?(g=(c[0]+c[2])/2-f[0],v=(c[1]+c[3])/2-f[1]):(g=f[2]-f[0],v=f[3]-f[1]),a.rotate((Math.atan2(-v,-g)+l)%l),a.moveTo(0,0),a.lineTo(-m,A/2),a.lineTo(-m,-A/2),a.closePath(),a.restore(),this.__fillStroke(a))}__fillStroke(a){const l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,a.setLineDash([])),a.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const a=super.getSelfRect(),l=this.pointerWidth()/2;return{x:a.x-l,y:a.y-l,width:a.width+l*2,height:a.height+l*2}}};return $e.Arrow=s,s.prototype.className="Arrow",(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"pointerLength",10,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"pointerWidth",10,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"pointerAtBeginning",!1),t.Factory.addGetterSetter(s,"pointerAtEnding",!0),$e}var ii={},fa;function qc(){if(fa)return ii;fa=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.Circle=void 0;const t=vt(),e=Gt(),i=bt(),r=yt();let n=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius()!==o/2&&this.radius(o/2)}setHeight(o){this.radius()!==o/2&&this.radius(o/2)}};return ii.Circle=n,n.prototype._centroid=!0,n.prototype.className="Circle",n.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(n),t.Factory.addGetterSetter(n,"radius",0,(0,i.getNumberValidator)()),ii}var ni={},ga;function Wc(){if(ga)return ni;ga=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.Ellipse=void 0;const t=vt(),e=Gt(),i=bt(),r=yt();let n=class extends e.Shape{_sceneFunc(o){const a=this.radiusX(),l=this.radiusY();o.beginPath(),o.save(),a!==l&&o.scale(1,l/a),o.arc(0,0,a,0,Math.PI*2,!1),o.restore(),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(o){this.radiusX(o/2)}setHeight(o){this.radiusY(o/2)}};return ni.Ellipse=n,n.prototype.className="Ellipse",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,r._registerNode)(n),t.Factory.addComponentsGetterSetter(n,"radius",["x","y"]),t.Factory.addGetterSetter(n,"radiusX",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"radiusY",0,(0,i.getNumberValidator)()),ni}var ri={},pa;function jc(){if(pa)return ri;pa=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.Image=void 0;const t=Mt(),e=vt(),i=Gt(),r=yt(),n=bt();class s extends i.Shape{constructor(a){super(a),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const a=this.image();a&&a.complete||a&&a.readyState===4||a&&a.addEventListener&&a.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const a=!!this.cornerRadius(),l=this.hasShadow();return a&&l?!0:super._useBufferCanvas(!0)}_sceneFunc(a){const l=this.getWidth(),f=this.getHeight(),c=this.cornerRadius(),p=this.attrs.image;let m;if(p){const u=this.attrs.cropWidth,g=this.attrs.cropHeight;u&&g?m=[p,this.cropX(),this.cropY(),u,g,0,0,l,f]:m=[p,0,0,l,f]}(this.hasFill()||this.hasStroke()||c)&&(a.beginPath(),c?t.Util.drawRoundedRectPath(a,l,f,c):a.rect(0,0,l,f),a.closePath(),a.fillStrokeShape(this)),p&&(c&&a.clip(),a.drawImage.apply(a,m))}_hitFunc(a){const l=this.width(),f=this.height(),c=this.cornerRadius();a.beginPath(),c?t.Util.drawRoundedRectPath(a,l,f,c):a.rect(0,0,l,f),a.closePath(),a.fillStrokeShape(this)}getWidth(){var a,l;return(a=this.attrs.width)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var a,l;return(a=this.attrs.height)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(a,l,f=null){const c=t.Util.createImageElement();c.onload=function(){const p=new s({image:c});l(p)},c.onerror=f,c.crossOrigin="Anonymous",c.src=a}}return ri.Image=s,s.prototype.className="Image",(0,r._registerNode)(s),e.Factory.addGetterSetter(s,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(s,"image"),e.Factory.addComponentsGetterSetter(s,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(s,"cropX",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropY",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropWidth",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropHeight",0,(0,n.getNumberValidator)()),ri}var Re={},_a;function zc(){if(_a)return Re;_a=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.Tag=Re.Label=void 0;const t=vt(),e=Gt(),i=Fr(),r=bt(),n=yt(),s=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],o="Change.konva",a="none",l="up",f="right",c="down",p="left",m=s.length;let u=class extends i.Group{constructor(b){super(b),this.on("add.konva",function(A){this._addListeners(A.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(b){let A=this,h;const d=function(){A._sync()};for(h=0;h<m;h++)b.on(s[h]+o,d)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let b=this.getText(),A=this.getTag(),h,d,y,C,T,k,E;if(b&&A){switch(h=b.width(),d=b.height(),y=A.pointerDirection(),C=A.pointerWidth(),E=A.pointerHeight(),T=0,k=0,y){case l:T=h/2,k=-1*E;break;case f:T=h+C,k=d/2;break;case c:T=h/2,k=d+E;break;case p:T=-1*C,k=d/2;break}A.setAttrs({x:-1*T,y:-1*k,width:h,height:d}),b.setAttrs({x:-1*T,y:-1*k})}}};Re.Label=u,u.prototype.className="Label",(0,n._registerNode)(u);class g extends e.Shape{_sceneFunc(b){const A=this.width(),h=this.height(),d=this.pointerDirection(),y=this.pointerWidth(),C=this.pointerHeight(),T=this.cornerRadius();let k=0,E=0,N=0,x=0;typeof T=="number"?k=E=N=x=Math.min(T,A/2,h/2):(k=Math.min(T[0]||0,A/2,h/2),E=Math.min(T[1]||0,A/2,h/2),x=Math.min(T[2]||0,A/2,h/2),N=Math.min(T[3]||0,A/2,h/2)),b.beginPath(),b.moveTo(k,0),d===l&&(b.lineTo((A-y)/2,0),b.lineTo(A/2,-1*C),b.lineTo((A+y)/2,0)),b.lineTo(A-E,0),b.arc(A-E,E,E,Math.PI*3/2,0,!1),d===f&&(b.lineTo(A,(h-C)/2),b.lineTo(A+y,h/2),b.lineTo(A,(h+C)/2)),b.lineTo(A,h-x),b.arc(A-x,h-x,x,0,Math.PI/2,!1),d===c&&(b.lineTo((A+y)/2,h),b.lineTo(A/2,h+C),b.lineTo((A-y)/2,h)),b.lineTo(N,h),b.arc(N,h-N,N,Math.PI/2,Math.PI,!1),d===p&&(b.lineTo(0,(h+C)/2),b.lineTo(-1*y,h/2),b.lineTo(0,(h-C)/2)),b.lineTo(0,k),b.arc(k,k,k,Math.PI,Math.PI*3/2,!1),b.closePath(),b.fillStrokeShape(this)}getSelfRect(){let b=0,A=0,h=this.pointerWidth(),d=this.pointerHeight(),y=this.pointerDirection(),C=this.width(),T=this.height();return y===l?(A-=d,T+=d):y===c?T+=d:y===p?(b-=h*1.5,C+=h):y===f&&(C+=h*1.5),{x:b,y:A,width:C,height:T}}}return Re.Tag=g,g.prototype.className="Tag",(0,n._registerNode)(g),t.Factory.addGetterSetter(g,"pointerDirection",a),t.Factory.addGetterSetter(g,"pointerWidth",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(g,"pointerHeight",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(g,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),Re}var si={},ma;function Jo(){if(ma)return si;ma=1,Object.defineProperty(si,"__esModule",{value:!0}),si.Rect=void 0;const t=vt(),e=Gt(),i=yt(),r=Mt(),n=bt();let s=class extends e.Shape{_sceneFunc(a){const l=this.cornerRadius(),f=this.width(),c=this.height();a.beginPath(),l?r.Util.drawRoundedRectPath(a,f,c,l):a.rect(0,0,f,c),a.closePath(),a.fillStrokeShape(this)}};return si.Rect=s,s.prototype.className="Rect",(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),si}var ai={},ya;function Kc(){if(ya)return ai;ya=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.RegularPolygon=void 0;const t=vt(),e=Gt(),i=bt(),r=yt();let n=class extends e.Shape{_sceneFunc(o){const a=this._getPoints();o.beginPath(),o.moveTo(a[0].x,a[0].y);for(let l=1;l<a.length;l++)o.lineTo(a[l].x,a[l].y);o.closePath(),o.fillStrokeShape(this)}_getPoints(){const o=this.attrs.sides,a=this.attrs.radius||0,l=[];for(let f=0;f<o;f++)l.push({x:a*Math.sin(f*2*Math.PI/o),y:-1*a*Math.cos(f*2*Math.PI/o)});return l}getSelfRect(){const o=this._getPoints();let a=o[0].x,l=o[0].y,f=o[0].x,c=o[0].y;return o.forEach(p=>{a=Math.min(a,p.x),l=Math.max(l,p.x),f=Math.min(f,p.y),c=Math.max(c,p.y)}),{x:a,y:f,width:l-a,height:c-f}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return ai.RegularPolygon=n,n.prototype.className="RegularPolygon",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(n),t.Factory.addGetterSetter(n,"radius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"sides",0,(0,i.getNumberValidator)()),ai}var oi={},va;function Yc(){if(va)return oi;va=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.Ring=void 0;const t=vt(),e=Gt(),i=bt(),r=yt(),n=Math.PI*2;let s=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.innerRadius(),0,n,!1),a.moveTo(this.outerRadius(),0),a.arc(0,0,this.outerRadius(),n,0,!0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return oi.Ring=s,s.prototype.className="Ring",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,i.getNumberValidator)()),oi}var li={},ba;function Xc(){if(ba)return li;ba=1,Object.defineProperty(li,"__esModule",{value:!0}),li.Sprite=void 0;const t=vt(),e=Gt(),i=Mr(),r=bt(),n=yt();let s=class extends e.Shape{constructor(a){super(a),this._updated=!0,this.anim=new i.Animation(()=>{const l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(a){const l=this.animation(),f=this.frameIndex(),c=f*4,p=this.animations()[l],m=this.frameOffsets(),u=p[c+0],g=p[c+1],v=p[c+2],b=p[c+3],A=this.image();if((this.hasFill()||this.hasStroke())&&(a.beginPath(),a.rect(0,0,v,b),a.closePath(),a.fillStrokeShape(this)),A)if(m){const h=m[l],d=f*2;a.drawImage(A,u,g,v,b,h[d+0],h[d+1],v,b)}else a.drawImage(A,u,g,v,b,0,0,v,b)}_hitFunc(a){const l=this.animation(),f=this.frameIndex(),c=f*4,p=this.animations()[l],m=this.frameOffsets(),u=p[c+2],g=p[c+3];if(a.beginPath(),m){const v=m[l],b=f*2;a.rect(v[b+0],v[b+1],u,g)}else a.rect(0,0,u,g);a.closePath(),a.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const a=this;this.interval=setInterval(function(){a._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const a=this.getLayer();this.anim.setLayers(a),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const a=this.frameIndex(),l=this.animation(),f=this.animations(),c=f[l],p=c.length/4;a<p-1?this.frameIndex(a+1):this.frameIndex(0)}};return li.Sprite=s,s.prototype.className="Sprite",(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"animation"),t.Factory.addGetterSetter(s,"animations"),t.Factory.addGetterSetter(s,"frameOffsets"),t.Factory.addGetterSetter(s,"image"),t.Factory.addGetterSetter(s,"frameIndex",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"frameRate",17,(0,r.getNumberValidator)()),t.Factory.backCompat(s,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),li}var hi={},Sa;function Zc(){if(Sa)return hi;Sa=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.Star=void 0;const t=vt(),e=Gt(),i=bt(),r=yt();let n=class extends e.Shape{_sceneFunc(o){const a=this.innerRadius(),l=this.outerRadius(),f=this.numPoints();o.beginPath(),o.moveTo(0,0-l);for(let c=1;c<f*2;c++){const p=c%2===0?l:a,m=p*Math.sin(c*Math.PI/f),u=-1*p*Math.cos(c*Math.PI/f);o.lineTo(m,u)}o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return hi.Star=n,n.prototype.className="Star",n.prototype._centroid=!0,n.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(n),t.Factory.addGetterSetter(n,"numPoints",5,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"outerRadius",0,(0,i.getNumberValidator)()),hi}var Ne={},Ca;function $o(){if(Ca)return Ne;Ca=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.Text=void 0,Ne.stringToArray=o;const t=Mt(),e=vt(),i=Gt(),r=yt(),n=bt(),s=yt();function o(Q){return[...Q].reduce((j,$,rt,nt)=>(new RegExp("\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?(?:\\u200D\\p{Emoji_Presentation})+","u").test($)?j.push($):new RegExp("\\p{Regional_Indicator}{2}","u").test($+(nt[rt+1]||""))?j.push($+nt[rt+1]):rt>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test($)?j[j.length-1]+=$:j.push($),j),[])}const a="auto",l="center",f="inherit",c="justify",p="Change.konva",m="2d",u="-",g="left",v="text",b="Text",A="top",h="bottom",d="middle",y="normal",C="px ",T=" ",k="right",E="rtl",N="word",x="char",F="none",D="…",_=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],w=_.length;function S(Q){return Q.split(",").map(j=>{j=j.trim();const $=j.indexOf(" ")>=0,rt=j.indexOf('"')>=0||j.indexOf("'")>=0;return $&&!rt&&(j=`"${j}"`),j}).join(", ")}let R;function P(){return R||(R=t.Util.createCanvasElement().getContext(m),R)}function I(Q){Q.fillText(this._partialText,this._partialTextX,this._partialTextY)}function q(Q){Q.setAttr("miterLimit",2),Q.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function X(Q){return Q=Q||{},!Q.fillLinearGradientColorStops&&!Q.fillRadialGradientColorStops&&!Q.fillPatternImage&&(Q.fill=Q.fill||"black"),Q}let K=class extends i.Shape{constructor(j){super(X(j)),this._partialTextX=0,this._partialTextY=0;for(let $=0;$<w;$++)this.on(_[$]+p,this._setTextData);this._setTextData()}_sceneFunc(j){const $=this.textArr,rt=$.length;if(!this.text())return;let nt=this.padding(),L=this.fontSize(),V=this.lineHeight()*L,J=this.verticalAlign(),et=this.direction(),lt=0,ht=this.align(),M=this.getWidth(),O=this.letterSpacing(),U=this.fill(),B=this.textDecoration(),G=B.indexOf("underline")!==-1,H=B.indexOf("line-through")!==-1,Z;et=et===f?j.direction:et;let z=V/2,W=d;if(r.Konva._fixTextRendering){const Et=this.measureSize("M");W="alphabetic",z=(Et.fontBoundingBoxAscent-Et.fontBoundingBoxDescent)/2+V/2}var Y=0,it=0;for(et===E&&j.setAttr("direction",et),j.setAttr("font",this._getContextFont()),j.setAttr("textBaseline",W),j.setAttr("textAlign",g),J===d?lt=(this.getHeight()-rt*V-nt*2)/2:J===h&&(lt=this.getHeight()-rt*V-nt*2),j.translate(nt,lt+nt),Z=0;Z<rt;Z++){var Y=0,it=0,tt=$[Z],st=tt.text,at=tt.width,ct=tt.lastInParagraph,ft,_t,Tt;if(j.save(),ht===k?Y+=M-at-nt*2:ht===l&&(Y+=(M-at-nt*2)/2),G){j.save(),j.beginPath();const kt=r.Konva._fixTextRendering?Math.round(L/4):Math.round(L/2),zt=Y,ce=z+it+kt;j.moveTo(zt,ce),ft=st.split(" ").length-1,_t=ft===0,Tt=ht===c&&!ct?M-nt*2:at,j.lineTo(zt+Math.round(Tt),ce),j.lineWidth=L/15;const qt=this._getLinearGradient();j.strokeStyle=qt||U,j.stroke(),j.restore()}if(H){j.save(),j.beginPath();const kt=r.Konva._fixTextRendering?-Math.round(L/4):0;j.moveTo(Y,z+it+kt),ft=st.split(" ").length-1,_t=ft===0,Tt=ht===c&&ct&&!_t?M-nt*2:at,j.lineTo(Y+Math.round(Tt),z+it+kt),j.lineWidth=L/15;const zt=this._getLinearGradient();j.strokeStyle=zt||U,j.stroke(),j.restore()}if(et!==E&&(O!==0||ht===c)){ft=st.split(" ").length-1;const kt=o(st);for(let zt=0;zt<kt.length;zt++){const ce=kt[zt];ce===" "&&!ct&&ht===c&&(Y+=(M-nt*2-at)/ft),this._partialTextX=Y,this._partialTextY=z+it,this._partialText=ce,j.fillStrokeShape(this),Y+=this.measureSize(ce).width+O}}else O!==0&&j.setAttr("letterSpacing",`${O}px`),this._partialTextX=Y,this._partialTextY=z+it,this._partialText=st,j.fillStrokeShape(this);j.restore(),rt>1&&(z+=V)}}_hitFunc(j){const $=this.getWidth(),rt=this.getHeight();j.beginPath(),j.rect(0,0,$,rt),j.closePath(),j.fillStrokeShape(this)}setText(j){const $=t.Util._isString(j)?j:j==null?"":j+"";return this._setAttr(v,$),this}getWidth(){return this.attrs.width===a||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===a||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(j){var $,rt,nt,L,V,J,et,lt,ht,M,O;let U=P(),B=this.fontSize(),G;U.save(),U.font=this._getContextFont(),G=U.measureText(j),U.restore();const H=B/100;return{actualBoundingBoxAscent:($=G.actualBoundingBoxAscent)!==null&&$!==void 0?$:71.58203125*H,actualBoundingBoxDescent:(rt=G.actualBoundingBoxDescent)!==null&&rt!==void 0?rt:0,actualBoundingBoxLeft:(nt=G.actualBoundingBoxLeft)!==null&&nt!==void 0?nt:-7.421875*H,actualBoundingBoxRight:(L=G.actualBoundingBoxRight)!==null&&L!==void 0?L:75.732421875*H,alphabeticBaseline:(V=G.alphabeticBaseline)!==null&&V!==void 0?V:0,emHeightAscent:(J=G.emHeightAscent)!==null&&J!==void 0?J:100*H,emHeightDescent:(et=G.emHeightDescent)!==null&&et!==void 0?et:-20*H,fontBoundingBoxAscent:(lt=G.fontBoundingBoxAscent)!==null&&lt!==void 0?lt:91*H,fontBoundingBoxDescent:(ht=G.fontBoundingBoxDescent)!==null&&ht!==void 0?ht:21*H,hangingBaseline:(M=G.hangingBaseline)!==null&&M!==void 0?M:72.80000305175781*H,ideographicBaseline:(O=G.ideographicBaseline)!==null&&O!==void 0?O:-21*H,width:G.width,height:B}}_getContextFont(){return this.fontStyle()+T+this.fontVariant()+T+(this.fontSize()+C)+S(this.fontFamily())}_addTextLine(j){this.align()===c&&(j=j.trim());const rt=this._getTextWidth(j);return this.textArr.push({text:j,width:rt,lastInParagraph:!1})}_getTextWidth(j){const $=this.letterSpacing(),rt=j.length;return P().measureText(j).width+(rt?$*(rt-1):0)}_setTextData(){let j=this.text().split(`
`),$=+this.fontSize(),rt=0,nt=this.lineHeight()*$,L=this.attrs.width,V=this.attrs.height,J=L!==a&&L!==void 0,et=V!==a&&V!==void 0,lt=this.padding(),ht=L-lt*2,M=V-lt*2,O=0,U=this.wrap(),B=U!==F,G=U!==x&&B,H=this.ellipsis();this.textArr=[],P().font=this._getContextFont();const Z=H?this._getTextWidth(D):0;for(let W=0,Y=j.length;W<Y;++W){let it=j[W],tt=this._getTextWidth(it);if(J&&tt>ht)for(;it.length>0;){let st=0,at=it.length,ct="",ft=0;for(;st<at;){const _t=st+at>>>1,Tt=it.slice(0,_t+1),Et=this._getTextWidth(Tt)+Z;Et<=ht?(st=_t+1,ct=Tt,ft=Et):at=_t}if(ct){if(G){var z;const Tt=it[ct.length];(Tt===T||Tt===u)&&ft<=ht?z=ct.length:z=Math.max(ct.lastIndexOf(T),ct.lastIndexOf(u))+1,z>0&&(st=z,ct=ct.slice(0,st),ft=this._getTextWidth(ct))}if(ct=ct.trimRight(),this._addTextLine(ct),rt=Math.max(rt,ft),O+=nt,this._shouldHandleEllipsis(O)){this._tryToAddEllipsisToLastLine();break}if(it=it.slice(st),it=it.trimLeft(),it.length>0&&(tt=this._getTextWidth(it),tt<=ht)){this._addTextLine(it),O+=nt,rt=Math.max(rt,tt);break}}else break}else this._addTextLine(it),O+=nt,rt=Math.max(rt,tt),this._shouldHandleEllipsis(O)&&W<Y-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),et&&O+nt>M)break}this.textHeight=$,this.textWidth=rt}_shouldHandleEllipsis(j){const $=+this.fontSize(),rt=this.lineHeight()*$,nt=this.attrs.height,L=nt!==a&&nt!==void 0,V=this.padding(),J=nt-V*2;return!(this.wrap()!==F)||L&&j+rt>J}_tryToAddEllipsisToLastLine(){const j=this.attrs.width,$=j!==a&&j!==void 0,rt=this.padding(),nt=j-rt*2,L=this.ellipsis(),V=this.textArr[this.textArr.length-1];!V||!L||($&&(this._getTextWidth(V.text+D)<nt||(V.text=V.text.slice(0,V.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(V.text+D))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const j=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,$=this.hasShadow();return j&&$?!0:super._useBufferCanvas()}};return Ne.Text=K,K.prototype._fillFunc=I,K.prototype._strokeFunc=q,K.prototype.className=b,K.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s._registerNode)(K),e.Factory.overWriteSetter(K,"width",(0,n.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(K,"height",(0,n.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(K,"direction",f),e.Factory.addGetterSetter(K,"fontFamily","Arial"),e.Factory.addGetterSetter(K,"fontSize",12,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(K,"fontStyle",y),e.Factory.addGetterSetter(K,"fontVariant",y),e.Factory.addGetterSetter(K,"padding",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(K,"align",g),e.Factory.addGetterSetter(K,"verticalAlign",A),e.Factory.addGetterSetter(K,"lineHeight",1,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(K,"wrap",N),e.Factory.addGetterSetter(K,"ellipsis",!1,(0,n.getBooleanValidator)()),e.Factory.addGetterSetter(K,"letterSpacing",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(K,"text","",(0,n.getStringValidator)()),e.Factory.addGetterSetter(K,"textDecoration",""),Ne}var ci={},wa;function Qc(){if(wa)return ci;wa=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.TextPath=void 0;const t=Mt(),e=vt(),i=Gt(),r=kr(),n=$o(),s=bt(),o=yt(),a="",l="normal";function f(m){m.fillText(this.partialText,0,0)}function c(m){m.strokeText(this.partialText,0,0)}let p=class extends i.Shape{constructor(u){super(u),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return r.Path.getPathLength(this.dataArray)}_getPointAtLength(u){if(!this.attrs.data)return null;const g=this.pathLength;return u-1>g?null:r.Path.getPointAtLengthOfDataArray(u,this.dataArray)}_readDataAttribute(){this.dataArray=r.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(u){u.setAttr("font",this._getContextFont()),u.setAttr("textBaseline",this.textBaseline()),u.setAttr("textAlign","left"),u.save();const g=this.textDecoration(),v=this.fill(),b=this.fontSize(),A=this.glyphInfo;g==="underline"&&u.beginPath();for(let h=0;h<A.length;h++){u.save();const d=A[h].p0;u.translate(d.x,d.y),u.rotate(A[h].rotation),this.partialText=A[h].text,u.fillStrokeShape(this),g==="underline"&&(h===0&&u.moveTo(0,b/2+1),u.lineTo(b,b/2+1)),u.restore()}g==="underline"&&(u.strokeStyle=v,u.lineWidth=b/20,u.stroke()),u.restore()}_hitFunc(u){u.beginPath();const g=this.glyphInfo;if(g.length>=1){const v=g[0].p0;u.moveTo(v.x,v.y)}for(let v=0;v<g.length;v++){const b=g[v].p1;u.lineTo(b.x,b.y)}u.setAttr("lineWidth",this.fontSize()),u.setAttr("strokeStyle",this.colorKey),u.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(u){return n.Text.prototype.setText.call(this,u)}_getContextFont(){return n.Text.prototype._getContextFont.call(this)}_getTextSize(u){const v=this.dummyCanvas.getContext("2d");v.save(),v.font=this._getContextFont();const b=v.measureText(u);return v.restore(),{width:b.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:u,height:g}=this._getTextSize(this.attrs.text);if(this.textWidth=u,this.textHeight=g,this.glyphInfo=[],!this.attrs.data)return null;const v=this.letterSpacing(),b=this.align(),A=this.kerningFunc(),h=Math.max(this.textWidth+((this.attrs.text||"").length-1)*v,0);let d=0;b==="center"&&(d=Math.max(0,this.pathLength/2-h/2)),b==="right"&&(d=Math.max(0,this.pathLength-h));const y=(0,n.stringToArray)(this.text());let C=d;for(let T=0;T<y.length;T++){const k=this._getPointAtLength(C);if(!k)return;let E=this._getTextSize(y[T]).width+v;if(y[T]===" "&&b==="justify"){const w=this.text().split(" ").length-1;E+=(this.pathLength-h)/w}const N=this._getPointAtLength(C+E);if(!N)return;const x=r.Path.getLineLength(k.x,k.y,N.x,N.y);let F=0;if(A)try{F=A(y[T-1],y[T])*this.fontSize()}catch{F=0}k.x+=F,N.x+=F,this.textWidth+=F;const D=r.Path.getPointOnLine(F+x/2,k.x,k.y,N.x,N.y),_=Math.atan2(N.y-k.y,N.x-k.x);this.glyphInfo.push({transposeX:D.x,transposeY:D.y,text:y[T],rotation:_,p0:k,p1:N}),C+=E}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const u=[];this.glyphInfo.forEach(function(C){u.push(C.p0.x),u.push(C.p0.y),u.push(C.p1.x),u.push(C.p1.y)});let g=u[0]||0,v=u[0]||0,b=u[1]||0,A=u[1]||0,h,d;for(let C=0;C<u.length/2;C++)h=u[C*2],d=u[C*2+1],g=Math.min(g,h),v=Math.max(v,h),b=Math.min(b,d),A=Math.max(A,d);const y=this.fontSize();return{x:g-y/2,y:b-y/2,width:v-g+y,height:A-b+y}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return ci.TextPath=p,p.prototype._fillFunc=f,p.prototype._strokeFunc=c,p.prototype._fillFuncHit=f,p.prototype._strokeFuncHit=c,p.prototype.className="TextPath",p.prototype._attrsAffectingSize=["text","fontSize","data"],(0,o._registerNode)(p),e.Factory.addGetterSetter(p,"data"),e.Factory.addGetterSetter(p,"fontFamily","Arial"),e.Factory.addGetterSetter(p,"fontSize",12,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(p,"fontStyle",l),e.Factory.addGetterSetter(p,"align","left"),e.Factory.addGetterSetter(p,"letterSpacing",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(p,"textBaseline","middle"),e.Factory.addGetterSetter(p,"fontVariant",l),e.Factory.addGetterSetter(p,"text",a),e.Factory.addGetterSetter(p,"textDecoration",null),e.Factory.addGetterSetter(p,"kerningFunc",null),ci}var di={},xa;function Jc(){if(xa)return di;xa=1,Object.defineProperty(di,"__esModule",{value:!0}),di.Transformer=void 0;const t=Mt(),e=vt(),i=Nt(),r=Gt(),n=Jo(),s=Fr(),o=yt(),a=bt(),l=yt(),f="tr-konva",c=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(N=>N+`.${f}`).join(" "),p="nodesRect",m=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],u={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},g="ontouchstart"in o.Konva._global;function v(N,x,F){if(N==="rotater")return F;x+=t.Util.degToRad(u[N]||0);const D=(t.Util.radToDeg(x)%360+360)%360;return t.Util._inRange(D,315+22.5,360)||t.Util._inRange(D,0,22.5)?"ns-resize":t.Util._inRange(D,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(D,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(D,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(D,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(D,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(D,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(D,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+D),"pointer")}const b=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],A=1e8;function h(N){return{x:N.x+N.width/2*Math.cos(N.rotation)+N.height/2*Math.sin(-N.rotation),y:N.y+N.height/2*Math.cos(N.rotation)+N.width/2*Math.sin(N.rotation)}}function d(N,x,F){const D=F.x+(N.x-F.x)*Math.cos(x)-(N.y-F.y)*Math.sin(x),_=F.y+(N.x-F.x)*Math.sin(x)+(N.y-F.y)*Math.cos(x);return{...N,rotation:N.rotation+x,x:D,y:_}}function y(N,x){const F=h(N);return d(N,x,F)}function C(N,x,F){let D=x;for(let _=0;_<N.length;_++){const w=o.Konva.getAngle(N[_]),S=Math.abs(w-x)%(Math.PI*2);Math.min(S,Math.PI*2-S)<F&&(D=w)}return D}let T=0,k=class extends s.Group{constructor(x){super(x),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(c,this.update),this.getNode()&&this.update()}attachTo(x){return this.setNode(x),this}setNode(x){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([x])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return f+this._id}setNodes(x=[]){this._nodes&&this._nodes.length&&this.detach();const F=x.filter(_=>_.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=x=F,x.length===1&&this.useSingleNodeRotation()?this.rotation(x[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(_=>{const w=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},S=_._attrsAffectingSize.map(R=>R+"Change."+this._getEventNamespace()).join(" ");_.on(S,w),_.on(m.map(R=>R+`.${this._getEventNamespace()}`).join(" "),w),_.on(`absoluteTransformChange.${this._getEventNamespace()}`,w),this._proxyDrag(_)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(x){let F;x.on(`dragstart.${this._getEventNamespace()}`,D=>{F=x.getAbsolutePosition(),!this.isDragging()&&x!==this.findOne(".back")&&this.startDrag(D,!1)}),x.on(`dragmove.${this._getEventNamespace()}`,D=>{if(!F)return;const _=x.getAbsolutePosition(),w=_.x-F.x,S=_.y-F.y;this.nodes().forEach(R=>{if(R===x||R.isDragging())return;const P=R.getAbsolutePosition();R.setAbsolutePosition({x:P.x+w,y:P.y+S}),R.startDrag(D)}),F=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(x=>{x.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(p),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(p,this.__getNodeRect)}__getNodeShape(x,F=this.rotation(),D){const _=x.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),w=x.getAbsoluteScale(D),S=x.getAbsolutePosition(D),R=_.x*w.x-x.offsetX()*w.x,P=_.y*w.y-x.offsetY()*w.y,I=(o.Konva.getAngle(x.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),q={x:S.x+R*Math.cos(I)+P*Math.sin(-I),y:S.y+P*Math.cos(I)+R*Math.sin(I),width:_.width*w.x,height:_.height*w.y,rotation:I};return d(q,-o.Konva.getAngle(F),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-A,y:-A,width:0,height:0,rotation:0};const F=[];this.nodes().map(I=>{const q=I.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),X=[{x:q.x,y:q.y},{x:q.x+q.width,y:q.y},{x:q.x+q.width,y:q.y+q.height},{x:q.x,y:q.y+q.height}],K=I.getAbsoluteTransform();X.forEach(function(Q){const j=K.point(Q);F.push(j)})});const D=new t.Transform;D.rotate(-o.Konva.getAngle(this.rotation()));let _=1/0,w=1/0,S=-1/0,R=-1/0;F.forEach(function(I){const q=D.point(I);_===void 0&&(_=S=q.x,w=R=q.y),_=Math.min(_,q.x),w=Math.min(w,q.y),S=Math.max(S,q.x),R=Math.max(R,q.y)}),D.invert();const P=D.point({x:_,y:w});return{x:P.x,y:P.y,width:S-_,height:R-w,rotation:o.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),b.forEach(x=>{this._createAnchor(x)}),this._createAnchor("rotater")}_createAnchor(x){const F=new n.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:x+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:g?10:"auto"}),D=this;F.on("mousedown touchstart",function(_){D._handleMouseDown(_)}),F.on("dragstart",_=>{F.stopDrag(),_.cancelBubble=!0}),F.on("dragend",_=>{_.cancelBubble=!0}),F.on("mouseenter",()=>{const _=o.Konva.getAngle(this.rotation()),w=this.rotateAnchorCursor(),S=v(x,_,w);F.getStage().content&&(F.getStage().content.style.cursor=S),this._cursorChange=!0}),F.on("mouseout",()=>{F.getStage().content&&(F.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(F)}_createBack(){const x=new r.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(F,D){const _=D.getParent(),w=_.padding();F.beginPath(),F.rect(-w,-w,D.width()+w*2,D.height()+w*2),F.moveTo(D.width()/2,-w),_.rotateEnabled()&&_.rotateLineVisible()&&F.lineTo(D.width()/2,-_.rotateAnchorOffset()*t.Util._sign(D.height())-w),F.fillStrokeShape(D)},hitFunc:(F,D)=>{if(!this.shouldOverdrawWholeArea())return;const _=this.padding();F.beginPath(),F.rect(-_,-_,D.width()+_*2,D.height()+_*2),F.fillStrokeShape(D)}});this.add(x),this._proxyDrag(x),x.on("dragstart",F=>{F.cancelBubble=!0}),x.on("dragmove",F=>{F.cancelBubble=!0}),x.on("dragend",F=>{F.cancelBubble=!0}),this.on("dragmove",F=>{this.update()})}_handleMouseDown(x){if(this._transforming)return;this._movingAnchorName=x.target.name().split(" ")[0];const F=this._getNodeRect(),D=F.width,_=F.height,w=Math.sqrt(Math.pow(D,2)+Math.pow(_,2));this.sin=Math.abs(_/w),this.cos=Math.abs(D/w),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const S=x.target.getAbsolutePosition(),R=x.target.getStage().getPointerPosition();this._anchorDragOffset={x:R.x-S.x,y:R.y-S.y},T++,this._fire("transformstart",{evt:x.evt,target:this.getNode()}),this._nodes.forEach(P=>{P._fire("transformstart",{evt:x.evt,target:P})})}_handleMouseMove(x){let F,D,_;const w=this.findOne("."+this._movingAnchorName),S=w.getStage();S.setPointersPositions(x);const R=S.getPointerPosition();let P={x:R.x-this._anchorDragOffset.x,y:R.y-this._anchorDragOffset.y};const I=w.getAbsolutePosition();this.anchorDragBoundFunc()&&(P=this.anchorDragBoundFunc()(I,P,x)),w.setAbsolutePosition(P);const q=w.getAbsolutePosition();if(I.x===q.x&&I.y===q.y)return;if(this._movingAnchorName==="rotater"){const et=this._getNodeRect();F=w.x()-et.width/2,D=-w.y()+et.height/2;let lt=Math.atan2(-D,F)+Math.PI/2;et.height<0&&(lt-=Math.PI);const M=o.Konva.getAngle(this.rotation())+lt,O=o.Konva.getAngle(this.rotationSnapTolerance()),B=C(this.rotationSnaps(),M,O)-et.rotation,G=y(et,B);this._fitNodesInto(G,x);return}const X=this.shiftBehavior();let K;X==="inverted"?K=this.keepRatio()&&!x.shiftKey:X==="none"?K=this.keepRatio():K=this.keepRatio()||x.shiftKey;var nt=this.centeredScaling()||x.altKey;if(this._movingAnchorName==="top-left"){if(K){var Q=nt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};_=Math.sqrt(Math.pow(Q.x-w.x(),2)+Math.pow(Q.y-w.y(),2));var j=this.findOne(".top-left").x()>Q.x?-1:1,$=this.findOne(".top-left").y()>Q.y?-1:1;F=_*this.cos*j,D=_*this.sin*$,this.findOne(".top-left").x(Q.x-F),this.findOne(".top-left").y(Q.y-D)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(w.y());else if(this._movingAnchorName==="top-right"){if(K){var Q=nt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};_=Math.sqrt(Math.pow(w.x()-Q.x,2)+Math.pow(Q.y-w.y(),2));var j=this.findOne(".top-right").x()<Q.x?-1:1,$=this.findOne(".top-right").y()>Q.y?-1:1;F=_*this.cos*j,D=_*this.sin*$,this.findOne(".top-right").x(Q.x+F),this.findOne(".top-right").y(Q.y-D)}var rt=w.position();this.findOne(".top-left").y(rt.y),this.findOne(".bottom-right").x(rt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(w.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(w.x());else if(this._movingAnchorName==="bottom-left"){if(K){var Q=nt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};_=Math.sqrt(Math.pow(Q.x-w.x(),2)+Math.pow(w.y()-Q.y,2));var j=Q.x<w.x()?-1:1,$=w.y()<Q.y?-1:1;F=_*this.cos*j,D=_*this.sin*$,w.x(Q.x-F),w.y(Q.y+D)}rt=w.position(),this.findOne(".top-left").x(rt.x),this.findOne(".bottom-right").y(rt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(w.y());else if(this._movingAnchorName==="bottom-right"){if(K){var Q=nt?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};_=Math.sqrt(Math.pow(w.x()-Q.x,2)+Math.pow(w.y()-Q.y,2));var j=this.findOne(".bottom-right").x()<Q.x?-1:1,$=this.findOne(".bottom-right").y()<Q.y?-1:1;F=_*this.cos*j,D=_*this.sin*$,this.findOne(".bottom-right").x(Q.x+F),this.findOne(".bottom-right").y(Q.y+D)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var nt=this.centeredScaling()||x.altKey;if(nt){const et=this.findOne(".top-left"),lt=this.findOne(".bottom-right"),ht=et.x(),M=et.y(),O=this.getWidth()-lt.x(),U=this.getHeight()-lt.y();lt.move({x:-ht,y:-M}),et.move({x:O,y:U})}const L=this.findOne(".top-left").getAbsolutePosition();F=L.x,D=L.y;const V=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),J=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:F,y:D,width:V,height:J,rotation:o.Konva.getAngle(this.rotation())},x)}_handleMouseUp(x){this._removeEvents(x)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(x){var F;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const D=this.getNode();T--,this._fire("transformend",{evt:x,target:D}),(F=this.getLayer())===null||F===void 0||F.batchDraw(),D&&this._nodes.forEach(_=>{var w;_._fire("transformend",{evt:x,target:_}),(w=_.getLayer())===null||w===void 0||w.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(x,F){const D=this._getNodeRect(),_=1;if(t.Util._inRange(x.width,-this.padding()*2-_,_)){this.update();return}if(t.Util._inRange(x.height,-this.padding()*2-_,_)){this.update();return}const w=new t.Transform;if(w.rotate(o.Konva.getAngle(this.rotation())),this._movingAnchorName&&x.width<0&&this._movingAnchorName.indexOf("left")>=0){const K=w.point({x:-this.padding()*2,y:0});x.x+=K.x,x.y+=K.y,x.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=K.x,this._anchorDragOffset.y-=K.y}else if(this._movingAnchorName&&x.width<0&&this._movingAnchorName.indexOf("right")>=0){const K=w.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=K.x,this._anchorDragOffset.y-=K.y,x.width+=this.padding()*2}if(this._movingAnchorName&&x.height<0&&this._movingAnchorName.indexOf("top")>=0){const K=w.point({x:0,y:-this.padding()*2});x.x+=K.x,x.y+=K.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=K.x,this._anchorDragOffset.y-=K.y,x.height+=this.padding()*2}else if(this._movingAnchorName&&x.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const K=w.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=K.x,this._anchorDragOffset.y-=K.y,x.height+=this.padding()*2}if(this.boundBoxFunc()){const K=this.boundBoxFunc()(D,x);K?x=K:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const S=1e7,R=new t.Transform;R.translate(D.x,D.y),R.rotate(D.rotation),R.scale(D.width/S,D.height/S);const P=new t.Transform,I=x.width/S,q=x.height/S;this.flipEnabled()===!1?(P.translate(x.x,x.y),P.rotate(x.rotation),P.translate(x.width<0?x.width:0,x.height<0?x.height:0),P.scale(Math.abs(I),Math.abs(q))):(P.translate(x.x,x.y),P.rotate(x.rotation),P.scale(I,q));const X=P.multiply(R.invert());this._nodes.forEach(K=>{var Q;const j=K.getParent().getAbsoluteTransform(),$=K.getTransform().copy();$.translate(K.offsetX(),K.offsetY());const rt=new t.Transform;rt.multiply(j.copy().invert()).multiply(X).multiply(j).multiply($);const nt=rt.decompose();K.setAttrs(nt),(Q=K.getLayer())===null||Q===void 0||Q.batchDraw()}),this.rotation(t.Util._getRotation(x.rotation)),this._nodes.forEach(K=>{this._fire("transform",{evt:F,target:K}),K._fire("transform",{evt:F,target:K})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(x,F){this.findOne(x).setAttrs(F)}update(){var x;const F=this._getNodeRect();this.rotation(t.Util._getRotation(F.rotation));const D=F.width,_=F.height,w=this.enabledAnchors(),S=this.resizeEnabled(),R=this.padding(),P=this.anchorSize(),I=this.find("._anchor");I.forEach(X=>{X.setAttrs({width:P,height:P,offsetX:P/2,offsetY:P/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:P/2+R,offsetY:P/2+R,visible:S&&w.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:D/2,y:0,offsetY:P/2+R,visible:S&&w.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:D,y:0,offsetX:P/2-R,offsetY:P/2+R,visible:S&&w.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:_/2,offsetX:P/2+R,visible:S&&w.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:D,y:_/2,offsetX:P/2-R,visible:S&&w.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:_,offsetX:P/2+R,offsetY:P/2-R,visible:S&&w.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:D/2,y:_,offsetY:P/2-R,visible:S&&w.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:D,y:_,offsetX:P/2-R,offsetY:P/2-R,visible:S&&w.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:D/2,y:-this.rotateAnchorOffset()*t.Util._sign(_)-R,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:D,height:_,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const q=this.anchorStyleFunc();q&&I.forEach(X=>{q(X)}),(x=this.getLayer())===null||x===void 0||x.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const x=this.findOne("."+this._movingAnchorName);x&&x.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),s.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return i.Node.prototype.toObject.call(this)}clone(x){return i.Node.prototype.clone.call(this,x)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};di.Transformer=k,k.isTransforming=()=>T>0;function E(N){return N instanceof Array||t.Util.warn("enabledAnchors value should be an array"),N instanceof Array&&N.forEach(function(x){b.indexOf(x)===-1&&t.Util.warn("Unknown anchor name: "+x+". Available names are: "+b.join(", "))}),N||[]}return k.prototype.className="Transformer",(0,l._registerNode)(k),e.Factory.addGetterSetter(k,"enabledAnchors",b,E),e.Factory.addGetterSetter(k,"flipEnabled",!0,(0,a.getBooleanValidator)()),e.Factory.addGetterSetter(k,"resizeEnabled",!0),e.Factory.addGetterSetter(k,"anchorSize",10,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"rotateEnabled",!0),e.Factory.addGetterSetter(k,"rotateLineVisible",!0),e.Factory.addGetterSetter(k,"rotationSnaps",[]),e.Factory.addGetterSetter(k,"rotateAnchorOffset",50,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(k,"rotationSnapTolerance",5,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderEnabled",!0),e.Factory.addGetterSetter(k,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(k,"anchorStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"anchorFill","white"),e.Factory.addGetterSetter(k,"anchorCornerRadius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(k,"borderStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderDash"),e.Factory.addGetterSetter(k,"keepRatio",!0),e.Factory.addGetterSetter(k,"shiftBehavior","default"),e.Factory.addGetterSetter(k,"centeredScaling",!1),e.Factory.addGetterSetter(k,"ignoreStroke",!1),e.Factory.addGetterSetter(k,"padding",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"node"),e.Factory.addGetterSetter(k,"nodes"),e.Factory.addGetterSetter(k,"boundBoxFunc"),e.Factory.addGetterSetter(k,"anchorDragBoundFunc"),e.Factory.addGetterSetter(k,"anchorStyleFunc"),e.Factory.addGetterSetter(k,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(k,"useSingleNodeRotation",!0),e.Factory.backCompat(k,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),di}var ui={},Aa;function $c(){if(Aa)return ui;Aa=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.Wedge=void 0;const t=vt(),e=Gt(),i=yt(),r=bt(),n=yt();let s=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.radius(),0,i.Konva.getAngle(this.angle()),this.clockwise()),a.lineTo(0,0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return ui.Wedge=s,s.prototype.className="Wedge",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"angle",0,(0,r.getNumberValidator)()),t.Factory.addGetterSetter(s,"clockwise",!1),t.Factory.backCompat(s,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),ui}var fi={},Ta;function td(){if(Ta)return fi;Ta=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.Blur=void 0;const t=vt(),e=Nt(),i=bt();function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(l,f){const c=l.data,p=l.width,m=l.height;let u,g,v,b,A,h,d,y,C,T,k,E,N,x,F,D,_,w,S,R,P,I,q,X,K=f+f+1,Q=p-1,j=m-1,$=f+1,rt=$*($+1)/2,nt=new r,L=null,V=nt,J=null,et=null,lt=n[f],ht=s[f];for(v=1;v<K;v++)V=V.next=new r,v===$&&(L=V);for(V.next=nt,d=h=0,g=0;g<m;g++){for(D=_=w=S=y=C=T=k=0,E=$*(R=c[h]),N=$*(P=c[h+1]),x=$*(I=c[h+2]),F=$*(q=c[h+3]),y+=rt*R,C+=rt*P,T+=rt*I,k+=rt*q,V=nt,v=0;v<$;v++)V.r=R,V.g=P,V.b=I,V.a=q,V=V.next;for(v=1;v<$;v++)b=h+((Q<v?Q:v)<<2),y+=(V.r=R=c[b])*(X=$-v),C+=(V.g=P=c[b+1])*X,T+=(V.b=I=c[b+2])*X,k+=(V.a=q=c[b+3])*X,D+=R,_+=P,w+=I,S+=q,V=V.next;for(J=nt,et=L,u=0;u<p;u++)c[h+3]=q=k*lt>>ht,q!==0?(q=255/q,c[h]=(y*lt>>ht)*q,c[h+1]=(C*lt>>ht)*q,c[h+2]=(T*lt>>ht)*q):c[h]=c[h+1]=c[h+2]=0,y-=E,C-=N,T-=x,k-=F,E-=J.r,N-=J.g,x-=J.b,F-=J.a,b=d+((b=u+f+1)<Q?b:Q)<<2,D+=J.r=c[b],_+=J.g=c[b+1],w+=J.b=c[b+2],S+=J.a=c[b+3],y+=D,C+=_,T+=w,k+=S,J=J.next,E+=R=et.r,N+=P=et.g,x+=I=et.b,F+=q=et.a,D-=R,_-=P,w-=I,S-=q,et=et.next,h+=4;d+=p}for(u=0;u<p;u++){for(_=w=S=D=C=T=k=y=0,h=u<<2,E=$*(R=c[h]),N=$*(P=c[h+1]),x=$*(I=c[h+2]),F=$*(q=c[h+3]),y+=rt*R,C+=rt*P,T+=rt*I,k+=rt*q,V=nt,v=0;v<$;v++)V.r=R,V.g=P,V.b=I,V.a=q,V=V.next;for(A=p,v=1;v<=f;v++)h=A+u<<2,y+=(V.r=R=c[h])*(X=$-v),C+=(V.g=P=c[h+1])*X,T+=(V.b=I=c[h+2])*X,k+=(V.a=q=c[h+3])*X,D+=R,_+=P,w+=I,S+=q,V=V.next,v<j&&(A+=p);for(h=u,J=nt,et=L,g=0;g<m;g++)b=h<<2,c[b+3]=q=k*lt>>ht,q>0?(q=255/q,c[b]=(y*lt>>ht)*q,c[b+1]=(C*lt>>ht)*q,c[b+2]=(T*lt>>ht)*q):c[b]=c[b+1]=c[b+2]=0,y-=E,C-=N,T-=x,k-=F,E-=J.r,N-=J.g,x-=J.b,F-=J.a,b=u+((b=g+$)<j?b:j)*p<<2,y+=D+=J.r=c[b],C+=_+=J.g=c[b+1],T+=w+=J.b=c[b+2],k+=S+=J.a=c[b+3],J=J.next,E+=R=et.r,N+=P=et.g,x+=I=et.b,F+=q=et.a,D-=R,_-=P,w-=I,S-=q,et=et.next,h+=p}}const a=function(f){const c=Math.round(this.blurRadius());c>0&&o(f,c)};return fi.Blur=a,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),fi}var gi={},Ra;function ed(){if(Ra)return gi;Ra=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.Brighten=void 0;const t=vt(),e=Nt(),i=bt(),r=function(n){let s=this.brightness()*255,o=n.data,a=o.length,l;for(l=0;l<a;l+=4)o[l]+=s,o[l+1]+=s,o[l+2]+=s};return gi.Brighten=r,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),gi}var pi={},Pa;function id(){if(Pa)return pi;Pa=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.Contrast=void 0;const t=vt(),e=Nt(),i=bt(),r=function(n){const s=Math.pow((this.contrast()+100)/100,2);let o=n.data,a=o.length,l=150,f=150,c=150,p;for(p=0;p<a;p+=4)l=o[p],f=o[p+1],c=o[p+2],l/=255,l-=.5,l*=s,l+=.5,l*=255,f/=255,f-=.5,f*=s,f+=.5,f*=255,c/=255,c-=.5,c*=s,c+=.5,c*=255,l=l<0?0:l>255?255:l,f=f<0?0:f>255?255:f,c=c<0?0:c>255?255:c,o[p]=l,o[p+1]=f,o[p+2]=c};return pi.Contrast=r,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),pi}var _i={},Ea;function nd(){if(Ea)return _i;Ea=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.Emboss=void 0;const t=vt(),e=Nt(),i=Mt(),r=bt(),n=function(s){let o=this.embossStrength()*10,a=this.embossWhiteLevel()*255,l=this.embossDirection(),f=this.embossBlend(),c=0,p=0,m=s.data,u=s.width,g=s.height,v=u*4,b=g;switch(l){case"top-left":c=-1,p=-1;break;case"top":c=-1,p=0;break;case"top-right":c=-1,p=1;break;case"right":c=0,p=1;break;case"bottom-right":c=1,p=1;break;case"bottom":c=1,p=0;break;case"bottom-left":c=1,p=-1;break;case"left":c=0,p=-1;break;default:i.Util.error("Unknown emboss direction: "+l)}do{const A=(b-1)*v;let h=c;b+h<1&&(h=0),b+h>g&&(h=0);const d=(b-1+h)*u*4;let y=u;do{const C=A+(y-1)*4;let T=p;y+T<1&&(T=0),y+T>u&&(T=0);const k=d+(y-1+T)*4,E=m[C]-m[k],N=m[C+1]-m[k+1],x=m[C+2]-m[k+2];let F=E;const D=F>0?F:-F,_=N>0?N:-N,w=x>0?x:-x;if(_>D&&(F=N),w>D&&(F=x),F*=o,f){const S=m[C]+F,R=m[C+1]+F,P=m[C+2]+F;m[C]=S>255?255:S<0?0:S,m[C+1]=R>255?255:R<0?0:R,m[C+2]=P>255?255:P<0?0:P}else{let S=a-F;S<0?S=0:S>255&&(S=255),m[C]=m[C+1]=m[C+2]=S}}while(--y)}while(--b)};return _i.Emboss=n,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",null,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,null,t.Factory.afterSetFilter),_i}var mi={},Fa;function rd(){if(Fa)return mi;Fa=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.Enhance=void 0;const t=vt(),e=Nt(),i=bt();function r(s,o,a,l,f){let c=a-o,p=f-l,m;return c===0?l+p/2:p===0?l:(m=(s-o)/c,m=p*m+l,m)}const n=function(s){let o=s.data,a=o.length,l=o[0],f=l,c,p=o[1],m=p,u,g=o[2],v=g,b,A;const h=this.enhance();if(h===0)return;for(A=0;A<a;A+=4)c=o[A+0],c<l?l=c:c>f&&(f=c),u=o[A+1],u<p?p=u:u>m&&(m=u),b=o[A+2],b<g?g=b:b>v&&(v=b);f===l&&(f=255,l=0),m===p&&(m=255,p=0),v===g&&(v=255,g=0);let d,y,C,T,k,E,N,x,F;for(h>0?(y=f+h*(255-f),C=l-h*(l-0),k=m+h*(255-m),E=p-h*(p-0),x=v+h*(255-v),F=g-h*(g-0)):(d=(f+l)*.5,y=f+h*(f-d),C=l+h*(l-d),T=(m+p)*.5,k=m+h*(m-T),E=p+h*(p-T),N=(v+g)*.5,x=v+h*(v-N),F=g+h*(g-N)),A=0;A<a;A+=4)o[A+0]=r(o[A+0],l,f,C,y),o[A+1]=r(o[A+1],p,m,E,k),o[A+2]=r(o[A+2],g,v,F,x)};return mi.Enhance=n,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),mi}var yi={},Ma;function sd(){if(Ma)return yi;Ma=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.Grayscale=void 0;const t=function(e){let i=e.data,r=i.length,n,s;for(n=0;n<r;n+=4)s=.34*i[n]+.5*i[n+1]+.16*i[n+2],i[n]=s,i[n+1]=s,i[n+2]=s};return yi.Grayscale=t,yi}var vi={},ka;function ad(){if(ka)return vi;ka=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.HSL=void 0;const t=vt(),e=Nt(),i=bt();t.Factory.addGetterSetter(e.Node,"hue",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter);const r=function(n){let s=n.data,o=s.length,a=1,l=Math.pow(2,this.saturation()),f=Math.abs(this.hue()+360)%360,c=this.luminance()*127,p;const m=a*l*Math.cos(f*Math.PI/180),u=a*l*Math.sin(f*Math.PI/180),g=.299*a+.701*m+.167*u,v=.587*a-.587*m+.33*u,b=.114*a-.114*m-.497*u,A=.299*a-.299*m-.328*u,h=.587*a+.413*m+.035*u,d=.114*a-.114*m+.293*u,y=.299*a-.3*m+1.25*u,C=.587*a-.586*m-1.05*u,T=.114*a+.886*m-.2*u;let k,E,N,x;for(p=0;p<o;p+=4)k=s[p+0],E=s[p+1],N=s[p+2],x=s[p+3],s[p+0]=g*k+v*E+b*N+c,s[p+1]=A*k+h*E+d*N+c,s[p+2]=y*k+C*E+T*N+c,s[p+3]=x};return vi.HSL=r,vi}var bi={},Na;function od(){if(Na)return bi;Na=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.HSV=void 0;const t=vt(),e=Nt(),i=bt(),r=function(n){const s=n.data,o=s.length,a=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),f=Math.abs(this.hue()+360)%360,c=a*l*Math.cos(f*Math.PI/180),p=a*l*Math.sin(f*Math.PI/180),m=.299*a+.701*c+.167*p,u=.587*a-.587*c+.33*p,g=.114*a-.114*c-.497*p,v=.299*a-.299*c-.328*p,b=.587*a+.413*c+.035*p,A=.114*a-.114*c+.293*p,h=.299*a-.3*c+1.25*p,d=.587*a-.586*c-1.05*p,y=.114*a+.886*c-.2*p;let C,T,k,E;for(let N=0;N<o;N+=4)C=s[N+0],T=s[N+1],k=s[N+2],E=s[N+3],s[N+0]=m*C+u*T+g*k,s[N+1]=v*C+b*T+A*k,s[N+2]=h*C+d*T+y*k,s[N+3]=E};return bi.HSV=r,t.Factory.addGetterSetter(e.Node,"hue",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),bi}var Si={},Oa;function ld(){if(Oa)return Si;Oa=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.Invert=void 0;const t=function(e){let i=e.data,r=i.length,n;for(n=0;n<r;n+=4)i[n]=255-i[n],i[n+1]=255-i[n+1],i[n+2]=255-i[n+2]};return Si.Invert=t,Si}var Ci={},La;function hd(){if(La)return Ci;La=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.Kaleidoscope=void 0;const t=vt(),e=Nt(),i=Mt(),r=bt(),n=function(a,l,f){let c=a.data,p=l.data,m=a.width,u=a.height,g=f.polarCenterX||m/2,v=f.polarCenterY||u/2,b,A,h,d=0,y=0,C=0,T=0,k,E=Math.sqrt(g*g+v*v);A=m-g,h=u-v,k=Math.sqrt(A*A+h*h),E=k>E?k:E;let N=u,x=m,F,D,_=360/x*Math.PI/180,w,S;for(D=0;D<x;D+=1)for(w=Math.sin(D*_),S=Math.cos(D*_),F=0;F<N;F+=1)A=Math.floor(g+E*F/N*S),h=Math.floor(v+E*F/N*w),b=(h*m+A)*4,d=c[b+0],y=c[b+1],C=c[b+2],T=c[b+3],b=(D+F*m)*4,p[b+0]=d,p[b+1]=y,p[b+2]=C,p[b+3]=T},s=function(a,l,f){let c=a.data,p=l.data,m=a.width,u=a.height,g=f.polarCenterX||m/2,v=f.polarCenterY||u/2,b,A,h,d,y,C=0,T=0,k=0,E=0,N,x=Math.sqrt(g*g+v*v);A=m-g,h=u-v,N=Math.sqrt(A*A+h*h),x=N>x?N:x;let F=u,D=m,_,w,S=0,R,P;for(A=0;A<m;A+=1)for(h=0;h<u;h+=1)d=A-g,y=h-v,_=Math.sqrt(d*d+y*y)*F/x,w=(Math.atan2(y,d)*180/Math.PI+360+S)%360,w=w*D/360,R=Math.floor(w),P=Math.floor(_),b=(P*m+R)*4,C=c[b+0],T=c[b+1],k=c[b+2],E=c[b+3],b=(h*m+A)*4,p[b+0]=C,p[b+1]=T,p[b+2]=k,p[b+3]=E},o=function(a){const l=a.width,f=a.height;let c,p,m,u,g,v,b,A,h,d,y=Math.round(this.kaleidoscopePower());const C=Math.round(this.kaleidoscopeAngle()),T=Math.floor(l*(C%360)/360);if(y<1)return;const k=i.Util.createCanvasElement();k.width=l,k.height=f;const E=k.getContext("2d").getImageData(0,0,l,f);i.Util.releaseCanvas(k),n(a,E,{polarCenterX:l/2,polarCenterY:f/2});let N=l/Math.pow(2,y);for(;N<=8;)N=N*2,y-=1;N=Math.ceil(N);let x=N,F=0,D=x,_=1;for(T+N>l&&(F=x,D=0,_=-1),p=0;p<f;p+=1)for(c=F;c!==D;c+=_)m=Math.round(c+T)%l,h=(l*p+m)*4,g=E.data[h+0],v=E.data[h+1],b=E.data[h+2],A=E.data[h+3],d=(l*p+c)*4,E.data[d+0]=g,E.data[d+1]=v,E.data[d+2]=b,E.data[d+3]=A;for(p=0;p<f;p+=1)for(x=Math.floor(N),u=0;u<y;u+=1){for(c=0;c<x+1;c+=1)h=(l*p+c)*4,g=E.data[h+0],v=E.data[h+1],b=E.data[h+2],A=E.data[h+3],d=(l*p+x*2-c-1)*4,E.data[d+0]=g,E.data[d+1]=v,E.data[d+2]=b,E.data[d+3]=A;x*=2}s(E,a,{polarRotation:0})};return Ci.Kaleidoscope=o,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Ci}var wi={},Da;function cd(){if(Da)return wi;Da=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.Mask=void 0;const t=vt(),e=Nt(),i=bt();function r(m,u,g){let v=(g*m.width+u)*4;const b=[];return b.push(m.data[v++],m.data[v++],m.data[v++],m.data[v++]),b}function n(m,u){return Math.sqrt(Math.pow(m[0]-u[0],2)+Math.pow(m[1]-u[1],2)+Math.pow(m[2]-u[2],2))}function s(m){const u=[0,0,0];for(let g=0;g<m.length;g++)u[0]+=m[g][0],u[1]+=m[g][1],u[2]+=m[g][2];return u[0]/=m.length,u[1]/=m.length,u[2]/=m.length,u}function o(m,u){const g=r(m,0,0),v=r(m,m.width-1,0),b=r(m,0,m.height-1),A=r(m,m.width-1,m.height-1),h=u||10;if(n(g,v)<h&&n(v,A)<h&&n(A,b)<h&&n(b,g)<h){const d=s([v,g,A,b]),y=[];for(let C=0;C<m.width*m.height;C++){const T=n(d,[m.data[C*4],m.data[C*4+1],m.data[C*4+2]]);y[C]=T<h?0:255}return y}}function a(m,u){for(let g=0;g<m.width*m.height;g++)m.data[4*g+3]=u[g]}function l(m,u,g){const v=[1,1,1,1,0,1,1,1,1],b=Math.round(Math.sqrt(v.length)),A=Math.floor(b/2),h=[];for(let d=0;d<g;d++)for(let y=0;y<u;y++){const C=d*u+y;let T=0;for(let k=0;k<b;k++)for(let E=0;E<b;E++){const N=d+k-A,x=y+E-A;if(N>=0&&N<g&&x>=0&&x<u){const F=N*u+x,D=v[k*b+E];T+=m[F]*D}}h[C]=T===255*8?255:0}return h}function f(m,u,g){const v=[1,1,1,1,1,1,1,1,1],b=Math.round(Math.sqrt(v.length)),A=Math.floor(b/2),h=[];for(let d=0;d<g;d++)for(let y=0;y<u;y++){const C=d*u+y;let T=0;for(let k=0;k<b;k++)for(let E=0;E<b;E++){const N=d+k-A,x=y+E-A;if(N>=0&&N<g&&x>=0&&x<u){const F=N*u+x,D=v[k*b+E];T+=m[F]*D}}h[C]=T>=255*4?255:0}return h}function c(m,u,g){const v=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],b=Math.round(Math.sqrt(v.length)),A=Math.floor(b/2),h=[];for(let d=0;d<g;d++)for(let y=0;y<u;y++){const C=d*u+y;let T=0;for(let k=0;k<b;k++)for(let E=0;E<b;E++){const N=d+k-A,x=y+E-A;if(N>=0&&N<g&&x>=0&&x<u){const F=N*u+x,D=v[k*b+E];T+=m[F]*D}}h[C]=T}return h}const p=function(m){let u=this.threshold(),g=o(m,u);return g&&(g=l(g,m.width,m.height),g=f(g,m.width,m.height),g=c(g,m.width,m.height),a(m,g)),m};return wi.Mask=p,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),wi}var xi={},Ga;function dd(){if(Ga)return xi;Ga=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.Noise=void 0;const t=vt(),e=Nt(),i=bt(),r=function(n){const s=this.noise()*255,o=n.data,a=o.length,l=s/2;for(let f=0;f<a;f+=4)o[f+0]+=l-2*l*Math.random(),o[f+1]+=l-2*l*Math.random(),o[f+2]+=l-2*l*Math.random()};return xi.Noise=r,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),xi}var Ai={},Ia;function ud(){if(Ia)return Ai;Ia=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.Pixelate=void 0;const t=vt(),e=Mt(),i=Nt(),r=bt(),n=function(s){let o=Math.ceil(this.pixelSize()),a=s.width,l=s.height,f,c,p,m,u,g,v,b=Math.ceil(a/o),A=Math.ceil(l/o),h,d,y,C,T,k,E,N=s.data;if(o<=0){e.Util.error("pixelSize value can not be <= 0");return}for(T=0;T<b;T+=1)for(k=0;k<A;k+=1){for(m=0,u=0,g=0,v=0,h=T*o,d=h+o,y=k*o,C=y+o,E=0,f=h;f<d;f+=1)if(!(f>=a))for(c=y;c<C;c+=1)c>=l||(p=(a*c+f)*4,m+=N[p+0],u+=N[p+1],g+=N[p+2],v+=N[p+3],E+=1);for(m=m/E,u=u/E,g=g/E,v=v/E,f=h;f<d;f+=1)if(!(f>=a))for(c=y;c<C;c+=1)c>=l||(p=(a*c+f)*4,N[p+0]=m,N[p+1]=u,N[p+2]=g,N[p+3]=v)}};return Ai.Pixelate=n,t.Factory.addGetterSetter(i.Node,"pixelSize",8,(0,r.getNumberValidator)(),t.Factory.afterSetFilter),Ai}var Ti={},Ua;function fd(){if(Ua)return Ti;Ua=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.Posterize=void 0;const t=vt(),e=Nt(),i=bt(),r=function(n){let s=Math.round(this.levels()*254)+1,o=n.data,a=o.length,l=255/s,f;for(f=0;f<a;f+=1)o[f]=Math.floor(o[f]/l)*l};return Ti.Posterize=r,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Ti}var Ri={},Ba;function gd(){if(Ba)return Ri;Ba=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.RGB=void 0;const t=vt(),e=Nt(),i=bt(),r=function(n){let s=n.data,o=s.length,a=this.red(),l=this.green(),f=this.blue(),c,p;for(c=0;c<o;c+=4)p=(.34*s[c]+.5*s[c+1]+.16*s[c+2])/255,s[c]=p*a,s[c+1]=p*l,s[c+2]=p*f,s[c+3]=s[c+3]};return Ri.RGB=r,t.Factory.addGetterSetter(e.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"blue",0,i.RGBComponent,t.Factory.afterSetFilter),Ri}var Pi={},Va;function pd(){if(Va)return Pi;Va=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.RGBA=void 0;const t=vt(),e=Nt(),i=bt(),r=function(n){const s=n.data,o=s.length,a=this.red(),l=this.green(),f=this.blue(),c=this.alpha();for(let p=0;p<o;p+=4){const m=1-c;s[p]=a*c+s[p]*m,s[p+1]=l*c+s[p+1]*m,s[p+2]=f*c+s[p+2]*m}};return Pi.RGBA=r,t.Factory.addGetterSetter(e.Node,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)}),t.Factory.addGetterSetter(e.Node,"blue",0,i.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n}),Pi}var Ei={},Ha;function _d(){if(Ha)return Ei;Ha=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.Sepia=void 0;const t=function(e){let i=e.data,r=i.length,n,s,o,a;for(n=0;n<r;n+=4)s=i[n+0],o=i[n+1],a=i[n+2],i[n+0]=Math.min(255,s*.393+o*.769+a*.189),i[n+1]=Math.min(255,s*.349+o*.686+a*.168),i[n+2]=Math.min(255,s*.272+o*.534+a*.131)};return Ei.Sepia=t,Ei}var Fi={},qa;function md(){if(qa)return Fi;qa=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.Solarize=void 0;const t=function(e){const i=e.data,r=e.width,n=e.height,s=r*4;let o=n;do{const a=(o-1)*s;let l=r;do{const f=a+(l-1)*4;let c=i[f],p=i[f+1],m=i[f+2];c>127&&(c=255-c),p>127&&(p=255-p),m>127&&(m=255-m),i[f]=c,i[f+1]=p,i[f+2]=m}while(--l)}while(--o)};return Fi.Solarize=t,Fi}var Mi={},Wa;function yd(){if(Wa)return Mi;Wa=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.Threshold=void 0;const t=vt(),e=Nt(),i=bt(),r=function(n){const s=this.threshold()*255,o=n.data,a=o.length;for(let l=0;l<a;l+=1)o[l]=o[l]<s?0:255};return Mi.Threshold=r,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Mi}var ja;function vd(){if(ja)return je;ja=1,Object.defineProperty(je,"__esModule",{value:!0}),je.Konva=void 0;const t=Uc(),e=Bc(),i=Hc(),r=qc(),n=Wc(),s=jc(),o=zc(),a=Qo(),l=kr(),f=Jo(),c=Kc(),p=Yc(),m=Xc(),u=Zc(),g=$o(),v=Qc(),b=Jc(),A=$c(),h=td(),d=ed(),y=id(),C=nd(),T=rd(),k=sd(),E=ad(),N=od(),x=ld(),F=hd(),D=cd(),_=dd(),w=ud(),S=fd(),R=gd(),P=pd(),I=_d(),q=md(),X=yd();return je.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:i.Arrow,Circle:r.Circle,Ellipse:n.Ellipse,Image:s.Image,Label:o.Label,Tag:o.Tag,Line:a.Line,Path:l.Path,Rect:f.Rect,RegularPolygon:c.RegularPolygon,Ring:p.Ring,Sprite:m.Sprite,Star:u.Star,Text:g.Text,TextPath:v.TextPath,Transformer:b.Transformer,Wedge:A.Wedge,Filters:{Blur:h.Blur,Brighten:d.Brighten,Contrast:y.Contrast,Emboss:C.Emboss,Enhance:T.Enhance,Grayscale:k.Grayscale,HSL:E.HSL,HSV:N.HSV,Invert:x.Invert,Kaleidoscope:F.Kaleidoscope,Mask:D.Mask,Noise:_.Noise,Pixelate:w.Pixelate,Posterize:S.Posterize,RGB:R.RGB,RGBA:P.RGBA,Sepia:I.Sepia,Solarize:q.Solarize,Threshold:X.Threshold}}),je}var bd=an.exports,za;function Sd(){if(za)return an.exports;za=1,Object.defineProperty(bd,"__esModule",{value:!0});const t=vd();return an.exports=t.Konva,an.exports}var Cd=Sd();const Pt=Lc(Cd);function gn(t){if(!Pt.autoDrawEnabled){const e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const Ka={key:!0,style:!0,elm:!0,isRootInsert:!0},Yn=".vue-konva-event";function tl(t,e,i,r){const n=t.__konvaNode,s={};let o=!1;for(let a in i){if(Ka.hasOwnProperty(a))continue;const l=a.slice(0,2)==="on",f=i[a]!==e[a];if(l&&f){let c=a.slice(2).toLowerCase();c.slice(0,7)==="content"&&(c="content"+c.slice(7,1).toUpperCase()+c.slice(8)),n==null||n.off(c+Yn,i[a])}!e.hasOwnProperty(a)&&(n==null||n.setAttr(a,void 0))}for(let a in e){if(Ka.hasOwnProperty(a))continue;let l=a.slice(0,2)==="on";const f=i[a]!==e[a];if(l&&f){let c=a.slice(2).toLowerCase();c.slice(0,7)==="content"&&(c="content"+c.slice(7,1).toUpperCase()+c.slice(8)),e[a]&&(n==null||n.off(c+Yn),n==null||n.on(c+Yn,e[a]))}!l&&(e[a]!==i[a]||r&&e[a]!==(n==null?void 0:n.getAttr(a)))&&(o=!0,s[a]=e[a])}o&&n&&(n.setAttrs(s),gn(n))}const wd="v";function xd(t){function e(i){return i!=null&&i.__konvaNode?i:i!=null&&i.parent?e(i.parent):(console.error("vue-konva error: Can not find parent node"),null)}return e(t.parent)}function el(t){return t.component?t.component.__konvaNode||el(t.component.subTree):null}function Ad(t){const{el:e,component:i}=t,r=el(t);if(e!=null&&e.tagName&&i&&!r){const n=e.tagName.toLowerCase();return console.error(`vue-konva error: You are trying to render "${n}" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.`),null}return r}function Td(t){const e=n=>!!(n!=null&&n.hasOwnProperty("component")),i=n=>Array.isArray(n),r=n=>e(n)?[n,...r(n.children)]:i(n)?n.flatMap(r):[];return r(t.children)}function il(t,e){const i=Td(t),r=[];i.forEach(s=>{const o=Ad(s);o&&r.push(o)});let n=!1;r.forEach((s,o)=>{s.getZIndex()!==o&&(s.setZIndex(o),n=!0)}),n&&gn(e)}const Rd=vo({name:"Stage",props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup(t,{attrs:e,slots:i,expose:r}){const n=qo();if(!n)return;const s=Ki({}),o=St(null),a=new Pt.Stage({width:t.config.width,height:t.config.height,container:document.createElement("div")});n.__konvaNode=a,c();function l(){return n==null?void 0:n.__konvaNode}function f(){return n==null?void 0:n.__konvaNode}function c(){if(!n)return;const p=s||{},m={...e,...t.config};tl(n,m,p,t.__useStrictMode),Object.assign(s,m)}return wn(()=>{o.value&&(o.value.innerHTML="",a.container(o.value)),c()}),Cr(()=>{c(),il(n.subTree,a)}),wo(()=>{a.destroy()}),Ui(()=>t.config,c,{deep:!0}),r({getStage:f,getNode:l}),console.log(e),()=>{var p;return zo("div",{ref:o,style:e==null?void 0:e.style},(p=i.default)==null?void 0:p.call(i))}}}),Pd=".vue-konva-event",Ed={Group:!0,Layer:!0,FastLayer:!0,Label:!0};function Fd(t,e){return vo({name:t,props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup(i,{attrs:r,slots:n,expose:s}){const o=qo();if(!o)return;const a=Ki({}),l=new e;o.__konvaNode=l,o.vnode.__konvaNode=l,p();function f(){return o==null?void 0:o.__konvaNode}function c(){return o==null?void 0:o.__konvaNode}function p(){if(!o)return;const u={};for(const b in o==null?void 0:o.vnode.props)b.slice(0,2)==="on"&&(u[b]=o.vnode.props[b]);const g=a||{},v={...r,...i.config,...u};tl(o,v,g,i.__useStrictMode),Object.assign(a,v)}wn(()=>{var u;const g=(u=xd(o))==null?void 0:u.__konvaNode;g&&"add"in g&&g.add(l),gn(l)}),wr(()=>{gn(l),l.destroy(),l.off(Pd)}),Cr(()=>{p(),il(o.subTree,l)}),Ui(()=>i.config,p,{deep:!0}),s({getStage:c,getNode:f});const m=Ed.hasOwnProperty(t);return()=>{var u;return m?zo("template",{},(u=n.default)==null?void 0:u.call(n)):null}}})}typeof window<"u"&&!window.Konva&&require("konva");const Md={install:(t,e)=>{const i=(e==null?void 0:e.prefix)||wd,r={Arc:Pt.Arc,Arrow:Pt.Arrow,Circle:Pt.Circle,Ellipse:Pt.Ellipse,FastLayer:Pt.FastLayer,Group:Pt.Group,Image:Pt.Image,Label:Pt.Label,Layer:Pt.Layer,Line:Pt.Line,Path:Pt.Path,Rect:Pt.Rect,RegularPolygon:Pt.RegularPolygon,Ring:Pt.Ring,Shape:Pt.Shape,Sprite:Pt.Sprite,Star:Pt.Star,Tag:Pt.Tag,Text:Pt.Text,TextPath:Pt.TextPath,Transformer:Pt.Transformer,Wedge:Pt.Wedge,...e==null?void 0:e.customNodes};[Rd,...Object.entries(r).map(([n,s])=>Fd(n,s))].forEach(n=>{t.component(`${i}${n.name}`,n)})}},nl=Tc(Oc);nl.use(Md);nl.mount("#app");
