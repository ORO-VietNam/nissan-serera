(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ar(t){const e=Object.create(null);for(const i of t.split(","))e[i]=1;return i=>i in e}const Ct={},Le=[],ne=()=>{},Ea=()=>!1,gn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),lr=t=>t.startsWith("onUpdate:"),Ft=Object.assign,hr=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},Ma=Object.prototype.hasOwnProperty,bt=(t,e)=>Ma.call(t,e),ct=Array.isArray,Fi=t=>ji(t)==="[object Map]",cr=t=>ji(t)==="[object Set]",Nr=t=>ji(t)==="[object Date]",ut=t=>typeof t=="function",kt=t=>typeof t=="string",be=t=>typeof t=="symbol",At=t=>t!==null&&typeof t=="object",mo=t=>(At(t)||ut(t))&&ut(t.then)&&ut(t.catch),Fa=Object.prototype.toString,ji=t=>Fa.call(t),ka=t=>ji(t).slice(8,-1),Oa=t=>ji(t)==="[object Object]",ur=t=>kt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ki=ar(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pn=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},Na=/-(\w)/g,Xt=pn(t=>t.replace(Na,(e,i)=>i?i.toUpperCase():"")),Ga=/\B([A-Z])/g,Fe=pn(t=>t.replace(Ga,"-$1").toLowerCase()),_n=pn(t=>t.charAt(0).toUpperCase()+t.slice(1)),An=pn(t=>t?`on${_n(t)}`:""),ve=(t,e)=>!Object.is(t,e),Qi=(t,...e)=>{for(let i=0;i<t.length;i++)t[i](...e)},yo=(t,e,i,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:i})},vo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Gr;const mn=()=>Gr||(Gr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dr(t){if(ct(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],r=kt(n)?Ua(n):dr(n);if(r)for(const s in r)e[s]=r[s]}return e}else if(kt(t)||At(t))return t}const La=/;(?![^(]*\))/g,Da=/:([^]+)/,Ia=/\/\*[^]*?\*\//g;function Ua(t){const e={};return t.replace(Ia,"").split(La).forEach(i=>{if(i){const n=i.split(Da);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function fr(t){let e="";if(kt(t))e=t;else if(ct(t))for(let i=0;i<t.length;i++){const n=fr(t[i]);n&&(e+=n+" ")}else if(At(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const Ba="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Va=ar(Ba);function bo(t){return!!t||t===""}function Ha(t,e){if(t.length!==e.length)return!1;let i=!0;for(let n=0;i&&n<t.length;n++)i=yn(t[n],e[n]);return i}function yn(t,e){if(t===e)return!0;let i=Nr(t),n=Nr(e);if(i||n)return i&&n?t.getTime()===e.getTime():!1;if(i=be(t),n=be(e),i||n)return t===e;if(i=ct(t),n=ct(e),i||n)return i&&n?Ha(t,e):!1;if(i=At(t),n=At(e),i||n){if(!i||!n)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!yn(t[o],e[o]))return!1}}return String(t)===String(e)}function Wa(t,e){return t.findIndex(i=>yn(i,e))}/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Kt;class qa{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Kt,!e&&Kt&&(this.index=(Kt.scopes||(Kt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].pause();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,i;if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].resume();for(e=0,i=this.effects.length;e<i;e++)this.effects[e].resume()}}run(e){if(this._active){const i=Kt;try{return Kt=this,e()}finally{Kt=i}}}on(){Kt=this}off(){Kt=this.parent}stop(e){if(this._active){this._active=!1;let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(this.effects.length=0,i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function ja(){return Kt}let xt;const Rn=new WeakSet;class So{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Kt&&Kt.active&&Kt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rn.has(this)&&(Rn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Lr(this),wo(this);const e=xt,i=Jt;xt=this,Jt=!0;try{return this.fn()}finally{Po(this),xt=e,Jt=i,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_r(e);this.deps=this.depsTail=void 0,Lr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Xn(this)&&this.run()}get dirty(){return Xn(this)}}let Co=0,Oi,Ni;function xo(t,e=!1){if(t.flags|=8,e){t.next=Ni,Ni=t;return}t.next=Oi,Oi=t}function gr(){Co++}function pr(){if(--Co>0)return;if(Ni){let e=Ni;for(Ni=void 0;e;){const i=e.next;e.next=void 0,e.flags&=-9,e=i}}let t;for(;Oi;){let e=Oi;for(Oi=void 0;e;){const i=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=i}}if(t)throw t}function wo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Po(t){let e,i=t.depsTail,n=i;for(;n;){const r=n.prevDep;n.version===-1?(n===i&&(i=r),_r(n),Ka(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=i}function Xn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(To(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function To(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Bi))return;t.globalVersion=Bi;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Xn(t)){t.flags&=-3;return}const i=xt,n=Jt;xt=t,Jt=!0;try{wo(t);const r=t.fn(t._value);(e.version===0||ve(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{xt=i,Jt=n,Po(t),t.flags&=-3}}function _r(t,e=!1){const{dep:i,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),i.subs===t&&(i.subs=n,!n&&i.computed)){i.computed.flags&=-5;for(let s=i.computed.deps;s;s=s.nextDep)_r(s,!0)}!e&&!--i.sc&&i.map&&i.map.delete(i.key)}function Ka(t){const{prevDep:e,nextDep:i}=t;e&&(e.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=e,t.nextDep=void 0)}let Jt=!0;const Ao=[];function Se(){Ao.push(Jt),Jt=!1}function Ce(){const t=Ao.pop();Jt=t===void 0?!0:t}function Lr(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const i=xt;xt=void 0;try{e()}finally{xt=i}}}let Bi=0;class za{constructor(e,i){this.sub=e,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class mr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!xt||!Jt||xt===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==xt)i=this.activeLink=new za(xt,this),xt.deps?(i.prevDep=xt.depsTail,xt.depsTail.nextDep=i,xt.depsTail=i):xt.deps=xt.depsTail=i,Ro(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const n=i.nextDep;n.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=n),i.prevDep=xt.depsTail,i.nextDep=void 0,xt.depsTail.nextDep=i,xt.depsTail=i,xt.deps===i&&(xt.deps=n)}return i}trigger(e){this.version++,Bi++,this.notify(e)}notify(e){gr();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{pr()}}}function Ro(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Ro(n)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const $n=new WeakMap,Ae=Symbol(""),Jn=Symbol(""),Vi=Symbol("");function Lt(t,e,i){if(Jt&&xt){let n=$n.get(t);n||$n.set(t,n=new Map);let r=n.get(i);r||(n.set(i,r=new mr),r.map=n,r.key=i),r.track()}}function ue(t,e,i,n,r,s){const o=$n.get(t);if(!o){Bi++;return}const a=l=>{l&&l.trigger()};if(gr(),e==="clear")o.forEach(a);else{const l=ct(t),g=l&&ur(i);if(l&&i==="length"){const u=Number(n);o.forEach((_,p)=>{(p==="length"||p===Vi||!be(p)&&p>=u)&&a(_)})}else switch((i!==void 0||o.has(void 0))&&a(o.get(i)),g&&a(o.get(Vi)),e){case"add":l?g&&a(o.get("length")):(a(o.get(Ae)),Fi(t)&&a(o.get(Jn)));break;case"delete":l||(a(o.get(Ae)),Fi(t)&&a(o.get(Jn)));break;case"set":Fi(t)&&a(o.get(Ae));break}}pr()}function ke(t){const e=vt(t);return e===t?e:(Lt(e,"iterate",Vi),Qt(t)?e:e.map(Ut))}function yr(t){return Lt(t=vt(t),"iterate",Vi),t}const Ya={__proto__:null,[Symbol.iterator](){return En(this,Symbol.iterator,Ut)},concat(...t){return ke(this).concat(...t.map(e=>ct(e)?ke(e):e))},entries(){return En(this,"entries",t=>(t[1]=Ut(t[1]),t))},every(t,e){return oe(this,"every",t,e,void 0,arguments)},filter(t,e){return oe(this,"filter",t,e,i=>i.map(Ut),arguments)},find(t,e){return oe(this,"find",t,e,Ut,arguments)},findIndex(t,e){return oe(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return oe(this,"findLast",t,e,Ut,arguments)},findLastIndex(t,e){return oe(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return oe(this,"forEach",t,e,void 0,arguments)},includes(...t){return Mn(this,"includes",t)},indexOf(...t){return Mn(this,"indexOf",t)},join(t){return ke(this).join(t)},lastIndexOf(...t){return Mn(this,"lastIndexOf",t)},map(t,e){return oe(this,"map",t,e,void 0,arguments)},pop(){return Ve(this,"pop")},push(...t){return Ve(this,"push",t)},reduce(t,...e){return Dr(this,"reduce",t,e)},reduceRight(t,...e){return Dr(this,"reduceRight",t,e)},shift(){return Ve(this,"shift")},some(t,e){return oe(this,"some",t,e,void 0,arguments)},splice(...t){return Ve(this,"splice",t)},toReversed(){return ke(this).toReversed()},toSorted(t){return ke(this).toSorted(t)},toSpliced(...t){return ke(this).toSpliced(...t)},unshift(...t){return Ve(this,"unshift",t)},values(){return En(this,"values",Ut)}};function En(t,e,i){const n=yr(t),r=n[e]();return n!==t&&!Qt(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=i(s.value)),s}),r}const Xa=Array.prototype;function oe(t,e,i,n,r,s){const o=yr(t),a=o!==t&&!Qt(t),l=o[e];if(l!==Xa[e]){const _=l.apply(t,s);return a?Ut(_):_}let g=i;o!==t&&(a?g=function(_,p){return i.call(this,Ut(_),p,t)}:i.length>2&&(g=function(_,p){return i.call(this,_,p,t)}));const u=l.call(o,g,n);return a&&r?r(u):u}function Dr(t,e,i,n){const r=yr(t);let s=i;return r!==t&&(Qt(t)?i.length>3&&(s=function(o,a,l){return i.call(this,o,a,l,t)}):s=function(o,a,l){return i.call(this,o,Ut(a),l,t)}),r[e](s,...n)}function Mn(t,e,i){const n=vt(t);Lt(n,"iterate",Vi);const r=n[e](...i);return(r===-1||r===!1)&&Sr(i[0])?(i[0]=vt(i[0]),n[e](...i)):r}function Ve(t,e,i=[]){Se(),gr();const n=vt(t)[e].apply(t,i);return pr(),Ce(),n}const $a=ar("__proto__,__v_isRef,__isVue"),Eo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(be));function Ja(t){be(t)||(t=String(t));const e=vt(this);return Lt(e,"has",t),e.hasOwnProperty(t)}class Mo{constructor(e=!1,i=!1){this._isReadonly=e,this._isShallow=i}get(e,i,n){if(i==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_isShallow")return s;if(i==="__v_raw")return n===(r?s?al:No:s?Oo:ko).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=ct(e);if(!r){let l;if(o&&(l=Ya[i]))return l;if(i==="hasOwnProperty")return Ja}const a=Reflect.get(e,i,Gt(e)?e:n);return(be(i)?Eo.has(i):$a(i))||(r||Lt(e,"get",i),s)?a:Gt(a)?o&&ur(i)?a:a.value:At(a)?r?Go(a):Ki(a):a}}class Fo extends Mo{constructor(e=!1){super(!1,e)}set(e,i,n,r){let s=e[i];if(!this._isShallow){const l=Re(s);if(!Qt(n)&&!Re(n)&&(s=vt(s),n=vt(n)),!ct(e)&&Gt(s)&&!Gt(n))return l?!1:(s.value=n,!0)}const o=ct(e)&&ur(i)?Number(i)<e.length:bt(e,i),a=Reflect.set(e,i,n,Gt(e)?e:r);return e===vt(r)&&(o?ve(n,s)&&ue(e,"set",i,n):ue(e,"add",i,n)),a}deleteProperty(e,i){const n=bt(e,i);e[i];const r=Reflect.deleteProperty(e,i);return r&&n&&ue(e,"delete",i,void 0),r}has(e,i){const n=Reflect.has(e,i);return(!be(i)||!Eo.has(i))&&Lt(e,"has",i),n}ownKeys(e){return Lt(e,"iterate",ct(e)?"length":Ae),Reflect.ownKeys(e)}}class Qa extends Mo{constructor(e=!1){super(!0,e)}set(e,i){return!0}deleteProperty(e,i){return!0}}const Za=new Fo,tl=new Qa,el=new Fo(!0);const Qn=t=>t,Xi=t=>Reflect.getPrototypeOf(t);function il(t,e,i){return function(...n){const r=this.__v_raw,s=vt(r),o=Fi(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,g=r[t](...n),u=i?Qn:e?Zn:Ut;return!e&&Lt(s,"iterate",l?Jn:Ae),{next(){const{value:_,done:p}=g.next();return p?{value:_,done:p}:{value:a?[u(_[0]),u(_[1])]:u(_),done:p}},[Symbol.iterator](){return this}}}}function $i(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function nl(t,e){const i={get(r){const s=this.__v_raw,o=vt(s),a=vt(r);t||(ve(r,a)&&Lt(o,"get",r),Lt(o,"get",a));const{has:l}=Xi(o),g=e?Qn:t?Zn:Ut;if(l.call(o,r))return g(s.get(r));if(l.call(o,a))return g(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!t&&Lt(vt(r),"iterate",Ae),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=vt(s),a=vt(r);return t||(ve(r,a)&&Lt(o,"has",r),Lt(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=vt(a),g=e?Qn:t?Zn:Ut;return!t&&Lt(l,"iterate",Ae),a.forEach((u,_)=>r.call(s,g(u),g(_),o))}};return Ft(i,t?{add:$i("add"),set:$i("set"),delete:$i("delete"),clear:$i("clear")}:{add(r){!e&&!Qt(r)&&!Re(r)&&(r=vt(r));const s=vt(this);return Xi(s).has.call(s,r)||(s.add(r),ue(s,"add",r,r)),this},set(r,s){!e&&!Qt(s)&&!Re(s)&&(s=vt(s));const o=vt(this),{has:a,get:l}=Xi(o);let g=a.call(o,r);g||(r=vt(r),g=a.call(o,r));const u=l.call(o,r);return o.set(r,s),g?ve(s,u)&&ue(o,"set",r,s):ue(o,"add",r,s),this},delete(r){const s=vt(this),{has:o,get:a}=Xi(s);let l=o.call(s,r);l||(r=vt(r),l=o.call(s,r)),a&&a.call(s,r);const g=s.delete(r);return l&&ue(s,"delete",r,void 0),g},clear(){const r=vt(this),s=r.size!==0,o=r.clear();return s&&ue(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{i[r]=il(r,t,e)}),i}function vr(t,e){const i=nl(t,e);return(n,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(bt(i,r)&&r in n?i:n,r,s)}const rl={get:vr(!1,!1)},sl={get:vr(!1,!0)},ol={get:vr(!0,!1)};const ko=new WeakMap,Oo=new WeakMap,No=new WeakMap,al=new WeakMap;function ll(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hl(t){return t.__v_skip||!Object.isExtensible(t)?0:ll(ka(t))}function Ki(t){return Re(t)?t:br(t,!1,Za,rl,ko)}function cl(t){return br(t,!1,el,sl,Oo)}function Go(t){return br(t,!0,tl,ol,No)}function br(t,e,i,n,r){if(!At(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=hl(t);if(o===0)return t;const a=new Proxy(t,o===2?n:i);return r.set(t,a),a}function Gi(t){return Re(t)?Gi(t.__v_raw):!!(t&&t.__v_isReactive)}function Re(t){return!!(t&&t.__v_isReadonly)}function Qt(t){return!!(t&&t.__v_isShallow)}function Sr(t){return t?!!t.__v_raw:!1}function vt(t){const e=t&&t.__v_raw;return e?vt(e):t}function ul(t){return!bt(t,"__v_skip")&&Object.isExtensible(t)&&yo(t,"__v_skip",!0),t}const Ut=t=>At(t)?Ki(t):t,Zn=t=>At(t)?Go(t):t;function Gt(t){return t?t.__v_isRef===!0:!1}function yt(t){return dl(t,!1)}function dl(t,e){return Gt(t)?t:new fl(t,e)}class fl{constructor(e,i){this.dep=new mr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?e:vt(e),this._value=i?e:Ut(e),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(e){const i=this._rawValue,n=this.__v_isShallow||Qt(e)||Re(e);e=n?e:vt(e),ve(e,i)&&(this._rawValue=e,this._value=n?e:Ut(e),this.dep.trigger())}}function St(t){return Gt(t)?t.value:t}const gl={get:(t,e,i)=>e==="__v_raw"?t:St(Reflect.get(t,e,i)),set:(t,e,i,n)=>{const r=t[e];return Gt(r)&&!Gt(i)?(r.value=i,!0):Reflect.set(t,e,i,n)}};function Lo(t){return Gi(t)?t:new Proxy(t,gl)}class pl{constructor(e,i,n){this.fn=e,this.setter=i,this._value=void 0,this.dep=new mr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&xt!==this)return xo(this,!0),!0}get value(){const e=this.dep.track();return To(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function _l(t,e,i=!1){let n,r;return ut(t)?n=t:(n=t.get,r=t.set),new pl(n,r,i)}const Ji={},sn=new WeakMap;let Te;function ml(t,e=!1,i=Te){if(i){let n=sn.get(i);n||sn.set(i,n=[]),n.push(t)}}function yl(t,e,i=Ct){const{immediate:n,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=i,g=v=>r?v:Qt(v)||r===!1||r===0?de(v,1):de(v);let u,_,p,f,c=!1,y=!1;if(Gt(t)?(_=()=>t.value,c=Qt(t)):Gi(t)?(_=()=>g(t),c=!0):ct(t)?(y=!0,c=t.some(v=>Gi(v)||Qt(v)),_=()=>t.map(v=>{if(Gt(v))return v.value;if(Gi(v))return g(v);if(ut(v))return l?l(v,2):v()})):ut(t)?e?_=l?()=>l(t,2):t:_=()=>{if(p){Se();try{p()}finally{Ce()}}const v=Te;Te=u;try{return l?l(t,3,[f]):t(f)}finally{Te=v}}:_=ne,e&&r){const v=_,x=r===!0?1/0:r;_=()=>de(v(),x)}const b=ja(),P=()=>{u.stop(),b&&b.active&&hr(b.effects,u)};if(s&&e){const v=e;e=(...x)=>{v(...x),P()}}let h=y?new Array(t.length).fill(Ji):Ji;const d=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(e){const x=u.run();if(r||c||(y?x.some((T,k)=>ve(T,h[k])):ve(x,h))){p&&p();const T=Te;Te=u;try{const k=[x,h===Ji?void 0:y&&h[0]===Ji?[]:h,f];l?l(e,3,k):e(...k),h=x}finally{Te=T}}}else u.run()};return a&&a(d),u=new So(_),u.scheduler=o?()=>o(d,!1):d,f=v=>ml(v,!1,u),p=u.onStop=()=>{const v=sn.get(u);if(v){if(l)l(v,4);else for(const x of v)x();sn.delete(u)}},e?n?d(!0):h=u.run():o?o(d.bind(null,!0),!0):u.run(),P.pause=u.pause.bind(u),P.resume=u.resume.bind(u),P.stop=P,P}function de(t,e=1/0,i){if(e<=0||!At(t)||t.__v_skip||(i=i||new Set,i.has(t)))return t;if(i.add(t),e--,Gt(t))de(t.value,e,i);else if(ct(t))for(let n=0;n<t.length;n++)de(t[n],e,i);else if(cr(t)||Fi(t))t.forEach(n=>{de(n,e,i)});else if(Oa(t)){for(const n in t)de(t[n],e,i);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&de(t[n],e,i)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zi(t,e,i,n){try{return n?t(...n):t()}catch(r){vn(r,e,i)}}function re(t,e,i,n){if(ut(t)){const r=zi(t,e,i,n);return r&&mo(r)&&r.catch(s=>{vn(s,e,i)}),r}if(ct(t)){const r=[];for(let s=0;s<t.length;s++)r.push(re(t[s],e,i,n));return r}}function vn(t,e,i,n=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ct;if(e){let a=e.parent;const l=e.proxy,g=`https://vuejs.org/error-reference/#runtime-${i}`;for(;a;){const u=a.ec;if(u){for(let _=0;_<u.length;_++)if(u[_](t,l,g)===!1)return}a=a.parent}if(s){Se(),zi(s,null,10,[t,l,g]),Ce();return}}vl(t,i,r,n,o)}function vl(t,e,i,n=!0,r=!1){if(r)throw t;console.error(t)}const Bt=[];let ee=-1;const De=[];let pe=null,Ne=0;const Do=Promise.resolve();let on=null;function Io(t){const e=on||Do;return t?e.then(this?t.bind(this):t):e}function bl(t){let e=ee+1,i=Bt.length;for(;e<i;){const n=e+i>>>1,r=Bt[n],s=Hi(r);s<t||s===t&&r.flags&2?e=n+1:i=n}return e}function Cr(t){if(!(t.flags&1)){const e=Hi(t),i=Bt[Bt.length-1];!i||!(t.flags&2)&&e>=Hi(i)?Bt.push(t):Bt.splice(bl(e),0,t),t.flags|=1,Uo()}}function Uo(){on||(on=Do.then(Vo))}function Sl(t){ct(t)?De.push(...t):pe&&t.id===-1?pe.splice(Ne+1,0,t):t.flags&1||(De.push(t),t.flags|=1),Uo()}function Ir(t,e,i=ee+1){for(;i<Bt.length;i++){const n=Bt[i];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Bt.splice(i,1),i--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Bo(t){if(De.length){const e=[...new Set(De)].sort((i,n)=>Hi(i)-Hi(n));if(De.length=0,pe){pe.push(...e);return}for(pe=e,Ne=0;Ne<pe.length;Ne++){const i=pe[Ne];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}pe=null,Ne=0}}const Hi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Vo(t){try{for(ee=0;ee<Bt.length;ee++){const e=Bt[ee];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),zi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ee<Bt.length;ee++){const e=Bt[ee];e&&(e.flags&=-2)}ee=-1,Bt.length=0,Bo(),on=null,(Bt.length||De.length)&&Vo()}}let qt=null,Ho=null;function an(t){const e=qt;return qt=t,Ho=t&&t.type.__scopeId||null,e}function Ee(t,e=qt,i){if(!e||t._n)return t;const n=(...r)=>{n._d&&zr(-1);const s=an(e);let o;try{o=t(...r)}finally{an(s),n._d&&zr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Cl(t,e){if(qt===null)return t;const i=wn(qt),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=Ct]=e[r];s&&(ut(s)&&(s={mounted:s,updated:s}),s.deep&&de(o),n.push({dir:s,instance:i,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function xe(t,e,i,n){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(Se(),re(l,i,8,[t.el,a,t,e]),Ce())}}const xl=Symbol("_vte"),wl=t=>t.__isTeleport;function xr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,xr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Wo(t,e){return ut(t)?Ft({name:t.name},e,{setup:t}):t}function qo(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ln(t,e,i,n,r=!1){if(ct(t)){t.forEach((c,y)=>ln(c,e&&(ct(e)?e[y]:e),i,n,r));return}if(Li(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ln(t,e,i,n.component.subTree);return}const s=n.shapeFlag&4?wn(n.component):n.el,o=r?null:s,{i:a,r:l}=t,g=e&&e.r,u=a.refs===Ct?a.refs={}:a.refs,_=a.setupState,p=vt(_),f=_===Ct?()=>!1:c=>bt(p,c);if(g!=null&&g!==l&&(kt(g)?(u[g]=null,f(g)&&(_[g]=null)):Gt(g)&&(g.value=null)),ut(l))zi(l,a,12,[o,u]);else{const c=kt(l),y=Gt(l);if(c||y){const b=()=>{if(t.f){const P=c?f(l)?_[l]:u[l]:l.value;r?ct(P)&&hr(P,s):ct(P)?P.includes(s)||P.push(s):c?(u[l]=[s],f(l)&&(_[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else c?(u[l]=o,f(l)&&(_[l]=o)):y&&(l.value=o,t.k&&(u[t.k]=o))};o?(b.id=-1,jt(b,i)):b()}}}mn().requestIdleCallback;mn().cancelIdleCallback;const Li=t=>!!t.type.__asyncLoader,jo=t=>t.type.__isKeepAlive;function Pl(t,e){Ko(t,"a",e)}function Tl(t,e){Ko(t,"da",e)}function Ko(t,e,i=Nt){const n=t.__wdc||(t.__wdc=()=>{let r=i;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(bn(e,n,i),i){let r=i.parent;for(;r&&r.parent;)jo(r.parent.vnode)&&Al(n,e,i,r),r=r.parent}}function Al(t,e,i,n){const r=bn(e,t,n,!0);Pr(()=>{hr(n[e],r)},i)}function bn(t,e,i=Nt,n=!1){if(i){const r=i[t]||(i[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Se();const a=Yi(i),l=re(e,i,t,o);return a(),Ce(),l});return n?r.unshift(s):r.push(s),s}}const fe=t=>(e,i=Nt)=>{(!qi||t==="sp")&&bn(t,(...n)=>e(...n),i)},Rl=fe("bm"),Be=fe("m"),El=fe("bu"),wr=fe("u"),zo=fe("bum"),Pr=fe("um"),Ml=fe("sp"),Fl=fe("rtg"),kl=fe("rtc");function Ol(t,e=Nt){bn("ec",t,e)}const Nl="components";function Yt(t,e){return Ll(Nl,t,!0,e)||t}const Gl=Symbol.for("v-ndc");function Ll(t,e,i=!0,n=!1){const r=qt||Nt;if(r){const s=r.type;{const a=wh(s,!1);if(a&&(a===e||a===Xt(e)||a===_n(Xt(e))))return s}const o=Ur(r[t]||s[t],e)||Ur(r.appContext[t],e);return!o&&n?s:o}}function Ur(t,e){return t&&(t[e]||t[Xt(e)]||t[_n(Xt(e))])}const tr=t=>t?ga(t)?wn(t):tr(t.parent):null,Di=Ft(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>tr(t.parent),$root:t=>tr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Tr(t),$forceUpdate:t=>t.f||(t.f=()=>{Cr(t.update)}),$nextTick:t=>t.n||(t.n=Io.bind(t.proxy)),$watch:t=>rh.bind(t)}),Fn=(t,e)=>t!==Ct&&!t.__isScriptSetup&&bt(t,e),Dl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:i,setupState:n,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let g;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return r[e];case 4:return i[e];case 3:return s[e]}else{if(Fn(n,e))return o[e]=1,n[e];if(r!==Ct&&bt(r,e))return o[e]=2,r[e];if((g=t.propsOptions[0])&&bt(g,e))return o[e]=3,s[e];if(i!==Ct&&bt(i,e))return o[e]=4,i[e];er&&(o[e]=0)}}const u=Di[e];let _,p;if(u)return e==="$attrs"&&Lt(t.attrs,"get",""),u(t);if((_=a.__cssModules)&&(_=_[e]))return _;if(i!==Ct&&bt(i,e))return o[e]=4,i[e];if(p=l.config.globalProperties,bt(p,e))return p[e]},set({_:t},e,i){const{data:n,setupState:r,ctx:s}=t;return Fn(r,e)?(r[e]=i,!0):n!==Ct&&bt(n,e)?(n[e]=i,!0):bt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:n,appContext:r,propsOptions:s}},o){let a;return!!i[o]||t!==Ct&&bt(t,o)||Fn(e,o)||(a=s[0])&&bt(a,o)||bt(n,o)||bt(Di,o)||bt(r.config.globalProperties,o)},defineProperty(t,e,i){return i.get!=null?t._.accessCache[e]=0:bt(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function Br(t){return ct(t)?t.reduce((e,i)=>(e[i]=null,e),{}):t}let er=!0;function Il(t){const e=Tr(t),i=t.proxy,n=t.ctx;er=!1,e.beforeCreate&&Vr(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:g,created:u,beforeMount:_,mounted:p,beforeUpdate:f,updated:c,activated:y,deactivated:b,beforeDestroy:P,beforeUnmount:h,destroyed:d,unmounted:v,render:x,renderTracked:T,renderTriggered:k,errorCaptured:E,serverPrefetch:O,expose:w,inheritAttrs:M,components:L,directives:m,filters:C}=e;if(g&&Ul(g,n,null),o)for(const R in o){const I=o[R];ut(I)&&(n[R]=I.bind(i))}if(r){const R=r.call(i,i);At(R)&&(t.data=Ki(R))}if(er=!0,s)for(const R in s){const I=s[R],B=ut(I)?I.bind(i,i):ut(I.get)?I.get.bind(i,i):ne,j=!ut(I)&&ut(I.set)?I.set.bind(i):ne,W=Th({get:B,set:j});Object.defineProperty(n,R,{enumerable:!0,configurable:!0,get:()=>W.value,set:z=>W.value=z})}if(a)for(const R in a)Yo(a[R],n,i,R);if(l){const R=ut(l)?l.call(i):l;Reflect.ownKeys(R).forEach(I=>{jl(I,R[I])})}u&&Vr(u,t,"c");function A(R,I){ct(I)?I.forEach(B=>R(B.bind(i))):I&&R(I.bind(i))}if(A(Rl,_),A(Be,p),A(El,f),A(wr,c),A(Pl,y),A(Tl,b),A(Ol,E),A(kl,T),A(Fl,k),A(zo,h),A(Pr,v),A(Ml,O),ct(w))if(w.length){const R=t.exposed||(t.exposed={});w.forEach(I=>{Object.defineProperty(R,I,{get:()=>i[I],set:B=>i[I]=B})})}else t.exposed||(t.exposed={});x&&t.render===ne&&(t.render=x),M!=null&&(t.inheritAttrs=M),L&&(t.components=L),m&&(t.directives=m),O&&qo(t)}function Ul(t,e,i=ne){ct(t)&&(t=ir(t));for(const n in t){const r=t[n];let s;At(r)?"default"in r?s=Zi(r.from||n,r.default,!0):s=Zi(r.from||n):s=Zi(r),Gt(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function Vr(t,e,i){re(ct(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,i)}function Yo(t,e,i,n){let r=n.includes(".")?la(i,n):()=>i[n];if(kt(t)){const s=e[t];ut(s)&&Ii(r,s)}else if(ut(t))Ii(r,t.bind(i));else if(At(t))if(ct(t))t.forEach(s=>Yo(s,e,i,n));else{const s=ut(t.handler)?t.handler.bind(i):e[t.handler];ut(s)&&Ii(r,s,t)}}function Tr(t){const e=t.type,{mixins:i,extends:n}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!i&&!n?l=e:(l={},r.length&&r.forEach(g=>hn(l,g,o,!0)),hn(l,e,o)),At(e)&&s.set(e,l),l}function hn(t,e,i,n=!1){const{mixins:r,extends:s}=e;s&&hn(t,s,i,!0),r&&r.forEach(o=>hn(t,o,i,!0));for(const o in e)if(!(n&&o==="expose")){const a=Bl[o]||i&&i[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Bl={data:Hr,props:Wr,emits:Wr,methods:Mi,computed:Mi,beforeCreate:It,created:It,beforeMount:It,mounted:It,beforeUpdate:It,updated:It,beforeDestroy:It,beforeUnmount:It,destroyed:It,unmounted:It,activated:It,deactivated:It,errorCaptured:It,serverPrefetch:It,components:Mi,directives:Mi,watch:Hl,provide:Hr,inject:Vl};function Hr(t,e){return e?t?function(){return Ft(ut(t)?t.call(this,this):t,ut(e)?e.call(this,this):e)}:e:t}function Vl(t,e){return Mi(ir(t),ir(e))}function ir(t){if(ct(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function It(t,e){return t?[...new Set([].concat(t,e))]:e}function Mi(t,e){return t?Ft(Object.create(null),t,e):e}function Wr(t,e){return t?ct(t)&&ct(e)?[...new Set([...t,...e])]:Ft(Object.create(null),Br(t),Br(e??{})):e}function Hl(t,e){if(!t)return e;if(!e)return t;const i=Ft(Object.create(null),t);for(const n in e)i[n]=It(t[n],e[n]);return i}function Xo(){return{app:null,config:{isNativeTag:Ea,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wl=0;function ql(t,e){return function(n,r=null){ut(n)||(n=Ft({},n)),r!=null&&!At(r)&&(r=null);const s=Xo(),o=new WeakSet,a=[];let l=!1;const g=s.app={_uid:Wl++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:Ah,get config(){return s.config},set config(u){},use(u,..._){return o.has(u)||(u&&ut(u.install)?(o.add(u),u.install(g,..._)):ut(u)&&(o.add(u),u(g,..._))),g},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),g},component(u,_){return _?(s.components[u]=_,g):s.components[u]},directive(u,_){return _?(s.directives[u]=_,g):s.directives[u]},mount(u,_,p){if(!l){const f=g._ceVNode||gt(n,r);return f.appContext=s,p===!0?p="svg":p===!1&&(p=void 0),_&&e?e(f,u):t(f,u,p),l=!0,g._container=u,u.__vue_app__=g,wn(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(re(a,g._instance,16),t(null,g._container),delete g._container.__vue_app__)},provide(u,_){return s.provides[u]=_,g},runWithContext(u){const _=Ie;Ie=g;try{return u()}finally{Ie=_}}};return g}}let Ie=null;function jl(t,e){if(Nt){let i=Nt.provides;const n=Nt.parent&&Nt.parent.provides;n===i&&(i=Nt.provides=Object.create(n)),i[t]=e}}function Zi(t,e,i=!1){const n=Nt||qt;if(n||Ie){const r=Ie?Ie._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return i&&ut(e)?e.call(n&&n.proxy):e}}const $o={},Jo=()=>Object.create($o),Qo=t=>Object.getPrototypeOf(t)===$o;function Kl(t,e,i,n=!1){const r={},s=Jo();t.propsDefaults=Object.create(null),Zo(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);i?t.props=n?r:cl(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function zl(t,e,i,n){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=vt(r),[l]=t.propsOptions;let g=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let _=0;_<u.length;_++){let p=u[_];if(Sn(t.emitsOptions,p))continue;const f=e[p];if(l)if(bt(s,p))f!==s[p]&&(s[p]=f,g=!0);else{const c=Xt(p);r[c]=nr(l,a,c,f,t,!1)}else f!==s[p]&&(s[p]=f,g=!0)}}}else{Zo(t,e,r,s)&&(g=!0);let u;for(const _ in a)(!e||!bt(e,_)&&((u=Fe(_))===_||!bt(e,u)))&&(l?i&&(i[_]!==void 0||i[u]!==void 0)&&(r[_]=nr(l,a,_,void 0,t,!0)):delete r[_]);if(s!==a)for(const _ in s)(!e||!bt(e,_))&&(delete s[_],g=!0)}g&&ue(t.attrs,"set","")}function Zo(t,e,i,n){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ki(l))continue;const g=e[l];let u;r&&bt(r,u=Xt(l))?!s||!s.includes(u)?i[u]=g:(a||(a={}))[u]=g:Sn(t.emitsOptions,l)||(!(l in n)||g!==n[l])&&(n[l]=g,o=!0)}if(s){const l=vt(i),g=a||Ct;for(let u=0;u<s.length;u++){const _=s[u];i[_]=nr(r,l,_,g[_],t,!bt(g,_))}}return o}function nr(t,e,i,n,r,s){const o=t[i];if(o!=null){const a=bt(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ut(l)){const{propsDefaults:g}=r;if(i in g)n=g[i];else{const u=Yi(r);n=g[i]=l.call(null,e),u()}}else n=l;r.ce&&r.ce._setProp(i,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===Fe(i))&&(n=!0))}return n}const Yl=new WeakMap;function ta(t,e,i=!1){const n=i?Yl:e.propsCache,r=n.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!ut(t)){const u=_=>{l=!0;const[p,f]=ta(_,e,!0);Ft(o,p),f&&a.push(...f)};!i&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return At(t)&&n.set(t,Le),Le;if(ct(s))for(let u=0;u<s.length;u++){const _=Xt(s[u]);qr(_)&&(o[_]=Ct)}else if(s)for(const u in s){const _=Xt(u);if(qr(_)){const p=s[u],f=o[_]=ct(p)||ut(p)?{type:p}:Ft({},p),c=f.type;let y=!1,b=!0;if(ct(c))for(let P=0;P<c.length;++P){const h=c[P],d=ut(h)&&h.name;if(d==="Boolean"){y=!0;break}else d==="String"&&(b=!1)}else y=ut(c)&&c.name==="Boolean";f[0]=y,f[1]=b,(y||bt(f,"default"))&&a.push(_)}}const g=[o,a];return At(t)&&n.set(t,g),g}function qr(t){return t[0]!=="$"&&!ki(t)}const ea=t=>t[0]==="_"||t==="$stable",Ar=t=>ct(t)?t.map(ie):[ie(t)],Xl=(t,e,i)=>{if(e._n)return e;const n=Ee((...r)=>Ar(e(...r)),i);return n._c=!1,n},ia=(t,e,i)=>{const n=t._ctx;for(const r in t){if(ea(r))continue;const s=t[r];if(ut(s))e[r]=Xl(r,s,n);else if(s!=null){const o=Ar(s);e[r]=()=>o}}},na=(t,e)=>{const i=Ar(e);t.slots.default=()=>i},ra=(t,e,i)=>{for(const n in e)(i||n!=="_")&&(t[n]=e[n])},$l=(t,e,i)=>{const n=t.slots=Jo();if(t.vnode.shapeFlag&32){const r=e._;r?(ra(n,e,i),i&&yo(n,"_",r,!0)):ia(e,n)}else e&&na(t,e)},Jl=(t,e,i)=>{const{vnode:n,slots:r}=t;let s=!0,o=Ct;if(n.shapeFlag&32){const a=e._;a?i&&a===1?s=!1:ra(r,e,i):(s=!e.$stable,ia(e,r)),o=e}else e&&(na(t,e),o={default:1});if(s)for(const a in r)!ea(a)&&o[a]==null&&delete r[a]},jt=uh;function Ql(t){return Zl(t)}function Zl(t,e){const i=mn();i.__VUE__=!0;const{insert:n,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:g,setElementText:u,parentNode:_,nextSibling:p,setScopeId:f=ne,insertStaticContent:c}=t,y=(F,N,D,K=null,V=null,q=null,Z=void 0,$=null,Q=!!N.dynamicChildren)=>{if(F===N)return;F&&!He(F,N)&&(K=G(F),z(F,V,q,!0),F=null),N.patchFlag===-2&&(Q=!1,N.dynamicChildren=null);const{type:Y,ref:nt,shapeFlag:tt}=N;switch(Y){case Cn:b(F,N,D,K);break;case Me:P(F,N,D,K);break;case Nn:F==null&&h(N,D,K,Z);break;case ce:L(F,N,D,K,V,q,Z,$,Q);break;default:tt&1?x(F,N,D,K,V,q,Z,$,Q):tt&6?m(F,N,D,K,V,q,Z,$,Q):(tt&64||tt&128)&&Y.process(F,N,D,K,V,q,Z,$,Q,et)}nt!=null&&V&&ln(nt,F&&F.ref,q,N||F,!N)},b=(F,N,D,K)=>{if(F==null)n(N.el=a(N.children),D,K);else{const V=N.el=F.el;N.children!==F.children&&g(V,N.children)}},P=(F,N,D,K)=>{F==null?n(N.el=l(N.children||""),D,K):N.el=F.el},h=(F,N,D,K)=>{[F.el,F.anchor]=c(F.children,N,D,K,F.el,F.anchor)},d=({el:F,anchor:N},D,K)=>{let V;for(;F&&F!==N;)V=p(F),n(F,D,K),F=V;n(N,D,K)},v=({el:F,anchor:N})=>{let D;for(;F&&F!==N;)D=p(F),r(F),F=D;r(N)},x=(F,N,D,K,V,q,Z,$,Q)=>{N.type==="svg"?Z="svg":N.type==="math"&&(Z="mathml"),F==null?T(N,D,K,V,q,Z,$,Q):O(F,N,V,q,Z,$,Q)},T=(F,N,D,K,V,q,Z,$)=>{let Q,Y;const{props:nt,shapeFlag:tt,transition:st,dirs:at}=F;if(Q=F.el=o(F.type,q,nt&&nt.is,nt),tt&8?u(Q,F.children):tt&16&&E(F.children,Q,null,K,V,kn(F,q),Z,$),at&&xe(F,null,K,"created"),k(Q,F,F.scopeId,Z,K),nt){for(const dt in nt)dt!=="value"&&!ki(dt)&&s(Q,dt,null,nt[dt],q,K);"value"in nt&&s(Q,"value",null,nt.value,q),(Y=nt.onVnodeBeforeMount)&&te(Y,K,F)}at&&xe(F,null,K,"beforeMount");const ht=th(V,st);ht&&st.beforeEnter(Q),n(Q,N,D),((Y=nt&&nt.onVnodeMounted)||ht||at)&&jt(()=>{Y&&te(Y,K,F),ht&&st.enter(Q),at&&xe(F,null,K,"mounted")},V)},k=(F,N,D,K,V)=>{if(D&&f(F,D),K)for(let q=0;q<K.length;q++)f(F,K[q]);if(V){let q=V.subTree;if(N===q||ca(q.type)&&(q.ssContent===N||q.ssFallback===N)){const Z=V.vnode;k(F,Z,Z.scopeId,Z.slotScopeIds,V.parent)}}},E=(F,N,D,K,V,q,Z,$,Q=0)=>{for(let Y=Q;Y<F.length;Y++){const nt=F[Y]=$?me(F[Y]):ie(F[Y]);y(null,nt,N,D,K,V,q,Z,$)}},O=(F,N,D,K,V,q,Z)=>{const $=N.el=F.el;let{patchFlag:Q,dynamicChildren:Y,dirs:nt}=N;Q|=F.patchFlag&16;const tt=F.props||Ct,st=N.props||Ct;let at;if(D&&we(D,!1),(at=st.onVnodeBeforeUpdate)&&te(at,D,N,F),nt&&xe(N,F,D,"beforeUpdate"),D&&we(D,!0),(tt.innerHTML&&st.innerHTML==null||tt.textContent&&st.textContent==null)&&u($,""),Y?w(F.dynamicChildren,Y,$,D,K,kn(N,V),q):Z||I(F,N,$,null,D,K,kn(N,V),q,!1),Q>0){if(Q&16)M($,tt,st,D,V);else if(Q&2&&tt.class!==st.class&&s($,"class",null,st.class,V),Q&4&&s($,"style",tt.style,st.style,V),Q&8){const ht=N.dynamicProps;for(let dt=0;dt<ht.length;dt++){const ft=ht[dt],wt=tt[ft],Tt=st[ft];(Tt!==wt||ft==="value")&&s($,ft,wt,Tt,V,D)}}Q&1&&F.children!==N.children&&u($,N.children)}else!Z&&Y==null&&M($,tt,st,D,V);((at=st.onVnodeUpdated)||nt)&&jt(()=>{at&&te(at,D,N,F),nt&&xe(N,F,D,"updated")},K)},w=(F,N,D,K,V,q,Z)=>{for(let $=0;$<N.length;$++){const Q=F[$],Y=N[$],nt=Q.el&&(Q.type===ce||!He(Q,Y)||Q.shapeFlag&70)?_(Q.el):D;y(Q,Y,nt,null,K,V,q,Z,!0)}},M=(F,N,D,K,V)=>{if(N!==D){if(N!==Ct)for(const q in N)!ki(q)&&!(q in D)&&s(F,q,N[q],null,V,K);for(const q in D){if(ki(q))continue;const Z=D[q],$=N[q];Z!==$&&q!=="value"&&s(F,q,$,Z,V,K)}"value"in D&&s(F,"value",N.value,D.value,V)}},L=(F,N,D,K,V,q,Z,$,Q)=>{const Y=N.el=F?F.el:a(""),nt=N.anchor=F?F.anchor:a("");let{patchFlag:tt,dynamicChildren:st,slotScopeIds:at}=N;at&&($=$?$.concat(at):at),F==null?(n(Y,D,K),n(nt,D,K),E(N.children||[],D,nt,V,q,Z,$,Q)):tt>0&&tt&64&&st&&F.dynamicChildren?(w(F.dynamicChildren,st,D,V,q,Z,$),(N.key!=null||V&&N===V.subTree)&&sa(F,N,!0)):I(F,N,D,nt,V,q,Z,$,Q)},m=(F,N,D,K,V,q,Z,$,Q)=>{N.slotScopeIds=$,F==null?N.shapeFlag&512?V.ctx.activate(N,D,K,Z,Q):C(N,D,K,V,q,Z,Q):S(F,N,Q)},C=(F,N,D,K,V,q,Z)=>{const $=F.component=vh(F,K,V);if(jo(F)&&($.ctx.renderer=et),bh($,!1,Z),$.asyncDep){if(V&&V.registerDep($,A,Z),!F.el){const Q=$.subTree=gt(Me);P(null,Q,N,D)}}else A($,F,N,D,V,q,Z)},S=(F,N,D)=>{const K=N.component=F.component;if(hh(F,N,D))if(K.asyncDep&&!K.asyncResolved){R(K,N,D);return}else K.next=N,K.update();else N.el=F.el,K.vnode=N},A=(F,N,D,K,V,q,Z)=>{const $=()=>{if(F.isMounted){let{next:tt,bu:st,u:at,parent:ht,vnode:dt}=F;{const Et=oa(F);if(Et){tt&&(tt.el=dt.el,R(F,tt,Z)),Et.asyncDep.then(()=>{F.isUnmounted||$()});return}}let ft=tt,wt;we(F,!1),tt?(tt.el=dt.el,R(F,tt,Z)):tt=dt,st&&Qi(st),(wt=tt.props&&tt.props.onVnodeBeforeUpdate)&&te(wt,ht,tt,dt),we(F,!0);const Tt=On(F),$t=F.subTree;F.subTree=Tt,y($t,Tt,_($t.el),G($t),F,V,q),tt.el=Tt.el,ft===null&&ch(F,Tt.el),at&&jt(at,V),(wt=tt.props&&tt.props.onVnodeUpdated)&&jt(()=>te(wt,ht,tt,dt),V)}else{let tt;const{el:st,props:at}=N,{bm:ht,m:dt,parent:ft,root:wt,type:Tt}=F,$t=Li(N);if(we(F,!1),ht&&Qi(ht),!$t&&(tt=at&&at.onVnodeBeforeMount)&&te(tt,ft,N),we(F,!0),st&&lt){const Et=()=>{F.subTree=On(F),lt(st,F.subTree,F,V,null)};$t&&Tt.__asyncHydrate?Tt.__asyncHydrate(st,F,Et):Et()}else{wt.ce&&wt.ce._injectChildStyle(Tt);const Et=F.subTree=On(F);y(null,Et,D,K,F,V,q),N.el=Et.el}if(dt&&jt(dt,V),!$t&&(tt=at&&at.onVnodeMounted)){const Et=N;jt(()=>te(tt,ft,Et),V)}(N.shapeFlag&256||ft&&Li(ft.vnode)&&ft.vnode.shapeFlag&256)&&F.a&&jt(F.a,V),F.isMounted=!0,N=D=K=null}};F.scope.on();const Q=F.effect=new So($);F.scope.off();const Y=F.update=Q.run.bind(Q),nt=F.job=Q.runIfDirty.bind(Q);nt.i=F,nt.id=F.uid,Q.scheduler=()=>Cr(nt),we(F,!0),Y()},R=(F,N,D)=>{N.component=F;const K=F.vnode.props;F.vnode=N,F.next=null,zl(F,N.props,K,D),Jl(F,N.children,D),Se(),Ir(F),Ce()},I=(F,N,D,K,V,q,Z,$,Q=!1)=>{const Y=F&&F.children,nt=F?F.shapeFlag:0,tt=N.children,{patchFlag:st,shapeFlag:at}=N;if(st>0){if(st&128){j(Y,tt,D,K,V,q,Z,$,Q);return}else if(st&256){B(Y,tt,D,K,V,q,Z,$,Q);return}}at&8?(nt&16&&it(Y,V,q),tt!==Y&&u(D,tt)):nt&16?at&16?j(Y,tt,D,K,V,q,Z,$,Q):it(Y,V,q,!0):(nt&8&&u(D,""),at&16&&E(tt,D,K,V,q,Z,$,Q))},B=(F,N,D,K,V,q,Z,$,Q)=>{F=F||Le,N=N||Le;const Y=F.length,nt=N.length,tt=Math.min(Y,nt);let st;for(st=0;st<tt;st++){const at=N[st]=Q?me(N[st]):ie(N[st]);y(F[st],at,D,null,V,q,Z,$,Q)}Y>nt?it(F,V,q,!0,!1,tt):E(N,D,K,V,q,Z,$,Q,tt)},j=(F,N,D,K,V,q,Z,$,Q)=>{let Y=0;const nt=N.length;let tt=F.length-1,st=nt-1;for(;Y<=tt&&Y<=st;){const at=F[Y],ht=N[Y]=Q?me(N[Y]):ie(N[Y]);if(He(at,ht))y(at,ht,D,null,V,q,Z,$,Q);else break;Y++}for(;Y<=tt&&Y<=st;){const at=F[tt],ht=N[st]=Q?me(N[st]):ie(N[st]);if(He(at,ht))y(at,ht,D,null,V,q,Z,$,Q);else break;tt--,st--}if(Y>tt){if(Y<=st){const at=st+1,ht=at<nt?N[at].el:K;for(;Y<=st;)y(null,N[Y]=Q?me(N[Y]):ie(N[Y]),D,ht,V,q,Z,$,Q),Y++}}else if(Y>st)for(;Y<=tt;)z(F[Y],V,q,!0),Y++;else{const at=Y,ht=Y,dt=new Map;for(Y=ht;Y<=st;Y++){const Dt=N[Y]=Q?me(N[Y]):ie(N[Y]);Dt.key!=null&&dt.set(Dt.key,Y)}let ft,wt=0;const Tt=st-ht+1;let $t=!1,Et=0;const Vt=new Array(Tt);for(Y=0;Y<Tt;Y++)Vt[Y]=0;for(Y=at;Y<=tt;Y++){const Dt=F[Y];if(wt>=Tt){z(Dt,V,q,!0);continue}let Zt;if(Dt.key!=null)Zt=dt.get(Dt.key);else for(ft=ht;ft<=st;ft++)if(Vt[ft-ht]===0&&He(Dt,N[ft])){Zt=ft;break}Zt===void 0?z(Dt,V,q,!0):(Vt[Zt-ht]=Y+1,Zt>=Et?Et=Zt:$t=!0,y(Dt,N[Zt],D,null,V,q,Z,$,Q),wt++)}const se=$t?eh(Vt):Le;for(ft=se.length-1,Y=Tt-1;Y>=0;Y--){const Dt=ht+Y,Zt=N[Dt],Or=Dt+1<nt?N[Dt+1].el:K;Vt[Y]===0?y(null,Zt,D,Or,V,q,Z,$,Q):$t&&(ft<0||Y!==se[ft]?W(Zt,D,Or,2):ft--)}}},W=(F,N,D,K,V=null)=>{const{el:q,type:Z,transition:$,children:Q,shapeFlag:Y}=F;if(Y&6){W(F.component.subTree,N,D,K);return}if(Y&128){F.suspense.move(N,D,K);return}if(Y&64){Z.move(F,N,D,et);return}if(Z===ce){n(q,N,D);for(let tt=0;tt<Q.length;tt++)W(Q[tt],N,D,K);n(F.anchor,N,D);return}if(Z===Nn){d(F,N,D);return}if(K!==2&&Y&1&&$)if(K===0)$.beforeEnter(q),n(q,N,D),jt(()=>$.enter(q),V);else{const{leave:tt,delayLeave:st,afterLeave:at}=$,ht=()=>n(q,N,D),dt=()=>{tt(q,()=>{ht(),at&&at()})};st?st(q,ht,dt):dt()}else n(q,N,D)},z=(F,N,D,K=!1,V=!1)=>{const{type:q,props:Z,ref:$,children:Q,dynamicChildren:Y,shapeFlag:nt,patchFlag:tt,dirs:st,cacheIndex:at}=F;if(tt===-2&&(V=!1),$!=null&&ln($,null,D,F,!0),at!=null&&(N.renderCache[at]=void 0),nt&256){N.ctx.deactivate(F);return}const ht=nt&1&&st,dt=!Li(F);let ft;if(dt&&(ft=Z&&Z.onVnodeBeforeUnmount)&&te(ft,N,F),nt&6)rt(F.component,D,K);else{if(nt&128){F.suspense.unmount(D,K);return}ht&&xe(F,null,N,"beforeUnmount"),nt&64?F.type.remove(F,N,D,et,K):Y&&!Y.hasOnce&&(q!==ce||tt>0&&tt&64)?it(Y,N,D,!1,!0):(q===ce&&tt&384||!V&&nt&16)&&it(Q,N,D),K&&H(F)}(dt&&(ft=Z&&Z.onVnodeUnmounted)||ht)&&jt(()=>{ft&&te(ft,N,F),ht&&xe(F,null,N,"unmounted")},D)},H=F=>{const{type:N,el:D,anchor:K,transition:V}=F;if(N===ce){J(D,K);return}if(N===Nn){v(F);return}const q=()=>{r(D),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(F.shapeFlag&1&&V&&!V.persisted){const{leave:Z,delayLeave:$}=V,Q=()=>Z(D,q);$?$(F.el,q,Q):Q()}else q()},J=(F,N)=>{let D;for(;F!==N;)D=p(F),r(F),F=D;r(N)},rt=(F,N,D)=>{const{bum:K,scope:V,job:q,subTree:Z,um:$,m:Q,a:Y}=F;jr(Q),jr(Y),K&&Qi(K),V.stop(),q&&(q.flags|=8,z(Z,F,N,D)),$&&jt($,N),jt(()=>{F.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},it=(F,N,D,K=!1,V=!1,q=0)=>{for(let Z=q;Z<F.length;Z++)z(F[Z],N,D,K,V)},G=F=>{if(F.shapeFlag&6)return G(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const N=p(F.anchor||F.el),D=N&&N[xl];return D?p(D):N};let U=!1;const X=(F,N,D)=>{F==null?N._vnode&&z(N._vnode,null,null,!0):y(N._vnode||null,F,N,null,null,null,D),N._vnode=F,U||(U=!0,Ir(),Bo(),U=!1)},et={p:y,um:z,m:W,r:H,mt:C,mc:E,pc:I,pbc:w,n:G,o:t};let ot,lt;return{render:X,hydrate:ot,createApp:ql(X,ot)}}function kn({type:t,props:e},i){return i==="svg"&&t==="foreignObject"||i==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function we({effect:t,job:e},i){i?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function th(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function sa(t,e,i=!1){const n=t.children,r=e.children;if(ct(n)&&ct(r))for(let s=0;s<n.length;s++){const o=n[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=me(r[s]),a.el=o.el),!i&&a.patchFlag!==-2&&sa(o,a)),a.type===Cn&&(a.el=o.el)}}function eh(t){const e=t.slice(),i=[0];let n,r,s,o,a;const l=t.length;for(n=0;n<l;n++){const g=t[n];if(g!==0){if(r=i[i.length-1],t[r]<g){e[n]=r,i.push(n);continue}for(s=0,o=i.length-1;s<o;)a=s+o>>1,t[i[a]]<g?s=a+1:o=a;g<t[i[s]]&&(s>0&&(e[n]=i[s-1]),i[s]=n)}}for(s=i.length,o=i[s-1];s-- >0;)i[s]=o,o=e[o];return i}function oa(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:oa(e)}function jr(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ih=Symbol.for("v-scx"),nh=()=>Zi(ih);function Ii(t,e,i){return aa(t,e,i)}function aa(t,e,i=Ct){const{immediate:n,deep:r,flush:s,once:o}=i,a=Ft({},i),l=e&&n||!e&&s!=="post";let g;if(qi){if(s==="sync"){const f=nh();g=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=ne,f.resume=ne,f.pause=ne,f}}const u=Nt;a.call=(f,c,y)=>re(f,u,c,y);let _=!1;s==="post"?a.scheduler=f=>{jt(f,u&&u.suspense)}:s!=="sync"&&(_=!0,a.scheduler=(f,c)=>{c?f():Cr(f)}),a.augmentJob=f=>{e&&(f.flags|=4),_&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const p=yl(t,e,a);return qi&&(g?g.push(p):l&&p()),p}function rh(t,e,i){const n=this.proxy,r=kt(t)?t.includes(".")?la(n,t):()=>n[t]:t.bind(n,n);let s;ut(e)?s=e:(s=e.handler,i=e);const o=Yi(this),a=aa(r,s.bind(n),i);return o(),a}function la(t,e){const i=e.split(".");return()=>{let n=t;for(let r=0;r<i.length&&n;r++)n=n[i[r]];return n}}const sh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Xt(e)}Modifiers`]||t[`${Fe(e)}Modifiers`];function oh(t,e,...i){if(t.isUnmounted)return;const n=t.vnode.props||Ct;let r=i;const s=e.startsWith("update:"),o=s&&sh(n,e.slice(7));o&&(o.trim&&(r=i.map(u=>kt(u)?u.trim():u)),o.number&&(r=i.map(vo)));let a,l=n[a=An(e)]||n[a=An(Xt(e))];!l&&s&&(l=n[a=An(Fe(e))]),l&&re(l,t,6,r);const g=n[a+"Once"];if(g){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,re(g,t,6,r)}}function ha(t,e,i=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!ut(t)){const l=g=>{const u=ha(g,e,!0);u&&(a=!0,Ft(o,u))};!i&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(At(t)&&n.set(t,null),null):(ct(s)?s.forEach(l=>o[l]=null):Ft(o,s),At(t)&&n.set(t,o),o)}function Sn(t,e){return!t||!gn(e)?!1:(e=e.slice(2).replace(/Once$/,""),bt(t,e[0].toLowerCase()+e.slice(1))||bt(t,Fe(e))||bt(t,e))}function On(t){const{type:e,vnode:i,proxy:n,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:g,renderCache:u,props:_,data:p,setupState:f,ctx:c,inheritAttrs:y}=t,b=an(t);let P,h;try{if(i.shapeFlag&4){const v=r||n,x=v;P=ie(g.call(x,v,u,_,f,p,c)),h=a}else{const v=e;P=ie(v.length>1?v(_,{attrs:a,slots:o,emit:l}):v(_,null)),h=e.props?a:ah(a)}}catch(v){Ui.length=0,vn(v,t,1),P=gt(Me)}let d=P;if(h&&y!==!1){const v=Object.keys(h),{shapeFlag:x}=d;v.length&&x&7&&(s&&v.some(lr)&&(h=lh(h,s)),d=Ue(d,h,!1,!0))}return i.dirs&&(d=Ue(d,null,!1,!0),d.dirs=d.dirs?d.dirs.concat(i.dirs):i.dirs),i.transition&&xr(d,i.transition),P=d,an(b),P}const ah=t=>{let e;for(const i in t)(i==="class"||i==="style"||gn(i))&&((e||(e={}))[i]=t[i]);return e},lh=(t,e)=>{const i={};for(const n in t)(!lr(n)||!(n.slice(9)in e))&&(i[n]=t[n]);return i};function hh(t,e,i){const{props:n,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,g=s.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return n?Kr(n,o,g):!!o;if(l&8){const u=e.dynamicProps;for(let _=0;_<u.length;_++){const p=u[_];if(o[p]!==n[p]&&!Sn(g,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Kr(n,o,g):!0:!!o;return!1}function Kr(t,e,i){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const s=n[r];if(e[s]!==t[s]&&!Sn(i,s))return!0}return!1}function ch({vnode:t,parent:e},i){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=i,e=e.parent;else break}}const ca=t=>t.__isSuspense;function uh(t,e){e&&e.pendingBranch?ct(t)?e.effects.push(...t):e.effects.push(t):Sl(t)}const ce=Symbol.for("v-fgt"),Cn=Symbol.for("v-txt"),Me=Symbol.for("v-cmt"),Nn=Symbol.for("v-stc"),Ui=[];let zt=null;function ye(t=!1){Ui.push(zt=t?null:[])}function dh(){Ui.pop(),zt=Ui[Ui.length-1]||null}let Wi=1;function zr(t,e=!1){Wi+=t,t<0&&zt&&e&&(zt.hasOnce=!0)}function ua(t){return t.dynamicChildren=Wi>0?zt||Le:null,dh(),Wi>0&&zt&&zt.push(t),t}function xn(t,e,i,n,r,s){return ua(_e(t,e,i,n,r,s,!0))}function tn(t,e,i,n,r){return ua(gt(t,e,i,n,r,!0))}function cn(t){return t?t.__v_isVNode===!0:!1}function He(t,e){return t.type===e.type&&t.key===e.key}const da=({key:t})=>t??null,en=({ref:t,ref_key:e,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?kt(t)||Gt(t)||ut(t)?{i:qt,r:t,k:e,f:!!i}:t:null);function _e(t,e=null,i=null,n=0,r=null,s=t===ce?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&da(e),ref:e&&en(e),scopeId:Ho,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:qt};return a?(Rr(l,i),s&128&&t.normalize(l)):i&&(l.shapeFlag|=kt(i)?8:16),Wi>0&&!o&&zt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&zt.push(l),l}const gt=fh;function fh(t,e=null,i=null,n=0,r=null,s=!1){if((!t||t===Gl)&&(t=Me),cn(t)){const a=Ue(t,e,!0);return i&&Rr(a,i),Wi>0&&!s&&zt&&(a.shapeFlag&6?zt[zt.indexOf(t)]=a:zt.push(a)),a.patchFlag=-2,a}if(Ph(t)&&(t=t.__vccOpts),e){e=gh(e);let{class:a,style:l}=e;a&&!kt(a)&&(e.class=fr(a)),At(l)&&(Sr(l)&&!ct(l)&&(l=Ft({},l)),e.style=dr(l))}const o=kt(t)?1:ca(t)?128:wl(t)?64:At(t)?4:ut(t)?2:0;return _e(t,e,i,n,r,o,s,!0)}function gh(t){return t?Sr(t)||Qo(t)?Ft({},t):t:null}function Ue(t,e,i=!1,n=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,g=e?_h(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:g,key:g&&da(g),ref:e&&e.ref?i&&s?ct(s)?s.concat(en(e)):[s,en(e)]:en(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ce?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ue(t.ssContent),ssFallback:t.ssFallback&&Ue(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&xr(u,l.clone(u)),u}function ph(t=" ",e=0){return gt(Cn,null,t,e)}function Gn(t="",e=!1){return e?(ye(),tn(Me,null,t)):gt(Me,null,t)}function ie(t){return t==null||typeof t=="boolean"?gt(Me):ct(t)?gt(ce,null,t.slice()):cn(t)?me(t):gt(Cn,null,String(t))}function me(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ue(t)}function Rr(t,e){let i=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ct(e))i=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Rr(t,r()),r._c&&(r._d=!0));return}else{i=32;const r=e._;!r&&!Qo(e)?e._ctx=qt:r===3&&qt&&(qt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:qt},i=32):(e=String(e),n&64?(i=16,e=[ph(e)]):i=8);t.children=e,t.shapeFlag|=i}function _h(...t){const e={};for(let i=0;i<t.length;i++){const n=t[i];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=fr([e.class,n.class]));else if(r==="style")e.style=dr([e.style,n.style]);else if(gn(r)){const s=e[r],o=n[r];o&&s!==o&&!(ct(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=n[r])}return e}function te(t,e,i,n=null){re(t,e,7,[i,n])}const mh=Xo();let yh=0;function vh(t,e,i){const n=t.type,r=(e?e.appContext:t.appContext)||mh,s={uid:yh++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new qa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ta(n,r),emitsOptions:ha(n,r),emit:null,emitted:null,propsDefaults:Ct,inheritAttrs:n.inheritAttrs,ctx:Ct,data:Ct,props:Ct,attrs:Ct,slots:Ct,refs:Ct,setupState:Ct,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=oh.bind(null,s),t.ce&&t.ce(s),s}let Nt=null;const fa=()=>Nt||qt;let un,rr;{const t=mn(),e=(i,n)=>{let r;return(r=t[i])||(r=t[i]=[]),r.push(n),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};un=e("__VUE_INSTANCE_SETTERS__",i=>Nt=i),rr=e("__VUE_SSR_SETTERS__",i=>qi=i)}const Yi=t=>{const e=Nt;return un(t),t.scope.on(),()=>{t.scope.off(),un(e)}},Yr=()=>{Nt&&Nt.scope.off(),un(null)};function ga(t){return t.vnode.shapeFlag&4}let qi=!1;function bh(t,e=!1,i=!1){e&&rr(e);const{props:n,children:r}=t.vnode,s=ga(t);Kl(t,n,s,e),$l(t,r,i);const o=s?Sh(t,e):void 0;return e&&rr(!1),o}function Sh(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Dl);const{setup:n}=i;if(n){Se();const r=t.setupContext=n.length>1?xh(t):null,s=Yi(t),o=zi(n,t,0,[t.props,r]),a=mo(o);if(Ce(),s(),(a||t.sp)&&!Li(t)&&qo(t),a){if(o.then(Yr,Yr),e)return o.then(l=>{Xr(t,l,e)}).catch(l=>{vn(l,t,0)});t.asyncDep=o}else Xr(t,o,e)}else pa(t,e)}function Xr(t,e,i){ut(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:At(e)&&(t.setupState=Lo(e)),pa(t,i)}let $r;function pa(t,e,i){const n=t.type;if(!t.render){if(!e&&$r&&!n.render){const r=n.template||Tr(t).template;if(r){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,g=Ft(Ft({isCustomElement:s,delimiters:a},o),l);n.render=$r(r,g)}}t.render=n.render||ne}{const r=Yi(t);Se();try{Il(t)}finally{Ce(),r()}}}const Ch={get(t,e){return Lt(t,"get",""),t[e]}};function xh(t){const e=i=>{t.exposed=i||{}};return{attrs:new Proxy(t.attrs,Ch),slots:t.slots,emit:t.emit,expose:e}}function wn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Lo(ul(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in Di)return Di[i](t)},has(e,i){return i in e||i in Di}})):t.proxy}function wh(t,e=!0){return ut(t)?t.displayName||t.name:t.name||e&&t.__name}function Ph(t){return ut(t)&&"__vccOpts"in t}const Th=(t,e)=>_l(t,e,qi);function _a(t,e,i){const n=arguments.length;return n===2?At(e)&&!ct(e)?cn(e)?gt(t,null,[e]):gt(t,e):gt(t,null,e):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&cn(i)&&(i=[i]),gt(t,e,i))}const Ah="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sr;const Jr=typeof window<"u"&&window.trustedTypes;if(Jr)try{sr=Jr.createPolicy("vue",{createHTML:t=>t})}catch{}const ma=sr?t=>sr.createHTML(t):t=>t,Rh="http://www.w3.org/2000/svg",Eh="http://www.w3.org/1998/Math/MathML",he=typeof document<"u"?document:null,Qr=he&&he.createElement("template"),Mh={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,n)=>{const r=e==="svg"?he.createElementNS(Rh,t):e==="mathml"?he.createElementNS(Eh,t):i?he.createElement(t,{is:i}):he.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>he.createTextNode(t),createComment:t=>he.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>he.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,n,r,s){const o=i?i.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),i),!(r===s||!(r=r.nextSibling)););else{Qr.innerHTML=ma(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Qr.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,i)}return[o?o.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},Fh=Symbol("_vtc");function kh(t,e,i){const n=t[Fh];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const Zr=Symbol("_vod"),Oh=Symbol("_vsh"),Nh=Symbol(""),Gh=/(^|;)\s*display\s*:/;function Lh(t,e,i){const n=t.style,r=kt(i);let s=!1;if(i&&!r){if(e)if(kt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();i[a]==null&&nn(n,a,"")}else for(const o in e)i[o]==null&&nn(n,o,"");for(const o in i)o==="display"&&(s=!0),nn(n,o,i[o])}else if(r){if(e!==i){const o=n[Nh];o&&(i+=";"+o),n.cssText=i,s=Gh.test(i)}}else e&&t.removeAttribute("style");Zr in t&&(t[Zr]=s?n.display:"",t[Oh]&&(n.display="none"))}const ts=/\s*!important$/;function nn(t,e,i){if(ct(i))i.forEach(n=>nn(t,e,n));else if(i==null&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const n=Dh(t,e);ts.test(i)?t.setProperty(Fe(n),i.replace(ts,""),"important"):t[n]=i}}const es=["Webkit","Moz","ms"],Ln={};function Dh(t,e){const i=Ln[e];if(i)return i;let n=Xt(e);if(n!=="filter"&&n in t)return Ln[e]=n;n=_n(n);for(let r=0;r<es.length;r++){const s=es[r]+n;if(s in t)return Ln[e]=s}return e}const is="http://www.w3.org/1999/xlink";function ns(t,e,i,n,r,s=Va(e)){n&&e.startsWith("xlink:")?i==null?t.removeAttributeNS(is,e.slice(6,e.length)):t.setAttributeNS(is,e,i):i==null||s&&!bo(i)?t.removeAttribute(e):t.setAttribute(e,s?"":be(i)?String(i):i)}function rs(t,e,i,n,r){if(e==="innerHTML"||e==="textContent"){i!=null&&(t[e]=e==="innerHTML"?ma(i):i);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=i==null?t.type==="checkbox"?"on":"":String(i);(a!==l||!("_value"in t))&&(t.value=l),i==null&&t.removeAttribute(e),t._value=i;return}let o=!1;if(i===""||i==null){const a=typeof t[e];a==="boolean"?i=bo(i):i==null&&a==="string"?(i="",o=!0):a==="number"&&(i=0,o=!0)}try{t[e]=i}catch{}o&&t.removeAttribute(r||e)}function ya(t,e,i,n){t.addEventListener(e,i,n)}function Ih(t,e,i,n){t.removeEventListener(e,i,n)}const ss=Symbol("_vei");function Uh(t,e,i,n,r=null){const s=t[ss]||(t[ss]={}),o=s[e];if(n&&o)o.value=n;else{const[a,l]=Bh(e);if(n){const g=s[e]=Wh(n,r);ya(t,a,g,l)}else o&&(Ih(t,a,o,l),s[e]=void 0)}}const os=/(?:Once|Passive|Capture)$/;function Bh(t){let e;if(os.test(t)){e={};let n;for(;n=t.match(os);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Fe(t.slice(2)),e]}let Dn=0;const Vh=Promise.resolve(),Hh=()=>Dn||(Vh.then(()=>Dn=0),Dn=Date.now());function Wh(t,e){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;re(qh(n,i.value),e,5,[n])};return i.value=t,i.attached=Hh(),i}function qh(t,e){if(ct(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const as=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,jh=(t,e,i,n,r,s)=>{const o=r==="svg";e==="class"?kh(t,n,o):e==="style"?Lh(t,i,n):gn(e)?lr(e)||Uh(t,e,i,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Kh(t,e,n,o))?(rs(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ns(t,e,n,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!kt(n))?rs(t,Xt(e),n,s,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),ns(t,e,n,o))};function Kh(t,e,i,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&as(e)&&ut(i));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return as(e)&&kt(i)?!1:e in t}const ls=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ct(e)?i=>Qi(e,i):e},In=Symbol("_assign"),zh={deep:!0,created(t,{value:e,modifiers:{number:i}},n){const r=cr(e);ya(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>i?vo(dn(o)):dn(o));t[In](t.multiple?r?new Set(s):s:s[0]),t._assigning=!0,Io(()=>{t._assigning=!1})}),t[In]=ls(n)},mounted(t,{value:e}){hs(t,e)},beforeUpdate(t,e,i){t[In]=ls(i)},updated(t,{value:e}){t._assigning||hs(t,e)}};function hs(t,e){const i=t.multiple,n=ct(e);if(!(i&&!n&&!cr(e))){for(let r=0,s=t.options.length;r<s;r++){const o=t.options[r],a=dn(o);if(i)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(g=>String(g)===String(a)):o.selected=Wa(e,a)>-1}else o.selected=e.has(a);else if(yn(dn(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!i&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function dn(t){return"_value"in t?t._value:t.value}const Yh=Ft({patchProp:jh},Mh);let cs;function Xh(){return cs||(cs=Ql(Yh))}const $h=(...t)=>{const e=Xh().createApp(...t),{mount:i}=e;return e.mount=n=>{const r=Qh(n);if(!r)return;const s=e._component;!ut(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=i(r,!1,Jh(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Jh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Qh(t){return kt(t)?document.querySelector(t):t}const Zh={class:"p-5"},tc={__name:"layout1",setup(t){let e=yt({image:null,x:700,y:0,width:60,height:60,draggable:!0,dragBoundFunc:function(c){return{x:c.x>740?740:c.x<=0?0:c.x,y:c.y>190?190:c.y<=0?0:c.y}}}),i=yt({image:null,x:700,y:80,width:60,height:60,draggable:!0,dragBoundFunc:function(c){return{x:c.x>740?740:c.x<=0?0:c.x,y:c.y>190?190:c.y<=0?0:c.y}}}),n=yt({image:null,x:0,y:0,width:600,height:267,draggable:!1}),r=yt({width:800,height:250}),s=yt({clip:{x:0,y:0,width:600}});yt({x:0,y:0,width:600,height:250,fill:"black"});let o=yt({x:200,y:150,width:70,height:70,fill:"green",stroke:"black",strokeWidth:0,draggable:!0,dragBoundFunc:function(c){return{x:c.x<180?180:c.x>220?220:c.x,y:this.absolutePosition().y}}}),a=yt({x:350,y:150,width:70,height:70,fill:"green",stroke:"black",strokeWidth:0,draggable:!0,dragBoundFunc:function(c){return{x:c.x<310?310:c.x>370?370:c.x,y:this.absolutePosition().y}}}),l=yt({x:450,y:150,width:70,height:70,fill:"green",stroke:"black",strokeWidth:0}),g=yt({x:700,y:160,width:35,height:70,fill:"black",stroke:"black",strokeWidth:0,draggable:!0,dragBoundFunc:function(c){return{x:c.x>765?765:c.x<=0?0:c.x,y:c.y>180?180:c.y<=0?0:c.y}}});function u(c){const y=c.target.getStage();y.container().style.cursor="ew-resize"}function _(c){const y=c.target.getStage();y.container().style.cursor="move"}function p(c){const y=c.target.getStage();y.container().style.cursor="default"}async function f(c){return new Promise((y,b)=>{const P=new Image;P.src=c,P.onload=()=>y(P),P.onerror=b})}return Be(async function(){e.value.image=await f("./src/images/son.png"),i.value.image=await f("./src/images/dad.png"),n.value.image=await f("./src/images/car.jpg")}),(c,y)=>{const b=Yt("v-image"),P=Yt("v-Rect"),h=Yt("v-layer"),d=Yt("v-stage");return ye(),xn("div",Zh,[gt(d,{ref:"stage",config:St(r)},{default:Ee(()=>[gt(h,{config:St(s)},{default:Ee(()=>[gt(b,{config:St(n),onMouseenter:_,onMouseleave:p},null,8,["config"]),gt(P,{config:St(o),onMouseenter:u,onMouseleave:p},null,8,["config"]),gt(P,{config:St(a),onMouseenter:u,onMouseleave:p},null,8,["config"]),gt(P,{config:St(l)},null,8,["config"]),gt(P,{config:St(g),onMouseenter:_,onMouseleave:p},null,8,["config"]),gt(b,{config:St(e),onMouseenter:_,onMouseleave:p},null,8,["config"]),gt(b,{config:St(i),onMouseenter:_,onMouseleave:p},null,8,["config"])]),_:1},8,["config"])]),_:1},8,["config"])])}}},ec={class:"p-5"},ic={__name:"layout2",setup(t){let e=yt({image:null,x:700,y:0,width:60,height:60,draggable:!0,dragBoundFunc:function(p){return{x:p.x>740?740:p.x<=0?0:p.x,y:p.y>190?190:p.y<=0?0:p.y}}}),i=yt({image:null,x:700,y:80,width:60,height:60,draggable:!0,dragBoundFunc:function(p){return{x:p.x>740?740:p.x<=0?0:p.x,y:p.y>190?190:p.y<=0?0:p.y}}}),n=yt({image:null,x:0,y:0,width:600,height:267,draggable:!1}),r=yt({width:800,height:250}),s=yt({clip:{x:0,y:0,width:600}});yt({x:0,y:0,width:600,height:250,fill:"black"});let o=yt({x:200,y:150,width:70,height:70,fill:"green",stroke:"black",strokeWidth:0,draggable:!0,dragBoundFunc:function(p){return{x:p.x<180?180:p.x>220?220:p.x,y:this.absolutePosition().y}}});yt({x:350,y:150,width:70,height:70,fill:"green",stroke:"black",strokeWidth:0,draggable:!0,dragBoundFunc:function(p){return{x:p.x<310?310:p.x>370?370:p.x,y:this.absolutePosition().y}}}),yt({x:450,y:150,width:70,height:70,fill:"green",stroke:"black",strokeWidth:0});let a=yt({x:630,y:160,width:175,height:70,fill:"black",stroke:"black",strokeWidth:0,draggable:!0,dragBoundFunc:function(p){return{x:p.x>765?765:p.x<=0?0:p.x,y:p.y>180?180:p.y<=0?0:p.y}}});function l(p){const f=p.target.getStage();f.container().style.cursor="ew-resize"}function g(p){const f=p.target.getStage();f.container().style.cursor="move"}function u(p){const f=p.target.getStage();f.container().style.cursor="default"}async function _(p){return new Promise((f,c)=>{const y=new Image;y.src=p,y.onload=()=>f(y),y.onerror=c})}return Be(async function(){e.value.image=await _("./src/images/son.png"),i.value.image=await _("./src/images/dad.png"),n.value.image=await _("./src/images/car2.jpg")}),(p,f)=>{const c=Yt("v-image"),y=Yt("v-Rect"),b=Yt("v-layer"),P=Yt("v-stage");return ye(),xn("div",ec,[gt(P,{ref:"stage",config:St(r)},{default:Ee(()=>[gt(b,{config:St(s)},{default:Ee(()=>[gt(c,{config:St(n),onMouseenter:g,onMouseleave:u},null,8,["config"]),gt(y,{config:St(o),onMouseenter:l,onMouseleave:u},null,8,["config"]),gt(y,{config:St(a),onMouseenter:g,onMouseleave:u},null,8,["config"]),gt(c,{config:St(e),onMouseenter:g,onMouseleave:u},null,8,["config"]),gt(c,{config:St(i),onMouseenter:g,onMouseleave:u},null,8,["config"])]),_:1},8,["config"])]),_:1},8,["config"])])}}},nc={class:"p-5"},rc={__name:"layout3",setup(t){let e=yt({image:null,x:700,y:0,width:60,height:60,draggable:!0,dragBoundFunc:function(y){return{x:y.x>740?740:y.x<=0?0:y.x,y:y.y>190?190:y.y<=0?0:y.y}}}),i=yt({image:null,x:700,y:80,width:60,height:60,draggable:!0,dragBoundFunc:function(y){return{x:y.x>740?740:y.x<=0?0:y.x,y:y.y>190?190:y.y<=0?0:y.y}}}),n=yt({image:null,x:0,y:0,width:600,height:267,draggable:!1}),r=yt({width:800,height:250}),s=yt({clip:{x:0,y:0,width:600}});yt({x:0,y:0,width:600,height:250,fill:"black"});let o=yt({x:200,y:150,width:70,height:70,fill:"green",stroke:"black",strokeWidth:0,draggable:!0,dragBoundFunc:function(y){return{x:y.x<180?180:y.x>220?220:y.x,y:this.absolutePosition().y}}}),a=yt({x:350,y:150,width:70,height:70,fill:"green",stroke:"black",strokeWidth:0,draggable:!0,dragBoundFunc:function(y){return{x:this.absolutePosition().x,y:y.y<120?120:y.y>150?150:y.y}}}),l=yt({x:450,y:150,width:70,height:70,fill:"green",stroke:"black",strokeWidth:0}),g=yt({x:700,y:160,width:70,height:25,fill:"black",stroke:"black",strokeWidth:0,draggable:!0,dragBoundFunc:function(y){return{x:y.x>765?765:y.x<=0?0:y.x,y:y.y>195?195:y.y<=0?0:y.y}}});function u(y){const b=y.target.getStage();b.container().style.cursor="ew-resize"}function _(y){const b=y.target.getStage();b.container().style.cursor="ns-resize"}function p(y){const b=y.target.getStage();b.container().style.cursor="move"}function f(y){const b=y.target.getStage();b.container().style.cursor="default"}async function c(y){return new Promise((b,P)=>{const h=new Image;h.src=y,h.onload=()=>b(h),h.onerror=P})}return Be(async function(){e.value.image=await c("./src/images/son.png"),i.value.image=await c("./src/images/dad.png"),n.value.image=await c("./src/images/car.jpg")}),(y,b)=>{const P=Yt("v-image"),h=Yt("v-Rect"),d=Yt("v-layer"),v=Yt("v-stage");return ye(),xn("div",nc,[gt(v,{ref:"stage",config:St(r)},{default:Ee(()=>[gt(d,{config:St(s)},{default:Ee(()=>[gt(P,{config:St(n),onMouseenter:p,onMouseleave:f},null,8,["config"]),gt(h,{config:St(o),onMouseenter:u,onMouseleave:f},null,8,["config"]),gt(h,{config:St(a),onMouseenter:_,onMouseleave:f},null,8,["config"]),gt(h,{config:St(l)},null,8,["config"]),gt(h,{config:St(g),onMouseenter:p,onMouseleave:f},null,8,["config"]),gt(P,{config:St(e),onMouseenter:p,onMouseleave:f},null,8,["config"]),gt(P,{config:St(i),onMouseenter:p,onMouseleave:f},null,8,["config"])]),_:1},8,["config"])]),_:1},8,["config"])])}}},sc={class:"p-5"},oc={__name:"App",setup(t){let e=yt(1);return(i,n)=>(ye(),xn("div",sc,[_e("div",null,[Cl(_e("select",{class:"border border-black/55 h-10 w-32",name:"",id:"","onUpdate:modelValue":n[0]||(n[0]=r=>Gt(e)?e.value=r:e=r)},n[1]||(n[1]=[_e("option",{value:"1"},"Layout 1",-1),_e("option",{value:"2"},"Layout 2",-1),_e("option",{value:"3"},"Layout 3",-1)]),512),[[zh,St(e)]])]),_e("div",null,[St(e)==1?(ye(),tn(tc,{key:0})):Gn("",!0),St(e)==2?(ye(),tn(ic,{key:1})):Gn("",!0),St(e)==3?(ye(),tn(rc,{key:2})):Gn("",!0)])]))}};var us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ac(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rn={exports:{}},We={},Un={},Bn={},ds;function pt(){return ds||(ds=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function i(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof us<"u"?us:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.16",isBrowser:i(),isUnminified:/param/.test((function(r){}).toString()),dblClickWindow:400,getAngle(r){return t.Konva.angleDeg?r*e:r},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var r;return(r=t.Konva.Transformer)===null||r===void 0?void 0:r.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(r){t.glob.Konva=r}};const n=r=>{t.Konva[r.prototype.getClassName()]=r};t._registerNode=n,t.Konva._injectGlobal(t.Konva)}(Bn)),Bn}var Vn={},fs;function Rt(){return fs||(fs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=pt();class i{constructor(v=[1,0,0,1,0,0]){this.dirty=!1,this.m=v&&v.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new i(this.m)}copyInto(v){v.m[0]=this.m[0],v.m[1]=this.m[1],v.m[2]=this.m[2],v.m[3]=this.m[3],v.m[4]=this.m[4],v.m[5]=this.m[5]}point(v){const x=this.m;return{x:x[0]*v.x+x[2]*v.y+x[4],y:x[1]*v.x+x[3]*v.y+x[5]}}translate(v,x){return this.m[4]+=this.m[0]*v+this.m[2]*x,this.m[5]+=this.m[1]*v+this.m[3]*x,this}scale(v,x){return this.m[0]*=v,this.m[1]*=v,this.m[2]*=x,this.m[3]*=x,this}rotate(v){const x=Math.cos(v),T=Math.sin(v),k=this.m[0]*x+this.m[2]*T,E=this.m[1]*x+this.m[3]*T,O=this.m[0]*-T+this.m[2]*x,w=this.m[1]*-T+this.m[3]*x;return this.m[0]=k,this.m[1]=E,this.m[2]=O,this.m[3]=w,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(v,x){const T=this.m[0]+this.m[2]*x,k=this.m[1]+this.m[3]*x,E=this.m[2]+this.m[0]*v,O=this.m[3]+this.m[1]*v;return this.m[0]=T,this.m[1]=k,this.m[2]=E,this.m[3]=O,this}multiply(v){const x=this.m[0]*v.m[0]+this.m[2]*v.m[1],T=this.m[1]*v.m[0]+this.m[3]*v.m[1],k=this.m[0]*v.m[2]+this.m[2]*v.m[3],E=this.m[1]*v.m[2]+this.m[3]*v.m[3],O=this.m[0]*v.m[4]+this.m[2]*v.m[5]+this.m[4],w=this.m[1]*v.m[4]+this.m[3]*v.m[5]+this.m[5];return this.m[0]=x,this.m[1]=T,this.m[2]=k,this.m[3]=E,this.m[4]=O,this.m[5]=w,this}invert(){const v=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),x=this.m[3]*v,T=-this.m[1]*v,k=-this.m[2]*v,E=this.m[0]*v,O=v*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),w=v*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=x,this.m[1]=T,this.m[2]=k,this.m[3]=E,this.m[4]=O,this.m[5]=w,this}getMatrix(){return this.m}decompose(){const v=this.m[0],x=this.m[1],T=this.m[2],k=this.m[3],E=this.m[4],O=this.m[5],w=v*k-x*T,M={x:E,y:O,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(v!=0||x!=0){const L=Math.sqrt(v*v+x*x);M.rotation=x>0?Math.acos(v/L):-Math.acos(v/L),M.scaleX=L,M.scaleY=w/L,M.skewX=(v*T+x*k)/w,M.skewY=0}else if(T!=0||k!=0){const L=Math.sqrt(T*T+k*k);M.rotation=Math.PI/2-(k>0?Math.acos(-T/L):-Math.acos(T/L)),M.scaleX=w/L,M.scaleY=L,M.skewX=0,M.skewY=(v*T+x*k)/w}return M.rotation=t.Util._getRotation(M.rotation),M}}t.Transform=i;let n="[object Array]",r="[object Number]",s="[object String]",o="[object Boolean]",a=Math.PI/180,l=180/Math.PI,g="#",u="",_="0",p="Konva warning: ",f="Konva error: ",c="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},b=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,P=[];const h=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(d){setTimeout(d,60)};t.Util={_isElement(d){return!!(d&&d.nodeType==1)},_isFunction(d){return!!(d&&d.constructor&&d.call&&d.apply)},_isPlainObject(d){return!!d&&d.constructor===Object},_isArray(d){return Object.prototype.toString.call(d)===n},_isNumber(d){return Object.prototype.toString.call(d)===r&&!isNaN(d)&&isFinite(d)},_isString(d){return Object.prototype.toString.call(d)===s},_isBoolean(d){return Object.prototype.toString.call(d)===o},isObject(d){return d instanceof Object},isValidSelector(d){if(typeof d!="string")return!1;const v=d[0];return v==="#"||v==="."||v===v.toUpperCase()},_sign(d){return d===0||d>0?1:-1},requestAnimFrame(d){P.push(d),P.length===1&&h(function(){const v=P;P=[],v.forEach(function(x){x()})})},createCanvasElement(){const d=document.createElement("canvas");try{d.style=d.style||{}}catch{}return d},createImageElement(){return document.createElement("img")},_isInDocument(d){for(;d=d.parentNode;)if(d==document)return!0;return!1},_urlToImage(d,v){const x=t.Util.createImageElement();x.onload=function(){v(x)},x.src=d},_rgbToHex(d,v,x){return((1<<24)+(d<<16)+(v<<8)+x).toString(16).slice(1)},_hexToRgb(d){d=d.replace(g,u);const v=parseInt(d,16);return{r:v>>16&255,g:v>>8&255,b:v&255}},getRandomColor(){let d=(Math.random()*16777215<<0).toString(16);for(;d.length<6;)d=_+d;return g+d},getRGB(d){let v;return d in y?(v=y[d],{r:v[0],g:v[1],b:v[2]}):d[0]===g?this._hexToRgb(d.substring(1)):d.substr(0,4)===c?(v=b.exec(d.replace(/ /g,"")),{r:parseInt(v[1],10),g:parseInt(v[2],10),b:parseInt(v[3],10)}):{r:0,g:0,b:0}},colorToRGBA(d){return d=d||"black",t.Util._namedColorToRBA(d)||t.Util._hex3ColorToRGBA(d)||t.Util._hex4ColorToRGBA(d)||t.Util._hex6ColorToRGBA(d)||t.Util._hex8ColorToRGBA(d)||t.Util._rgbColorToRGBA(d)||t.Util._rgbaColorToRGBA(d)||t.Util._hslColorToRGBA(d)},_namedColorToRBA(d){const v=y[d.toLowerCase()];return v?{r:v[0],g:v[1],b:v[2],a:1}:null},_rgbColorToRGBA(d){if(d.indexOf("rgb(")===0){d=d.match(/rgb\(([^)]+)\)/)[1];const v=d.split(/ *, */).map(Number);return{r:v[0],g:v[1],b:v[2],a:1}}},_rgbaColorToRGBA(d){if(d.indexOf("rgba(")===0){d=d.match(/rgba\(([^)]+)\)/)[1];const v=d.split(/ *, */).map((x,T)=>x.slice(-1)==="%"?T===3?parseInt(x)/100:parseInt(x)/100*255:Number(x));return{r:v[0],g:v[1],b:v[2],a:v[3]}}},_hex8ColorToRGBA(d){if(d[0]==="#"&&d.length===9)return{r:parseInt(d.slice(1,3),16),g:parseInt(d.slice(3,5),16),b:parseInt(d.slice(5,7),16),a:parseInt(d.slice(7,9),16)/255}},_hex6ColorToRGBA(d){if(d[0]==="#"&&d.length===7)return{r:parseInt(d.slice(1,3),16),g:parseInt(d.slice(3,5),16),b:parseInt(d.slice(5,7),16),a:1}},_hex4ColorToRGBA(d){if(d[0]==="#"&&d.length===5)return{r:parseInt(d[1]+d[1],16),g:parseInt(d[2]+d[2],16),b:parseInt(d[3]+d[3],16),a:parseInt(d[4]+d[4],16)/255}},_hex3ColorToRGBA(d){if(d[0]==="#"&&d.length===4)return{r:parseInt(d[1]+d[1],16),g:parseInt(d[2]+d[2],16),b:parseInt(d[3]+d[3],16),a:1}},_hslColorToRGBA(d){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(d)){const[v,...x]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(d),T=Number(x[0])/360,k=Number(x[1])/100,E=Number(x[2])/100;let O,w,M;if(k===0)return M=E*255,{r:Math.round(M),g:Math.round(M),b:Math.round(M),a:1};E<.5?O=E*(1+k):O=E+k-E*k;const L=2*E-O,m=[0,0,0];for(let C=0;C<3;C++)w=T+1/3*-(C-1),w<0&&w++,w>1&&w--,6*w<1?M=L+(O-L)*6*w:2*w<1?M=O:3*w<2?M=L+(O-L)*(2/3-w)*6:M=L,m[C]=M*255;return{r:Math.round(m[0]),g:Math.round(m[1]),b:Math.round(m[2]),a:1}}},haveIntersection(d,v){return!(v.x>d.x+d.width||v.x+v.width<d.x||v.y>d.y+d.height||v.y+v.height<d.y)},cloneObject(d){const v={};for(const x in d)this._isPlainObject(d[x])?v[x]=this.cloneObject(d[x]):this._isArray(d[x])?v[x]=this.cloneArray(d[x]):v[x]=d[x];return v},cloneArray(d){return d.slice(0)},degToRad(d){return d*a},radToDeg(d){return d*l},_degToRad(d){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(d)},_radToDeg(d){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(d)},_getRotation(d){return e.Konva.angleDeg?t.Util.radToDeg(d):d},_capitalize(d){return d.charAt(0).toUpperCase()+d.slice(1)},throw(d){throw new Error(f+d)},error(d){console.error(f+d)},warn(d){e.Konva.showWarnings&&console.warn(p+d)},each(d,v){for(const x in d)v(x,d[x])},_inRange(d,v,x){return v<=d&&d<x},_getProjectionToSegment(d,v,x,T,k,E){let O,w,M;const L=(d-x)*(d-x)+(v-T)*(v-T);if(L==0)O=d,w=v,M=(k-x)*(k-x)+(E-T)*(E-T);else{const m=((k-d)*(x-d)+(E-v)*(T-v))/L;m<0?(O=d,w=v,M=(d-k)*(d-k)+(v-E)*(v-E)):m>1?(O=x,w=T,M=(x-k)*(x-k)+(T-E)*(T-E)):(O=d+m*(x-d),w=v+m*(T-v),M=(O-k)*(O-k)+(w-E)*(w-E))}return[O,w,M]},_getProjectionToLine(d,v,x){const T=t.Util.cloneObject(d);let k=Number.MAX_VALUE;return v.forEach(function(E,O){if(!x&&O===v.length-1)return;const w=v[(O+1)%v.length],M=t.Util._getProjectionToSegment(E.x,E.y,w.x,w.y,d.x,d.y),L=M[0],m=M[1],C=M[2];C<k&&(T.x=L,T.y=m,k=C)}),T},_prepareArrayForTween(d,v,x){let T,k=[],E=[];if(d.length>v.length){const w=v;v=d,d=w}for(T=0;T<d.length;T+=2)k.push({x:d[T],y:d[T+1]});for(T=0;T<v.length;T+=2)E.push({x:v[T],y:v[T+1]});const O=[];return E.forEach(function(w){const M=t.Util._getProjectionToLine(w,k,x);O.push(M.x),O.push(M.y)}),O},_prepareToStringify(d){let v;d.visitedByCircularReferenceRemoval=!0;for(const x in d)if(d.hasOwnProperty(x)&&d[x]&&typeof d[x]=="object"){if(v=Object.getOwnPropertyDescriptor(d,x),d[x].visitedByCircularReferenceRemoval||t.Util._isElement(d[x]))if(v.configurable)delete d[x];else return null;else if(t.Util._prepareToStringify(d[x])===null)if(v.configurable)delete d[x];else return null}return delete d.visitedByCircularReferenceRemoval,d},_assign(d,v){for(const x in v)d[x]=v[x];return d},_getFirstPointerId(d){return d.touches?d.changedTouches[0].identifier:d.pointerId||999},releaseCanvas(...d){e.Konva.releaseCanvasOnDestroy&&d.forEach(v=>{v.width=0,v.height=0})},drawRoundedRectPath(d,v,x,T){let k=0,E=0,O=0,w=0;typeof T=="number"?k=E=O=w=Math.min(T,v/2,x/2):(k=Math.min(T[0]||0,v/2,x/2),E=Math.min(T[1]||0,v/2,x/2),w=Math.min(T[2]||0,v/2,x/2),O=Math.min(T[3]||0,v/2,x/2)),d.moveTo(k,0),d.lineTo(v-E,0),d.arc(v-E,E,E,Math.PI*3/2,0,!1),d.lineTo(v,x-w),d.arc(v-w,x-w,w,0,Math.PI/2,!1),d.lineTo(O,x),d.arc(O,x-O,O,Math.PI/2,Math.PI,!1),d.lineTo(0,k),d.arc(k,k,k,Math.PI,Math.PI*3/2,!1)}}}(Vn)),Vn}var qe={},Hn={},Ht={},gs;function mt(){if(gs)return Ht;gs=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.RGBComponent=n,Ht.alphaComponent=r,Ht.getNumberValidator=s,Ht.getNumberOrArrayOfNumbersValidator=o,Ht.getNumberOrAutoValidator=a,Ht.getStringValidator=l,Ht.getStringOrGradientValidator=g,Ht.getFunctionValidator=u,Ht.getNumberArrayValidator=_,Ht.getBooleanValidator=p,Ht.getComponentValidator=f;const t=pt(),e=Rt();function i(c){return e.Util._isString(c)?'"'+c+'"':Object.prototype.toString.call(c)==="[object Number]"||e.Util._isBoolean(c)?c:Object.prototype.toString.call(c)}function n(c){return c>255?255:c<0?0:Math.round(c)}function r(c){return c>1?1:c<1e-4?1e-4:c}function s(){if(t.Konva.isUnminified)return function(c,y){return e.Util._isNumber(c)||e.Util.warn(i(c)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),c}}function o(c){if(t.Konva.isUnminified)return function(y,b){const P=e.Util._isNumber(y),h=e.Util._isArray(y)&&y.length==c;return!P&&!h&&e.Util.warn(i(y)+' is a not valid value for "'+b+'" attribute. The value should be a number or Array<number>('+c+")"),y}}function a(){if(t.Konva.isUnminified)return function(c,y){return e.Util._isNumber(c)||c==="auto"||e.Util.warn(i(c)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),c}}function l(){if(t.Konva.isUnminified)return function(c,y){return e.Util._isString(c)||e.Util.warn(i(c)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),c}}function g(){if(t.Konva.isUnminified)return function(c,y){const b=e.Util._isString(c),P=Object.prototype.toString.call(c)==="[object CanvasGradient]"||c&&c.addColorStop;return b||P||e.Util.warn(i(c)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),c}}function u(){if(t.Konva.isUnminified)return function(c,y){return e.Util._isFunction(c)||e.Util.warn(i(c)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),c}}function _(){if(t.Konva.isUnminified)return function(c,y){const b=Int8Array?Object.getPrototypeOf(Int8Array):null;return b&&c instanceof b||(e.Util._isArray(c)?c.forEach(function(P){e.Util._isNumber(P)||e.Util.warn('"'+y+'" attribute has non numeric element '+P+". Make sure that all elements are numbers.")}):e.Util.warn(i(c)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),c}}function p(){if(t.Konva.isUnminified)return function(c,y){return c===!0||c===!1||e.Util.warn(i(c)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),c}}function f(c){if(t.Konva.isUnminified)return function(y,b){return y==null||e.Util.isObject(y)||e.Util.warn(i(y)+' is a not valid value for "'+b+'" attribute. The value should be an object with properties '+c),y}}return Ht}var ps;function _t(){return ps||(ps=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Rt(),i=mt(),n="get",r="set";t.Factory={addGetterSetter(s,o,a,l,g){t.Factory.addGetter(s,o,a),t.Factory.addSetter(s,o,l,g),t.Factory.addOverloadedGetterSetter(s,o)},addGetter(s,o,a){const l=n+e.Util._capitalize(o);s.prototype[l]=s.prototype[l]||function(){const g=this.attrs[o];return g===void 0?a:g}},addSetter(s,o,a,l){const g=r+e.Util._capitalize(o);s.prototype[g]||t.Factory.overWriteSetter(s,o,a,l)},overWriteSetter(s,o,a,l){const g=r+e.Util._capitalize(o);s.prototype[g]=function(u){return a&&u!==void 0&&u!==null&&(u=a.call(this,u,o)),this._setAttr(o,u),l&&l.call(this),this}},addComponentsGetterSetter(s,o,a,l,g){let u=a.length,_=e.Util._capitalize,p=n+_(o),f=r+_(o),c,y;s.prototype[p]=function(){const P={};for(c=0;c<u;c++)y=a[c],P[y]=this.getAttr(o+_(y));return P};const b=(0,i.getComponentValidator)(a);s.prototype[f]=function(P){let h=this.attrs[o],d;l&&(P=l.call(this,P)),b&&b.call(this,P,o);for(d in P)P.hasOwnProperty(d)&&this._setAttr(o+_(d),P[d]);return P||a.forEach(v=>{this._setAttr(o+_(v),void 0)}),this._fireChangeEvent(o,h,P),g&&g.call(this),this},t.Factory.addOverloadedGetterSetter(s,o)},addOverloadedGetterSetter(s,o){const a=e.Util._capitalize(o),l=r+a,g=n+a;s.prototype[o]=function(){return arguments.length?(this[l](arguments[0]),this):this[g]()}},addDeprecatedGetterSetter(s,o,a,l){e.Util.error("Adding deprecated "+o);const g=n+e.Util._capitalize(o),u=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[g]=function(){e.Util.error(u);const _=this.attrs[o];return _===void 0?a:_},t.Factory.addSetter(s,o,l,function(){e.Util.error(u)}),t.Factory.addOverloadedGetterSetter(s,o)},backCompat(s,o){e.Util.each(o,function(a,l){const g=s.prototype[l],u=n+e.Util._capitalize(a),_=r+e.Util._capitalize(a);function p(){g.apply(this,arguments),e.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}s.prototype[a]=p,s.prototype[u]=p,s.prototype[_]=p})},afterSetFilter(){this._filterUpToDate=!1}}}(Hn)),Hn}var ae={},le={},_s;function va(){if(_s)return le;_s=1,Object.defineProperty(le,"__esModule",{value:!0}),le.HitContext=le.SceneContext=le.Context=void 0;const t=Rt(),e=pt();function i(P){let h=[],d=P.length,v=t.Util,x,T;for(x=0;x<d;x++)T=P[x],v._isNumber(T)?T=Math.round(T*1e3)/1e3:v._isString(T)||(T=T+""),h.push(T);return h}const n=",",r="(",s=")",o="([",a="])",l=";",g="()",u="=",_=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],p=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],f=100;let c=class{constructor(h){this.canvas=h,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(h){h.fillEnabled()&&this._fill(h)}_fill(h){}strokeShape(h){h.hasStroke()&&this._stroke(h)}_stroke(h){}fillStrokeShape(h){h.attrs.fillAfterStrokeEnabled?(this.strokeShape(h),this.fillShape(h)):(this.fillShape(h),this.strokeShape(h))}getTrace(h,d){let v=this.traceArr,x=v.length,T="",k,E,O,w;for(k=0;k<x;k++)E=v[k],O=E.method,O?(w=E.args,T+=O,h?T+=g:t.Util._isArray(w[0])?T+=o+w.join(n)+a:(d&&(w=w.map(M=>typeof M=="number"?Math.floor(M):M)),T+=r+w.join(n)+s)):(T+=E.property,h||(T+=u+E.val)),T+=l;return T}clearTrace(){this.traceArr=[]}_trace(h){let d=this.traceArr,v;d.push(h),v=d.length,v>=f&&d.shift()}reset(){const h=this.getCanvas().getPixelRatio();this.setTransform(1*h,0,0,1*h,0,0)}getCanvas(){return this.canvas}clear(h){const d=this.getCanvas();h?this.clearRect(h.x||0,h.y||0,h.width||0,h.height||0):this.clearRect(0,0,d.getWidth()/d.pixelRatio,d.getHeight()/d.pixelRatio)}_applyLineCap(h){const d=h.attrs.lineCap;d&&this.setAttr("lineCap",d)}_applyOpacity(h){const d=h.getAbsoluteOpacity();d!==1&&this.setAttr("globalAlpha",d)}_applyLineJoin(h){const d=h.attrs.lineJoin;d&&this.setAttr("lineJoin",d)}setAttr(h,d){this._context[h]=d}arc(h,d,v,x,T,k){this._context.arc(h,d,v,x,T,k)}arcTo(h,d,v,x,T){this._context.arcTo(h,d,v,x,T)}beginPath(){this._context.beginPath()}bezierCurveTo(h,d,v,x,T,k){this._context.bezierCurveTo(h,d,v,x,T,k)}clearRect(h,d,v,x){this._context.clearRect(h,d,v,x)}clip(...h){this._context.clip.apply(this._context,h)}closePath(){this._context.closePath()}createImageData(h,d){const v=arguments;if(v.length===2)return this._context.createImageData(h,d);if(v.length===1)return this._context.createImageData(h)}createLinearGradient(h,d,v,x){return this._context.createLinearGradient(h,d,v,x)}createPattern(h,d){return this._context.createPattern(h,d)}createRadialGradient(h,d,v,x,T,k){return this._context.createRadialGradient(h,d,v,x,T,k)}drawImage(h,d,v,x,T,k,E,O,w){const M=arguments,L=this._context;M.length===3?L.drawImage(h,d,v):M.length===5?L.drawImage(h,d,v,x,T):M.length===9&&L.drawImage(h,d,v,x,T,k,E,O,w)}ellipse(h,d,v,x,T,k,E,O){this._context.ellipse(h,d,v,x,T,k,E,O)}isPointInPath(h,d,v,x){return v?this._context.isPointInPath(v,h,d,x):this._context.isPointInPath(h,d,x)}fill(...h){this._context.fill.apply(this._context,h)}fillRect(h,d,v,x){this._context.fillRect(h,d,v,x)}strokeRect(h,d,v,x){this._context.strokeRect(h,d,v,x)}fillText(h,d,v,x){x?this._context.fillText(h,d,v,x):this._context.fillText(h,d,v)}measureText(h){return this._context.measureText(h)}getImageData(h,d,v,x){return this._context.getImageData(h,d,v,x)}lineTo(h,d){this._context.lineTo(h,d)}moveTo(h,d){this._context.moveTo(h,d)}rect(h,d,v,x){this._context.rect(h,d,v,x)}roundRect(h,d,v,x,T){this._context.roundRect(h,d,v,x,T)}putImageData(h,d,v){this._context.putImageData(h,d,v)}quadraticCurveTo(h,d,v,x){this._context.quadraticCurveTo(h,d,v,x)}restore(){this._context.restore()}rotate(h){this._context.rotate(h)}save(){this._context.save()}scale(h,d){this._context.scale(h,d)}setLineDash(h){this._context.setLineDash?this._context.setLineDash(h):"mozDash"in this._context?this._context.mozDash=h:"webkitLineDash"in this._context&&(this._context.webkitLineDash=h)}getLineDash(){return this._context.getLineDash()}setTransform(h,d,v,x,T,k){this._context.setTransform(h,d,v,x,T,k)}stroke(h){h?this._context.stroke(h):this._context.stroke()}strokeText(h,d,v,x){this._context.strokeText(h,d,v,x)}transform(h,d,v,x,T,k){this._context.transform(h,d,v,x,T,k)}translate(h,d){this._context.translate(h,d)}_enableTrace(){let h=this,d=_.length,v=this.setAttr,x,T;const k=function(E){let O=h[E],w;h[E]=function(){return T=i(Array.prototype.slice.call(arguments,0)),w=O.apply(h,arguments),h._trace({method:E,args:T}),w}};for(x=0;x<d;x++)k(_[x]);h.setAttr=function(){v.apply(h,arguments);const E=arguments[0];let O=arguments[1];(E==="shadowOffsetX"||E==="shadowOffsetY"||E==="shadowBlur")&&(O=O/this.canvas.getPixelRatio()),h._trace({property:E,val:O})}}_applyGlobalCompositeOperation(h){const d=h.attrs.globalCompositeOperation;!d||d==="source-over"||this.setAttr("globalCompositeOperation",d)}};le.Context=c,p.forEach(function(P){Object.defineProperty(c.prototype,P,{get(){return this._context[P]},set(h){this._context[P]=h}})});class y extends c{constructor(h,{willReadFrequently:d=!1}={}){super(h),this._context=h._canvas.getContext("2d",{willReadFrequently:d})}_fillColor(h){const d=h.fill();this.setAttr("fillStyle",d),h._fillFunc(this)}_fillPattern(h){this.setAttr("fillStyle",h._getFillPattern()),h._fillFunc(this)}_fillLinearGradient(h){const d=h._getLinearGradient();d&&(this.setAttr("fillStyle",d),h._fillFunc(this))}_fillRadialGradient(h){const d=h._getRadialGradient();d&&(this.setAttr("fillStyle",d),h._fillFunc(this))}_fill(h){const d=h.fill(),v=h.getFillPriority();if(d&&v==="color"){this._fillColor(h);return}const x=h.getFillPatternImage();if(x&&v==="pattern"){this._fillPattern(h);return}const T=h.getFillLinearGradientColorStops();if(T&&v==="linear-gradient"){this._fillLinearGradient(h);return}const k=h.getFillRadialGradientColorStops();if(k&&v==="radial-gradient"){this._fillRadialGradient(h);return}d?this._fillColor(h):x?this._fillPattern(h):T?this._fillLinearGradient(h):k&&this._fillRadialGradient(h)}_strokeLinearGradient(h){const d=h.getStrokeLinearGradientStartPoint(),v=h.getStrokeLinearGradientEndPoint(),x=h.getStrokeLinearGradientColorStops(),T=this.createLinearGradient(d.x,d.y,v.x,v.y);if(x){for(let k=0;k<x.length;k+=2)T.addColorStop(x[k],x[k+1]);this.setAttr("strokeStyle",T)}}_stroke(h){const d=h.dash(),v=h.getStrokeScaleEnabled();if(h.hasStroke()){if(!v){this.save();const T=this.getCanvas().getPixelRatio();this.setTransform(T,0,0,T,0,0)}this._applyLineCap(h),d&&h.dashEnabled()&&(this.setLineDash(d),this.setAttr("lineDashOffset",h.dashOffset())),this.setAttr("lineWidth",h.strokeWidth()),h.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),h.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(h):this.setAttr("strokeStyle",h.stroke()),h._strokeFunc(this),v||this.restore()}}_applyShadow(h){var d,v,x;const T=(d=h.getShadowRGBA())!==null&&d!==void 0?d:"black",k=(v=h.getShadowBlur())!==null&&v!==void 0?v:5,E=(x=h.getShadowOffset())!==null&&x!==void 0?x:{x:0,y:0},O=h.getAbsoluteScale(),w=this.canvas.getPixelRatio(),M=O.x*w,L=O.y*w;this.setAttr("shadowColor",T),this.setAttr("shadowBlur",k*Math.min(Math.abs(M),Math.abs(L))),this.setAttr("shadowOffsetX",E.x*M),this.setAttr("shadowOffsetY",E.y*L)}}le.SceneContext=y;class b extends c{constructor(h){super(h),this._context=h._canvas.getContext("2d",{willReadFrequently:!0})}_fill(h){this.save(),this.setAttr("fillStyle",h.colorKey),h._fillFuncHit(this),this.restore()}strokeShape(h){h.hasHitStroke()&&this._stroke(h)}_stroke(h){if(h.hasHitStroke()){const d=h.getStrokeScaleEnabled();if(!d){this.save();const T=this.getCanvas().getPixelRatio();this.setTransform(T,0,0,T,0,0)}this._applyLineCap(h);const v=h.hitStrokeWidth(),x=v==="auto"?h.strokeWidth():v;this.setAttr("lineWidth",x),this.setAttr("strokeStyle",h.colorKey),h._strokeFuncHit(this),d||this.restore()}}}return le.HitContext=b,le}var ms;function Pn(){if(ms)return ae;ms=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.HitCanvas=ae.SceneCanvas=ae.Canvas=void 0;const t=Rt(),e=va(),i=pt(),n=_t(),r=mt();let s;function o(){if(s)return s;const u=t.Util.createCanvasElement(),_=u.getContext("2d");return s=function(){const p=i.Konva._global.devicePixelRatio||1,f=_.webkitBackingStorePixelRatio||_.mozBackingStorePixelRatio||_.msBackingStorePixelRatio||_.oBackingStorePixelRatio||_.backingStorePixelRatio||1;return p/f}(),t.Util.releaseCanvas(u),s}let a=class{constructor(_){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const f=(_||{}).pixelRatio||i.Konva.pixelRatio||o();this.pixelRatio=f,this._canvas=t.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(_){const p=this.pixelRatio;this.pixelRatio=_,this.setSize(this.getWidth()/p,this.getHeight()/p)}setWidth(_){this.width=this._canvas.width=_*this.pixelRatio,this._canvas.style.width=_+"px";const p=this.pixelRatio;this.getContext()._context.scale(p,p)}setHeight(_){this.height=this._canvas.height=_*this.pixelRatio,this._canvas.style.height=_+"px";const p=this.pixelRatio;this.getContext()._context.scale(p,p)}getWidth(){return this.width}getHeight(){return this.height}setSize(_,p){this.setWidth(_||0),this.setHeight(p||0)}toDataURL(_,p){try{return this._canvas.toDataURL(_,p)}catch{try{return this._canvas.toDataURL()}catch(c){return t.Util.error("Unable to get data URL. "+c.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ae.Canvas=a,n.Factory.addGetterSetter(a,"pixelRatio",void 0,(0,r.getNumberValidator)());class l extends a{constructor(_={width:0,height:0,willReadFrequently:!1}){super(_),this.context=new e.SceneContext(this,{willReadFrequently:_.willReadFrequently}),this.setSize(_.width,_.height)}}ae.SceneCanvas=l;class g extends a{constructor(_={width:0,height:0}){super(_),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(_.width,_.height)}}return ae.HitCanvas=g,ae}var Wn={},ys;function Er(){return ys||(ys=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=pt(),i=Rt();t.DD={get isDragging(){let n=!1;return t.DD._dragElements.forEach(r=>{r.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return t.DD._dragElements.forEach(r=>{n=r.node}),n},_dragElements:new Map,_drag(n){const r=[];t.DD._dragElements.forEach((s,o)=>{const{node:a}=s,l=a.getStage();l.setPointersPositions(n),s.pointerId===void 0&&(s.pointerId=i.Util._getFirstPointerId(n));const g=l._changedPointerPositions.find(u=>u.id===s.pointerId);if(g){if(s.dragStatus!=="dragging"){const u=a.dragDistance();if(Math.max(Math.abs(g.x-s.startPointerPos.x),Math.abs(g.y-s.startPointerPos.y))<u||(a.startDrag({evt:n}),!a.isDragging()))return}a._setDragPosition(n,s),r.push(a)}}),r.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:n},!0)})},_endDragBefore(n){const r=[];t.DD._dragElements.forEach(s=>{const{node:o}=s,a=o.getStage();if(n&&a.setPointersPositions(n),!a._changedPointerPositions.find(u=>u.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const g=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;g&&r.indexOf(g)===-1&&r.push(g)}),r.forEach(s=>{s.draw()})},_endDragAfter(n){t.DD._dragElements.forEach((r,s)=>{r.dragStatus==="stopped"&&r.node.fire("dragend",{type:"dragend",target:r.node,evt:n},!0),r.dragStatus!=="dragging"&&t.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))}(Wn)),Wn}var vs;function Mt(){if(vs)return qe;vs=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.Node=void 0;const t=Rt(),e=_t(),i=Pn(),n=pt(),r=Er(),s=mt(),o="absoluteOpacity",a="allEventListeners",l="absoluteTransform",g="absoluteScale",u="canvas",_="Change",p="children",f="konva",c="listening",y="mouseenter",b="mouseleave",P="set",h="Shape",d=" ",v="stage",x="transform",T="Stage",k="visible",E=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(d);let O=1,w=class or{constructor(m){this._id=O++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(m),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(m){(m===x||m===l)&&this._cache.get(m)?this._cache.get(m).dirty=!0:m?this._cache.delete(m):this._cache.clear()}_getCache(m,C){let S=this._cache.get(m);return(S===void 0||(m===x||m===l)&&S.dirty===!0)&&(S=C.call(this),this._cache.set(m,S)),S}_calculate(m,C,S){if(!this._attachedDepsListeners.get(m)){const A=C.map(R=>R+"Change.konva").join(d);this.on(A,()=>{this._clearCache(m)}),this._attachedDepsListeners.set(m,!0)}return this._getCache(m,S)}_getCanvasCache(){return this._cache.get(u)}_clearSelfAndDescendantCache(m){this._clearCache(m),m===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(u)){const{scene:m,filter:C,hit:S}=this._cache.get(u);t.Util.releaseCanvas(m,C,S),this._cache.delete(u)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(m){const C=m||{};let S={};(C.x===void 0||C.y===void 0||C.width===void 0||C.height===void 0)&&(S=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let A=Math.ceil(C.width||S.width),R=Math.ceil(C.height||S.height),I=C.pixelRatio,B=C.x===void 0?Math.floor(S.x):C.x,j=C.y===void 0?Math.floor(S.y):C.y,W=C.offset||0,z=C.drawBorder||!1,H=C.hitCanvasPixelRatio||1;if(!A||!R){t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const J=Math.abs(Math.round(S.x)-B)>.5?1:0,rt=Math.abs(Math.round(S.y)-j)>.5?1:0;A+=W*2+J,R+=W*2+rt,B-=W,j-=W;const it=new i.SceneCanvas({pixelRatio:I,width:A,height:R}),G=new i.SceneCanvas({pixelRatio:I,width:0,height:0,willReadFrequently:!0}),U=new i.HitCanvas({pixelRatio:H,width:A,height:R}),X=it.getContext(),et=U.getContext();return U.isCache=!0,it.isCache=!0,this._cache.delete(u),this._filterUpToDate=!1,C.imageSmoothingEnabled===!1&&(it.getContext()._context.imageSmoothingEnabled=!1,G.getContext()._context.imageSmoothingEnabled=!1),X.save(),et.save(),X.translate(-B,-j),et.translate(-B,-j),this._isUnderCache=!0,this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(g),this.drawScene(it,this),this.drawHit(U,this),this._isUnderCache=!1,X.restore(),et.restore(),z&&(X.save(),X.beginPath(),X.rect(0,0,A,R),X.closePath(),X.setAttr("strokeStyle","red"),X.setAttr("lineWidth",5),X.stroke(),X.restore()),this._cache.set(u,{scene:it,filter:G,hit:U,x:B,y:j}),this._requestDraw(),this}isCached(){return this._cache.has(u)}getClientRect(m){throw new Error('abstract "getClientRect" method call')}_transformedRect(m,C){const S=[{x:m.x,y:m.y},{x:m.x+m.width,y:m.y},{x:m.x+m.width,y:m.y+m.height},{x:m.x,y:m.y+m.height}];let A=1/0,R=1/0,I=-1/0,B=-1/0;const j=this.getAbsoluteTransform(C);return S.forEach(function(W){const z=j.point(W);A===void 0&&(A=I=z.x,R=B=z.y),A=Math.min(A,z.x),R=Math.min(R,z.y),I=Math.max(I,z.x),B=Math.max(B,z.y)}),{x:A,y:R,width:I-A,height:B-R}}_drawCachedSceneCanvas(m){m.save(),m._applyOpacity(this),m._applyGlobalCompositeOperation(this);const C=this._getCanvasCache();m.translate(C.x,C.y);const S=this._getCachedSceneCanvas(),A=S.pixelRatio;m.drawImage(S._canvas,0,0,S.width/A,S.height/A),m.restore()}_drawCachedHitCanvas(m){const C=this._getCanvasCache(),S=C.hit;m.save(),m.translate(C.x,C.y),m.drawImage(S._canvas,0,0,S.width/S.pixelRatio,S.height/S.pixelRatio),m.restore()}_getCachedSceneCanvas(){let m=this.filters(),C=this._getCanvasCache(),S=C.scene,A=C.filter,R=A.getContext(),I,B,j,W;if(m){if(!this._filterUpToDate){const z=S.pixelRatio;A.setSize(S.width/S.pixelRatio,S.height/S.pixelRatio);try{for(I=m.length,R.clear(),R.drawImage(S._canvas,0,0,S.getWidth()/z,S.getHeight()/z),B=R.getImageData(0,0,A.getWidth(),A.getHeight()),j=0;j<I;j++){if(W=m[j],typeof W!="function"){t.Util.error("Filter should be type of function, but got "+typeof W+" instead. Please check correct filters");continue}W.call(this,B),R.putImageData(B,0,0)}}catch(H){t.Util.error("Unable to apply filter. "+H.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return A}return S}on(m,C){if(this._cache&&this._cache.delete(a),arguments.length===3)return this._delegate.apply(this,arguments);let S=m.split(d),A=S.length,R,I,B,j,W;for(R=0;R<A;R++)I=S[R],B=I.split("."),j=B[0],W=B[1]||"",this.eventListeners[j]||(this.eventListeners[j]=[]),this.eventListeners[j].push({name:W,handler:C});return this}off(m,C){let S=(m||"").split(d),A=S.length,R,I,B,j,W,z;if(this._cache&&this._cache.delete(a),!m)for(I in this.eventListeners)this._off(I);for(R=0;R<A;R++)if(B=S[R],j=B.split("."),W=j[0],z=j[1],W)this.eventListeners[W]&&this._off(W,z,C);else for(I in this.eventListeners)this._off(I,z,C);return this}dispatchEvent(m){const C={target:this,type:m.type,evt:m};return this.fire(m.type,C),this}addEventListener(m,C){return this.on(m,function(S){C.call(this,S.evt)}),this}removeEventListener(m){return this.off(m),this}_delegate(m,C,S){const A=this;this.on(m,function(R){const I=R.target.findAncestors(C,!0,A);for(let B=0;B<I.length;B++)R=t.Util.cloneObject(R),R.currentTarget=I[B],S.call(I[B],R)})}remove(){return this.isDragging()&&this.stopDrag(),r.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(o),this._clearSelfAndDescendantCache(g),this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(k),this._clearSelfAndDescendantCache(c)}_remove(){this._clearCaches();const m=this.getParent();m&&m.children&&(m.children.splice(this.index,1),m._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(m){const C="get"+t.Util._capitalize(m);return t.Util._isFunction(this[C])?this[C]():this.attrs[m]}getAncestors(){let m=this.getParent(),C=[];for(;m;)C.push(m),m=m.getParent();return C}getAttrs(){return this.attrs||{}}setAttrs(m){return this._batchTransformChanges(()=>{let C,S;if(!m)return this;for(C in m)C!==p&&(S=P+t.Util._capitalize(C),t.Util._isFunction(this[S])?this[S](m[C]):this._setAttr(C,m[C]))}),this}isListening(){return this._getCache(c,this._isListening)}_isListening(m){if(!this.listening())return!1;const S=this.getParent();return S&&S!==m&&this!==m?S._isListening(m):!0}isVisible(){return this._getCache(k,this._isVisible)}_isVisible(m){if(!this.visible())return!1;const S=this.getParent();return S&&S!==m&&this!==m?S._isVisible(m):!0}shouldDrawHit(m,C=!1){if(m)return this._isVisible(m)&&this._isListening(m);const S=this.getLayer();let A=!1;r.DD._dragElements.forEach(I=>{I.dragStatus==="dragging"&&(I.node.nodeType==="Stage"||I.node.getLayer()===S)&&(A=!0)});const R=!C&&!n.Konva.hitOnDragEnabled&&(A||n.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!R}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let m=this.getDepth(),C=this,S=0,A,R,I,B;function j(z){for(A=[],R=z.length,I=0;I<R;I++)B=z[I],S++,B.nodeType!==h&&(A=A.concat(B.getChildren().slice())),B._id===C._id&&(I=R);A.length>0&&A[0].getDepth()<=m&&j(A)}const W=this.getStage();return C.nodeType!==T&&W&&j(W.getChildren()),S}getDepth(){let m=0,C=this.parent;for(;C;)m++,C=C.parent;return m}_batchTransformChanges(m){this._batchingTransformChange=!0,m(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(x),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(m){return this._batchTransformChanges(()=>{this.x(m.x),this.y(m.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const m=this.getStage();if(!m)return null;const C=m.getPointerPosition();if(!C)return null;const S=this.getAbsoluteTransform().copy();return S.invert(),S.point(C)}getAbsolutePosition(m){let C=!1,S=this.parent;for(;S;){if(S.isCached()){C=!0;break}S=S.parent}C&&!m&&(m=!0);const A=this.getAbsoluteTransform(m).getMatrix(),R=new t.Transform,I=this.offset();return R.m=A.slice(),R.translate(I.x,I.y),R.getTranslation()}setAbsolutePosition(m){const{x:C,y:S,...A}=this._clearTransform();this.attrs.x=C,this.attrs.y=S,this._clearCache(x);const R=this._getAbsoluteTransform().copy();return R.invert(),R.translate(m.x,m.y),m={x:this.attrs.x+R.getTranslation().x,y:this.attrs.y+R.getTranslation().y},this._setTransform(A),this.setPosition({x:m.x,y:m.y}),this._clearCache(x),this._clearSelfAndDescendantCache(l),this}_setTransform(m){let C;for(C in m)this.attrs[C]=m[C]}_clearTransform(){const m={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,m}move(m){let C=m.x,S=m.y,A=this.x(),R=this.y();return C!==void 0&&(A+=C),S!==void 0&&(R+=S),this.setPosition({x:A,y:R}),this}_eachAncestorReverse(m,C){let S=[],A=this.getParent(),R,I;if(!(C&&C._id===this._id)){for(S.unshift(this);A&&(!C||A._id!==C._id);)S.unshift(A),A=A.parent;for(R=S.length,I=0;I<R;I++)m(S[I])}}rotate(m){return this.rotation(this.rotation()+m),this}moveToTop(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const m=this.index,C=this.parent.getChildren().length;return m<C-1?(this.parent.children.splice(m,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;const m=this.index,C=this.parent.getChildren().length;return m<C-1?(this.parent.children.splice(m,1),this.parent.children.splice(m+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;const m=this.index;return m>0?(this.parent.children.splice(m,1),this.parent.children.splice(m-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const m=this.index;return m>0?(this.parent.children.splice(m,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(m){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(m<0||m>=this.parent.children.length)&&t.Util.warn("Unexpected value "+m+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const C=this.index;return this.parent.children.splice(C,1),this.parent.children.splice(m,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(o,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let m=this.opacity();const C=this.getParent();return C&&!C._isUnderCache&&(m*=C.getAbsoluteOpacity()),m}moveTo(m){return this.getParent()!==m&&(this._remove(),m.add(this)),this}toObject(){let m=this.getAttrs(),C,S,A,R,I;const B={attrs:{},className:this.getClassName()};for(C in m)S=m[C],I=t.Util.isObject(S)&&!t.Util._isPlainObject(S)&&!t.Util._isArray(S),!I&&(A=typeof this[C]=="function"&&this[C],delete m[C],R=A?A.call(this):null,m[C]=S,R!==S&&(B.attrs[C]=S));return t.Util._prepareToStringify(B)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(m,C,S){const A=[];C&&this._isMatch(m)&&A.push(this);let R=this.parent;for(;R;){if(R===S)return A;R._isMatch(m)&&A.push(R),R=R.parent}return A}isAncestorOf(m){return!1}findAncestor(m,C,S){return this.findAncestors(m,C,S)[0]}_isMatch(m){if(!m)return!1;if(typeof m=="function")return m(this);let C=m.replace(/ /g,"").split(","),S=C.length,A,R;for(A=0;A<S;A++)if(R=C[A],t.Util.isValidSelector(R)||(t.Util.warn('Selector "'+R+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),R.charAt(0)==="#"){if(this.id()===R.slice(1))return!0}else if(R.charAt(0)==="."){if(this.hasName(R.slice(1)))return!0}else if(this.className===R||this.nodeType===R)return!0;return!1}getLayer(){const m=this.getParent();return m?m.getLayer():null}getStage(){return this._getCache(v,this._getStage)}_getStage(){const m=this.getParent();return m?m.getStage():null}fire(m,C={},S){return C.target=C.target||this,S?this._fireAndBubble(m,C):this._fire(m,C),this}getAbsoluteTransform(m){return m?this._getAbsoluteTransform(m):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(m){let C;if(m)return C=new t.Transform,this._eachAncestorReverse(function(S){const A=S.transformsEnabled();A==="all"?C.multiply(S.getTransform()):A==="position"&&C.translate(S.x()-S.offsetX(),S.y()-S.offsetY())},m),C;{C=this._cache.get(l)||new t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(C):C.reset();const S=this.transformsEnabled();if(S==="all")C.multiply(this.getTransform());else if(S==="position"){const A=this.attrs.x||0,R=this.attrs.y||0,I=this.attrs.offsetX||0,B=this.attrs.offsetY||0;C.translate(A-I,R-B)}return C.dirty=!1,C}}getAbsoluteScale(m){let C=this;for(;C;)C._isUnderCache&&(m=C),C=C.getParent();const A=this.getAbsoluteTransform(m).decompose();return{x:A.scaleX,y:A.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(x,this._getTransform)}_getTransform(){var m,C;const S=this._cache.get(x)||new t.Transform;S.reset();const A=this.x(),R=this.y(),I=n.Konva.getAngle(this.rotation()),B=(m=this.attrs.scaleX)!==null&&m!==void 0?m:1,j=(C=this.attrs.scaleY)!==null&&C!==void 0?C:1,W=this.attrs.skewX||0,z=this.attrs.skewY||0,H=this.attrs.offsetX||0,J=this.attrs.offsetY||0;return(A!==0||R!==0)&&S.translate(A,R),I!==0&&S.rotate(I),(W!==0||z!==0)&&S.skew(W,z),(B!==1||j!==1)&&S.scale(B,j),(H!==0||J!==0)&&S.translate(-1*H,-1*J),S.dirty=!1,S}clone(m){let C=t.Util.cloneObject(this.attrs),S,A,R,I,B;for(S in m)C[S]=m[S];const j=new this.constructor(C);for(S in this.eventListeners)for(A=this.eventListeners[S],R=A.length,I=0;I<R;I++)B=A[I],B.name.indexOf(f)<0&&(j.eventListeners[S]||(j.eventListeners[S]=[]),j.eventListeners[S].push(B));return j}_toKonvaCanvas(m){m=m||{};const C=this.getClientRect(),S=this.getStage(),A=m.x!==void 0?m.x:Math.floor(C.x),R=m.y!==void 0?m.y:Math.floor(C.y),I=m.pixelRatio||1,B=new i.SceneCanvas({width:m.width||Math.ceil(C.width)||(S?S.width():0),height:m.height||Math.ceil(C.height)||(S?S.height():0),pixelRatio:I}),j=B.getContext(),W=new i.SceneCanvas({width:B.width/B.pixelRatio+Math.abs(A),height:B.height/B.pixelRatio+Math.abs(R),pixelRatio:B.pixelRatio});return m.imageSmoothingEnabled===!1&&(j._context.imageSmoothingEnabled=!1),j.save(),(A||R)&&j.translate(-1*A,-1*R),this.drawScene(B,void 0,W),j.restore(),B}toCanvas(m){return this._toKonvaCanvas(m)._canvas}toDataURL(m){m=m||{};const C=m.mimeType||null,S=m.quality||null,A=this._toKonvaCanvas(m).toDataURL(C,S);return m.callback&&m.callback(A),A}toImage(m){return new Promise((C,S)=>{try{const A=m==null?void 0:m.callback;A&&delete m.callback,t.Util._urlToImage(this.toDataURL(m),function(R){C(R),A==null||A(R)})}catch(A){S(A)}})}toBlob(m){return new Promise((C,S)=>{try{const A=m==null?void 0:m.callback;A&&delete m.callback,this.toCanvas(m).toBlob(R=>{C(R),A==null||A(R)},m==null?void 0:m.mimeType,m==null?void 0:m.quality)}catch(A){S(A)}})}setSize(m){return this.width(m.width),this.height(m.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():n.Konva.dragDistance}_off(m,C,S){let A=this.eventListeners[m],R,I,B;for(R=0;R<A.length;R++)if(I=A[R].name,B=A[R].handler,(I!=="konva"||C==="konva")&&(!C||I===C)&&(!S||S===B)){if(A.splice(R,1),A.length===0){delete this.eventListeners[m];break}R--}}_fireChangeEvent(m,C,S){this._fire(m+_,{oldVal:C,newVal:S})}addName(m){if(!this.hasName(m)){const C=this.name(),S=C?C+" "+m:m;this.name(S)}return this}hasName(m){if(!m)return!1;const C=this.name();return C?(C||"").split(/\s/g).indexOf(m)!==-1:!1}removeName(m){const C=(this.name()||"").split(/\s/g),S=C.indexOf(m);return S!==-1&&(C.splice(S,1),this.name(C.join(" "))),this}setAttr(m,C){const S=this[P+t.Util._capitalize(m)];return t.Util._isFunction(S)?S.call(this,C):this._setAttr(m,C),this}_requestDraw(){if(n.Konva.autoDrawEnabled){const m=this.getLayer()||this.getStage();m==null||m.batchDraw()}}_setAttr(m,C){const S=this.attrs[m];S===C&&!t.Util.isObject(C)||(C==null?delete this.attrs[m]:this.attrs[m]=C,this._shouldFireChangeEvents&&this._fireChangeEvent(m,S,C),this._requestDraw())}_setComponentAttr(m,C,S){let A;S!==void 0&&(A=this.attrs[m],A||(this.attrs[m]=this.getAttr(m)),this.attrs[m][C]=S,this._fireChangeEvent(m,A,S))}_fireAndBubble(m,C,S){if(C&&this.nodeType===h&&(C.target=this),!((m===y||m===b)&&(S&&(this===S||this.isAncestorOf&&this.isAncestorOf(S))||this.nodeType==="Stage"&&!S))){this._fire(m,C);const R=(m===y||m===b)&&S&&S.isAncestorOf&&S.isAncestorOf(this)&&!S.isAncestorOf(this.parent);(C&&!C.cancelBubble||!C)&&this.parent&&this.parent.isListening()&&!R&&(S&&S.parent?this._fireAndBubble.call(this.parent,m,C,S):this._fireAndBubble.call(this.parent,m,C))}}_getProtoListeners(m){var C,S,A;const R=(C=this._cache.get(a))!==null&&C!==void 0?C:{};let I=R==null?void 0:R[m];if(I===void 0){I=[];let B=Object.getPrototypeOf(this);for(;B;){const j=(A=(S=B.eventListeners)===null||S===void 0?void 0:S[m])!==null&&A!==void 0?A:[];I.push(...j),B=Object.getPrototypeOf(B)}R[m]=I,this._cache.set(a,R)}return I}_fire(m,C){C=C||{},C.currentTarget=this,C.type=m;const S=this._getProtoListeners(m);if(S)for(var A=0;A<S.length;A++)S[A].handler.call(this,C);const R=this.eventListeners[m];if(R)for(var A=0;A<R.length;A++)R[A].handler.call(this,C)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(m){const C=m?m.pointerId:void 0,S=this.getStage(),A=this.getAbsolutePosition();if(!S)return;const R=S._getPointerById(C)||S._changedPointerPositions[0]||A;r.DD._dragElements.set(this._id,{node:this,startPointerPos:R,offset:{x:R.x-A.x,y:R.y-A.y},dragStatus:"ready",pointerId:C})}startDrag(m,C=!0){r.DD._dragElements.has(this._id)||this._createDragElement(m);const S=r.DD._dragElements.get(this._id);S.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:m&&m.evt},C)}_setDragPosition(m,C){const S=this.getStage()._getPointerById(C.pointerId);if(!S)return;let A={x:S.x-C.offset.x,y:S.y-C.offset.y};const R=this.dragBoundFunc();if(R!==void 0){const I=R.call(this,A,m);I?A=I:t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==A.x||this._lastPos.y!==A.y)&&(this.setAbsolutePosition(A),this._requestDraw()),this._lastPos=A}stopDrag(m){const C=r.DD._dragElements.get(this._id);C&&(C.dragStatus="stopped"),r.DD._endDragBefore(m),r.DD._endDragAfter(m)}setDraggable(m){this._setAttr("draggable",m),this._dragChange()}isDragging(){const m=r.DD._dragElements.get(this._id);return m?m.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(m){if(!(!(m.evt.button!==void 0)||n.Konva.dragButtons.indexOf(m.evt.button)>=0)||this.isDragging())return;let A=!1;r.DD._dragElements.forEach(R=>{this.isAncestorOf(R.node)&&(A=!0)}),A||this._createDragElement(m)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const C=r.DD._dragElements.get(this._id),S=C&&C.dragStatus==="dragging",A=C&&C.dragStatus==="ready";S?this.stopDrag():A&&r.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(m={x:0,y:0}){const C=this.getStage();if(!C)return!1;const S={x:-m.x,y:-m.y,width:C.width()+2*m.x,height:C.height()+2*m.y};return t.Util.haveIntersection(S,this.getClientRect())}static create(m,C){return t.Util._isString(m)&&(m=JSON.parse(m)),this._createNode(m,C)}static _createNode(m,C){let S=or.prototype.getClassName.call(m),A=m.children,R,I,B;C&&(m.attrs.container=C),n.Konva[S]||(t.Util.warn('Can not find a node with class name "'+S+'". Fallback to "Shape".'),S="Shape");const j=n.Konva[S];if(R=new j(m.attrs),A)for(I=A.length,B=0;B<I;B++)R.add(or._createNode(A[B]));return R}};qe.Node=w,w.prototype.nodeType="Node",w.prototype._attrsAffectingSize=[],w.prototype.eventListeners={},w.prototype.on.call(w.prototype,E,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(x),this._clearSelfAndDescendantCache(l)}),w.prototype.on.call(w.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(k)}),w.prototype.on.call(w.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(c)}),w.prototype.on.call(w.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(o)});const M=e.Factory.addGetterSetter;return M(w,"zIndex"),M(w,"absolutePosition"),M(w,"position"),M(w,"x",0,(0,s.getNumberValidator)()),M(w,"y",0,(0,s.getNumberValidator)()),M(w,"globalCompositeOperation","source-over",(0,s.getStringValidator)()),M(w,"opacity",1,(0,s.getNumberValidator)()),M(w,"name","",(0,s.getStringValidator)()),M(w,"id","",(0,s.getStringValidator)()),M(w,"rotation",0,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(w,"scale",["x","y"]),M(w,"scaleX",1,(0,s.getNumberValidator)()),M(w,"scaleY",1,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(w,"skew",["x","y"]),M(w,"skewX",0,(0,s.getNumberValidator)()),M(w,"skewY",0,(0,s.getNumberValidator)()),e.Factory.addComponentsGetterSetter(w,"offset",["x","y"]),M(w,"offsetX",0,(0,s.getNumberValidator)()),M(w,"offsetY",0,(0,s.getNumberValidator)()),M(w,"dragDistance",null,(0,s.getNumberValidator)()),M(w,"width",0,(0,s.getNumberValidator)()),M(w,"height",0,(0,s.getNumberValidator)()),M(w,"listening",!0,(0,s.getBooleanValidator)()),M(w,"preventDefault",!0,(0,s.getBooleanValidator)()),M(w,"filters",null,function(L){return this._filterUpToDate=!1,L}),M(w,"visible",!0,(0,s.getBooleanValidator)()),M(w,"transformsEnabled","all",(0,s.getStringValidator)()),M(w,"size"),M(w,"dragBoundFunc"),M(w,"draggable",!1,(0,s.getBooleanValidator)()),e.Factory.backCompat(w,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),qe}var je={},bs;function Tn(){if(bs)return je;bs=1,Object.defineProperty(je,"__esModule",{value:!0}),je.Container=void 0;const t=_t(),e=Mt(),i=mt();let n=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(s){if(!s)return this.children||[];const o=this.children||[],a=[];return o.forEach(function(l){s(l)&&a.push(l)}),a}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(s=>{s.parent=null,s.index=0,s.destroy()}),this.children=[],this._requestDraw(),this}add(...s){if(s.length===0)return this;if(s.length>1){for(let a=0;a<s.length;a++)this.add(s[a]);return this}const o=s[0];return o.getParent()?(o.moveTo(this),this):(this._validateAdd(o),o.index=this.getChildren().length,o.parent=this,o._clearCaches(),this.getChildren().push(o),this._fire("add",{child:o}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(s){return this._generalFind(s,!1)}findOne(s){const o=this._generalFind(s,!0);return o.length>0?o[0]:void 0}_generalFind(s,o){const a=[];return this._descendants(l=>{const g=l._isMatch(s);return g&&a.push(l),!!(g&&o)}),a}_descendants(s){let o=!1;const a=this.getChildren();for(const l of a){if(o=s(l),o)return!0;if(l.hasChildren()&&(o=l._descendants(s),o))return!0}return!1}toObject(){const s=e.Node.prototype.toObject.call(this);return s.children=[],this.getChildren().forEach(o=>{s.children.push(o.toObject())}),s}isAncestorOf(s){let o=s.getParent();for(;o;){if(o._id===this._id)return!0;o=o.getParent()}return!1}clone(s){const o=e.Node.prototype.clone.call(this,s);return this.getChildren().forEach(function(a){o.add(a.clone())}),o}getAllIntersections(s){const o=[];return this.find("Shape").forEach(a=>{a.isVisible()&&a.intersects(s)&&o.push(a)}),o}_clearSelfAndDescendantCache(s){var o;super._clearSelfAndDescendantCache(s),!this.isCached()&&((o=this.children)===null||o===void 0||o.forEach(function(a){a._clearSelfAndDescendantCache(s)}))}_setChildrenIndices(){var s;(s=this.children)===null||s===void 0||s.forEach(function(o,a){o.index=a}),this._requestDraw()}drawScene(s,o,a){const l=this.getLayer(),g=s||l&&l.getCanvas(),u=g&&g.getContext(),_=this._getCanvasCache(),p=_&&_.scene,f=g&&g.isCache;if(!this.isVisible()&&!f)return this;if(p){u.save();const c=this.getAbsoluteTransform(o).getMatrix();u.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",g,o,a);return this}drawHit(s,o){if(!this.shouldDrawHit(o))return this;const a=this.getLayer(),l=s||a&&a.hitCanvas,g=l&&l.getContext(),u=this._getCanvasCache();if(u&&u.hit){g.save();const p=this.getAbsoluteTransform(o).getMatrix();g.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedHitCanvas(g),g.restore()}else this._drawChildren("drawHit",l,o);return this}_drawChildren(s,o,a,l){var g;const u=o&&o.getContext(),_=this.clipWidth(),p=this.clipHeight(),f=this.clipFunc(),c=typeof _=="number"&&typeof p=="number"||f,y=a===this;if(c){u.save();const P=this.getAbsoluteTransform(a);let h=P.getMatrix();u.transform(h[0],h[1],h[2],h[3],h[4],h[5]),u.beginPath();let d;if(f)d=f.call(this,u,this);else{const v=this.clipX(),x=this.clipY();u.rect(v||0,x||0,_,p)}u.clip.apply(u,d),h=P.copy().invert().getMatrix(),u.transform(h[0],h[1],h[2],h[3],h[4],h[5])}const b=!y&&this.globalCompositeOperation()!=="source-over"&&s==="drawScene";b&&(u.save(),u._applyGlobalCompositeOperation(this)),(g=this.children)===null||g===void 0||g.forEach(function(P){P[s](o,a,l)}),b&&u.restore(),c&&u.restore()}getClientRect(s={}){var o;const a=s.skipTransform,l=s.relativeTo;let g,u,_,p,f={x:1/0,y:1/0,width:0,height:0};const c=this;(o=this.children)===null||o===void 0||o.forEach(function(P){if(!P.visible())return;const h=P.getClientRect({relativeTo:c,skipShadow:s.skipShadow,skipStroke:s.skipStroke});h.width===0&&h.height===0||(g===void 0?(g=h.x,u=h.y,_=h.x+h.width,p=h.y+h.height):(g=Math.min(g,h.x),u=Math.min(u,h.y),_=Math.max(_,h.x+h.width),p=Math.max(p,h.y+h.height)))});const y=this.find("Shape");let b=!1;for(let P=0;P<y.length;P++)if(y[P]._isVisible(this)){b=!0;break}return b&&g!==void 0?f={x:g,y:u,width:_-g,height:p-u}:f={x:0,y:0,width:0,height:0},a?f:this._transformedRect(f,l)}};return je.Container=n,t.Factory.addComponentsGetterSetter(n,"clip",["x","y","width","height"]),t.Factory.addGetterSetter(n,"clipX",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipY",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipWidth",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipHeight",void 0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(n,"clipFunc"),je}var qn={},ge={},Ss;function ba(){if(Ss)return ge;Ss=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.getCapturedShape=n,ge.createEvent=r,ge.hasPointerCapture=s,ge.setPointerCapture=o,ge.releaseCapture=a;const t=pt(),e=new Map,i=t.Konva._global.PointerEvent!==void 0;function n(l){return e.get(l)}function r(l){return{evt:l,pointerId:l.pointerId}}function s(l,g){return e.get(l)===g}function o(l,g){a(l),g.getStage()&&(e.set(l,g),i&&g._fire("gotpointercapture",r(new PointerEvent("gotpointercapture"))))}function a(l,g){const u=e.get(l);if(!u)return;const _=u.getStage();_&&_.content,e.delete(l),i&&u._fire("lostpointercapture",r(new PointerEvent("lostpointercapture")))}return ge}var Cs;function lc(){return Cs||(Cs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Rt(),i=_t(),n=Tn(),r=pt(),s=Pn(),o=Er(),a=pt(),l=ba(),g="Stage",u="string",_="px",p="mouseout",f="mouseleave",c="mouseover",y="mouseenter",b="mousemove",P="mousedown",h="mouseup",d="pointermove",v="pointerdown",x="pointerup",T="pointercancel",k="lostpointercapture",E="pointerout",O="pointerleave",w="pointerover",M="pointerenter",L="contextmenu",m="touchstart",C="touchend",S="touchmove",A="touchcancel",R="wheel",I=5,B=[[y,"_pointerenter"],[P,"_pointerdown"],[b,"_pointermove"],[h,"_pointerup"],[f,"_pointerleave"],[m,"_pointerdown"],[S,"_pointermove"],[C,"_pointerup"],[A,"_pointercancel"],[c,"_pointerover"],[R,"_wheel"],[L,"_contextmenu"],[v,"_pointerdown"],[d,"_pointermove"],[x,"_pointerup"],[T,"_pointercancel"],[k,"_lostpointercapture"]],j={mouse:{[E]:p,[O]:f,[w]:c,[M]:y,[d]:b,[v]:P,[x]:h,[T]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[E]:"touchout",[O]:"touchleave",[w]:"touchover",[M]:"touchenter",[d]:S,[v]:m,[x]:C,[T]:A,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[E]:E,[O]:O,[w]:w,[M]:M,[d]:d,[v]:v,[x]:x,[T]:T,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},W=it=>it.indexOf("pointer")>=0?"pointer":it.indexOf("touch")>=0?"touch":"mouse",z=it=>{const G=W(it);if(G==="pointer")return r.Konva.pointerEventsEnabled&&j.pointer;if(G==="touch")return j.touch;if(G==="mouse")return j.mouse};function H(it={}){return(it.clipFunc||it.clipWidth||it.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),it}const J="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class rt extends n.Container{constructor(G){super(H(G)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{H(this.attrs)}),this._checkVisibility()}_validateAdd(G){const U=G.getType()==="Layer",X=G.getType()==="FastLayer";U||X||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const G=this.visible()?"":"none";this.content.style.display=G}setContainer(G){if(typeof G===u){if(G.charAt(0)==="."){const X=G.slice(1);G=document.getElementsByClassName(X)[0]}else{var U;G.charAt(0)!=="#"?U=G:U=G.slice(1),G=document.getElementById(U)}if(!G)throw"Can not find container in document with id "+U}return this._setAttr("container",G),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),G.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){let G=this.children,U=G.length,X;for(X=0;X<U;X++)G[X].clear();return this}clone(G){return G||(G={}),G.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,G)}destroy(){super.destroy();const G=this.content;G&&e.Util._isInDocument(G)&&this.container().removeChild(G);const U=t.stages.indexOf(this);return U>-1&&t.stages.splice(U,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const G=this._pointerPositions[0]||this._changedPointerPositions[0];return G?{x:G.x,y:G.y}:(e.Util.warn(J),null)}_getPointerById(G){return this._pointerPositions.find(U=>U.id===G)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(G){G=G||{},G.x=G.x||0,G.y=G.y||0,G.width=G.width||this.width(),G.height=G.height||this.height();const U=new s.SceneCanvas({width:G.width,height:G.height,pixelRatio:G.pixelRatio||1}),X=U.getContext()._context,et=this.children;return(G.x||G.y)&&X.translate(-1*G.x,-1*G.y),et.forEach(function(ot){if(!ot.isVisible())return;const lt=ot._toKonvaCanvas(G);X.drawImage(lt._canvas,G.x,G.y,lt.getWidth()/lt.getPixelRatio(),lt.getHeight()/lt.getPixelRatio())}),U}getIntersection(G){if(!G)return null;let U=this.children,X=U.length,et=X-1,ot;for(ot=et;ot>=0;ot--){const lt=U[ot].getIntersection(G);if(lt)return lt}return null}_resizeDOM(){const G=this.width(),U=this.height();this.content&&(this.content.style.width=G+_,this.content.style.height=U+_),this.bufferCanvas.setSize(G,U),this.bufferHitCanvas.setSize(G,U),this.children.forEach(X=>{X.setSize({width:G,height:U}),X.draw()})}add(G,...U){if(arguments.length>1){for(let et=0;et<arguments.length;et++)this.add(arguments[et]);return this}super.add(G);const X=this.children.length;return X>I&&e.Util.warn("The stage has "+X+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),G.setSize({width:this.width(),height:this.height()}),G.draw(),r.Konva.isBrowser&&this.content.appendChild(G.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(G){return l.hasPointerCapture(G,this)}setPointerCapture(G){l.setPointerCapture(G,this)}releaseCapture(G){l.releaseCapture(G,this)}getLayers(){return this.children}_bindContentEvents(){r.Konva.isBrowser&&B.forEach(([G,U])=>{this.content.addEventListener(G,X=>{this[U](X)},{passive:!1})})}_pointerenter(G){this.setPointersPositions(G);const U=z(G.type);U&&this._fire(U.pointerenter,{evt:G,target:this,currentTarget:this})}_pointerover(G){this.setPointersPositions(G);const U=z(G.type);U&&this._fire(U.pointerover,{evt:G,target:this,currentTarget:this})}_getTargetShape(G){let U=this[G+"targetShape"];return U&&!U.getStage()&&(U=null),U}_pointerleave(G){const U=z(G.type),X=W(G.type);if(!U)return;this.setPointersPositions(G);const et=this._getTargetShape(X),ot=!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled;et&&ot?(et._fireAndBubble(U.pointerout,{evt:G}),et._fireAndBubble(U.pointerleave,{evt:G}),this._fire(U.pointerleave,{evt:G,target:this,currentTarget:this}),this[X+"targetShape"]=null):ot&&(this._fire(U.pointerleave,{evt:G,target:this,currentTarget:this}),this._fire(U.pointerout,{evt:G,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(G){const U=z(G.type),X=W(G.type);if(!U)return;this.setPointersPositions(G);let et=!1;this._changedPointerPositions.forEach(ot=>{const lt=this.getIntersection(ot);if(o.DD.justDragged=!1,r.Konva["_"+X+"ListenClick"]=!0,!lt||!lt.isListening()){this[X+"ClickStartShape"]=void 0;return}r.Konva.capturePointerEventsEnabled&&lt.setPointerCapture(ot.id),this[X+"ClickStartShape"]=lt,lt._fireAndBubble(U.pointerdown,{evt:G,pointerId:ot.id}),et=!0;const F=G.type.indexOf("touch")>=0;lt.preventDefault()&&G.cancelable&&F&&G.preventDefault()}),et||this._fire(U.pointerdown,{evt:G,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(G){const U=z(G.type),X=W(G.type);if(!U||(r.Konva.isDragging()&&o.DD.node.preventDefault()&&G.cancelable&&G.preventDefault(),this.setPointersPositions(G),!(!(r.Konva.isDragging()||r.Konva.isTransforming())||r.Konva.hitOnDragEnabled)))return;const ot={};let lt=!1;const F=this._getTargetShape(X);this._changedPointerPositions.forEach(N=>{const D=l.getCapturedShape(N.id)||this.getIntersection(N),K=N.id,V={evt:G,pointerId:K},q=F!==D;if(q&&F&&(F._fireAndBubble(U.pointerout,{...V},D),F._fireAndBubble(U.pointerleave,{...V},D)),D){if(ot[D._id])return;ot[D._id]=!0}D&&D.isListening()?(lt=!0,q&&(D._fireAndBubble(U.pointerover,{...V},F),D._fireAndBubble(U.pointerenter,{...V},F),this[X+"targetShape"]=D),D._fireAndBubble(U.pointermove,{...V})):F&&(this._fire(U.pointerover,{evt:G,target:this,currentTarget:this,pointerId:K}),this[X+"targetShape"]=null)}),lt||this._fire(U.pointermove,{evt:G,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(G){const U=z(G.type),X=W(G.type);if(!U)return;this.setPointersPositions(G);const et=this[X+"ClickStartShape"],ot=this[X+"ClickEndShape"],lt={};let F=!1;this._changedPointerPositions.forEach(N=>{const D=l.getCapturedShape(N.id)||this.getIntersection(N);if(D){if(D.releaseCapture(N.id),lt[D._id])return;lt[D._id]=!0}const K=N.id,V={evt:G,pointerId:K};let q=!1;r.Konva["_"+X+"InDblClickWindow"]?(q=!0,clearTimeout(this[X+"DblTimeout"])):o.DD.justDragged||(r.Konva["_"+X+"InDblClickWindow"]=!0,clearTimeout(this[X+"DblTimeout"])),this[X+"DblTimeout"]=setTimeout(function(){r.Konva["_"+X+"InDblClickWindow"]=!1},r.Konva.dblClickWindow),D&&D.isListening()?(F=!0,this[X+"ClickEndShape"]=D,D._fireAndBubble(U.pointerup,{...V}),r.Konva["_"+X+"ListenClick"]&&et&&et===D&&(D._fireAndBubble(U.pointerclick,{...V}),q&&ot&&ot===D&&D._fireAndBubble(U.pointerdblclick,{...V}))):(this[X+"ClickEndShape"]=null,r.Konva["_"+X+"ListenClick"]&&this._fire(U.pointerclick,{evt:G,target:this,currentTarget:this,pointerId:K}),q&&this._fire(U.pointerdblclick,{evt:G,target:this,currentTarget:this,pointerId:K}))}),F||this._fire(U.pointerup,{evt:G,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),r.Konva["_"+X+"ListenClick"]=!1,G.cancelable&&X!=="touch"&&G.preventDefault()}_contextmenu(G){this.setPointersPositions(G);const U=this.getIntersection(this.getPointerPosition());U&&U.isListening()?U._fireAndBubble(L,{evt:G}):this._fire(L,{evt:G,target:this,currentTarget:this})}_wheel(G){this.setPointersPositions(G);const U=this.getIntersection(this.getPointerPosition());U&&U.isListening()?U._fireAndBubble(R,{evt:G}):this._fire(R,{evt:G,target:this,currentTarget:this})}_pointercancel(G){this.setPointersPositions(G);const U=l.getCapturedShape(G.pointerId)||this.getIntersection(this.getPointerPosition());U&&U._fireAndBubble(x,l.createEvent(G)),l.releaseCapture(G.pointerId)}_lostpointercapture(G){l.releaseCapture(G.pointerId)}setPointersPositions(G){let U=this._getContentPosition(),X=null,et=null;G=G||window.event,G.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(G.touches,ot=>{this._pointerPositions.push({id:ot.identifier,x:(ot.clientX-U.left)/U.scaleX,y:(ot.clientY-U.top)/U.scaleY})}),Array.prototype.forEach.call(G.changedTouches||G.touches,ot=>{this._changedPointerPositions.push({id:ot.identifier,x:(ot.clientX-U.left)/U.scaleX,y:(ot.clientY-U.top)/U.scaleY})})):(X=(G.clientX-U.left)/U.scaleX,et=(G.clientY-U.top)/U.scaleY,this.pointerPos={x:X,y:et},this._pointerPositions=[{x:X,y:et,id:e.Util._getFirstPointerId(G)}],this._changedPointerPositions=[{x:X,y:et,id:e.Util._getFirstPointerId(G)}])}_setPointerPosition(G){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(G)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const G=this.content.getBoundingClientRect();return{top:G.top,left:G.left,scaleX:G.width/this.content.clientWidth||1,scaleY:G.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!r.Konva.isBrowser)return;const G=this.container();if(!G)throw"Stage has no container. A container is required.";G.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),G.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(G){G.batchDraw()}),this}}t.Stage=rt,rt.prototype.nodeType=g,(0,a._registerNode)(rt),i.Factory.addGetterSetter(rt,"container"),r.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(it=>{it.batchDraw()})})}(qn)),qn}var Ke={},jn={},xs;function Ot(){return xs||(xs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=pt(),i=Rt(),n=_t(),r=Mt(),s=mt(),o=pt(),a=ba(),l="hasShadow",g="shadowRGBA",u="patternImage",_="linearGradient",p="radialGradient";let f;function c(){return f||(f=i.Util.createCanvasElement().getContext("2d"),f)}t.shapes={};function y(O){const w=this.attrs.fillRule;w?O.fill(w):O.fill()}function b(O){O.stroke()}function P(O){const w=this.attrs.fillRule;w?O.fill(w):O.fill()}function h(O){O.stroke()}function d(){this._clearCache(l)}function v(){this._clearCache(g)}function x(){this._clearCache(u)}function T(){this._clearCache(_)}function k(){this._clearCache(p)}class E extends r.Node{constructor(w){super(w);let M;for(;M=i.Util.getRandomColor(),!(M&&!(M in t.shapes)););this.colorKey=M,t.shapes[M]=this}getContext(){return i.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return i.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(u,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const M=c().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(M&&M.setTransform){const L=new i.Transform;L.translate(this.fillPatternX(),this.fillPatternY()),L.rotate(e.Konva.getAngle(this.fillPatternRotation())),L.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),L.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const m=L.getMatrix(),C=typeof DOMMatrix>"u"?{a:m[0],b:m[1],c:m[2],d:m[3],e:m[4],f:m[5]}:new DOMMatrix(m);M.setTransform(C)}return M}}_getLinearGradient(){return this._getCache(_,this.__getLinearGradient)}__getLinearGradient(){const w=this.fillLinearGradientColorStops();if(w){const M=c(),L=this.fillLinearGradientStartPoint(),m=this.fillLinearGradientEndPoint(),C=M.createLinearGradient(L.x,L.y,m.x,m.y);for(let S=0;S<w.length;S+=2)C.addColorStop(w[S],w[S+1]);return C}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){const w=this.fillRadialGradientColorStops();if(w){const M=c(),L=this.fillRadialGradientStartPoint(),m=this.fillRadialGradientEndPoint(),C=M.createRadialGradient(L.x,L.y,this.fillRadialGradientStartRadius(),m.x,m.y,this.fillRadialGradientEndRadius());for(let S=0;S<w.length;S+=2)C.addColorStop(w[S],w[S+1]);return C}}getShadowRGBA(){return this._getCache(g,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const w=i.Util.colorToRGBA(this.shadowColor());if(w)return"rgba("+w.r+","+w.g+","+w.b+","+w.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const w=this.hitStrokeWidth();return w==="auto"?this.hasStroke():this.strokeEnabled()&&!!w}intersects(w){const M=this.getStage();if(!M)return!1;const L=M.bufferHitCanvas;return L.getContext().clear(),this.drawHit(L,void 0,!0),L.context.getImageData(Math.round(w.x),Math.round(w.y),1,1).data[3]>0}destroy(){return r.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(w){var M;if(!((M=this.attrs.perfectDrawEnabled)!==null&&M!==void 0?M:!0))return!1;const m=w||this.hasFill(),C=this.hasStroke(),S=this.getAbsoluteOpacity()!==1;if(m&&C&&S)return!0;const A=this.hasShadow(),R=this.shadowForStrokeEnabled();return!!(m&&C&&A&&R)}setStrokeHitEnabled(w){i.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),w?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const w=this.size();return{x:this._centroid?-w.width/2:0,y:this._centroid?-w.height/2:0,width:w.width,height:w.height}}getClientRect(w={}){let M=!1,L=this.getParent();for(;L;){if(L.isCached()){M=!0;break}L=L.getParent()}const m=w.skipTransform,C=w.relativeTo||M&&this.getStage()||void 0,S=this.getSelfRect(),R=!w.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,I=S.width+R,B=S.height+R,j=!w.skipShadow&&this.hasShadow(),W=j?this.shadowOffsetX():0,z=j?this.shadowOffsetY():0,H=I+Math.abs(W),J=B+Math.abs(z),rt=j&&this.shadowBlur()||0,it=H+rt*2,G=J+rt*2,U={width:it,height:G,x:-(R/2+rt)+Math.min(W,0)+S.x,y:-(R/2+rt)+Math.min(z,0)+S.y};return m?U:this._transformedRect(U,C)}drawScene(w,M,L){const m=this.getLayer();let C=w||m.getCanvas(),S=C.getContext(),A=this._getCanvasCache(),R=this.getSceneFunc(),I=this.hasShadow(),B,j;const W=C.isCache,z=M===this;if(!this.isVisible()&&!z)return this;if(A){S.save();const J=this.getAbsoluteTransform(M).getMatrix();return S.transform(J[0],J[1],J[2],J[3],J[4],J[5]),this._drawCachedSceneCanvas(S),S.restore(),this}if(!R)return this;if(S.save(),this._useBufferCanvas()&&!W){B=this.getStage();const J=L||B.bufferCanvas;j=J.getContext(),j.clear(),j.save(),j._applyLineJoin(this);var H=this.getAbsoluteTransform(M).getMatrix();j.transform(H[0],H[1],H[2],H[3],H[4],H[5]),R.call(this,j,this),j.restore();const rt=J.pixelRatio;I&&S._applyShadow(this),S._applyOpacity(this),S._applyGlobalCompositeOperation(this),S.drawImage(J._canvas,0,0,J.width/rt,J.height/rt)}else{if(S._applyLineJoin(this),!z){var H=this.getAbsoluteTransform(M).getMatrix();S.transform(H[0],H[1],H[2],H[3],H[4],H[5]),S._applyOpacity(this),S._applyGlobalCompositeOperation(this)}I&&S._applyShadow(this),R.call(this,S,this)}return S.restore(),this}drawHit(w,M,L=!1){if(!this.shouldDrawHit(M,L))return this;const m=this.getLayer(),C=w||m.hitCanvas,S=C&&C.getContext(),A=this.hitFunc()||this.sceneFunc(),R=this._getCanvasCache(),I=R&&R.hit;if(this.colorKey||i.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),I){S.save();const j=this.getAbsoluteTransform(M).getMatrix();return S.transform(j[0],j[1],j[2],j[3],j[4],j[5]),this._drawCachedHitCanvas(S),S.restore(),this}if(!A)return this;if(S.save(),S._applyLineJoin(this),!(this===M)){const j=this.getAbsoluteTransform(M).getMatrix();S.transform(j[0],j[1],j[2],j[3],j[4],j[5])}return A.call(this,S,this),S.restore(),this}drawHitFromCache(w=0){let M=this._getCanvasCache(),L=this._getCachedSceneCanvas(),m=M.hit,C=m.getContext(),S=m.getWidth(),A=m.getHeight(),R,I,B,j,W,z;C.clear(),C.drawImage(L._canvas,0,0,S,A);try{for(R=C.getImageData(0,0,S,A),I=R.data,B=I.length,j=i.Util._hexToRgb(this.colorKey),W=0;W<B;W+=4)z=I[W+3],z>w?(I[W]=j.r,I[W+1]=j.g,I[W+2]=j.b,I[W+3]=255):I[W+3]=0;C.putImageData(R,0,0)}catch(H){i.Util.error("Unable to draw hit graph from cached scene canvas. "+H.message)}return this}hasPointerCapture(w){return a.hasPointerCapture(w,this)}setPointerCapture(w){a.setPointerCapture(w,this)}releaseCapture(w){a.releaseCapture(w,this)}}t.Shape=E,E.prototype._fillFunc=y,E.prototype._strokeFunc=b,E.prototype._fillFuncHit=P,E.prototype._strokeFuncHit=h,E.prototype._centroid=!1,E.prototype.nodeType="Shape",(0,o._registerNode)(E),E.prototype.eventListeners={},E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",d),E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",x),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",T),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",k),n.Factory.addGetterSetter(E,"stroke",void 0,(0,s.getStringOrGradientValidator)()),n.Factory.addGetterSetter(E,"strokeWidth",2,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(E,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(E,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),n.Factory.addGetterSetter(E,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),n.Factory.addGetterSetter(E,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),n.Factory.addGetterSetter(E,"lineJoin"),n.Factory.addGetterSetter(E,"lineCap"),n.Factory.addGetterSetter(E,"sceneFunc"),n.Factory.addGetterSetter(E,"hitFunc"),n.Factory.addGetterSetter(E,"dash"),n.Factory.addGetterSetter(E,"dashOffset",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(E,"shadowColor",void 0,(0,s.getStringValidator)()),n.Factory.addGetterSetter(E,"shadowBlur",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(E,"shadowOpacity",1,(0,s.getNumberValidator)()),n.Factory.addComponentsGetterSetter(E,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(E,"shadowOffsetX",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(E,"shadowOffsetY",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillPatternImage"),n.Factory.addGetterSetter(E,"fill",void 0,(0,s.getStringOrGradientValidator)()),n.Factory.addGetterSetter(E,"fillPatternX",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillPatternY",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(E,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(E,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(E,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(E,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(E,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(E,"fillEnabled",!0),n.Factory.addGetterSetter(E,"strokeEnabled",!0),n.Factory.addGetterSetter(E,"shadowEnabled",!0),n.Factory.addGetterSetter(E,"dashEnabled",!0),n.Factory.addGetterSetter(E,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(E,"fillPriority","color"),n.Factory.addComponentsGetterSetter(E,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(E,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),n.Factory.addComponentsGetterSetter(E,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(E,"fillPatternScaleX",1,(0,s.getNumberValidator)()),n.Factory.addGetterSetter(E,"fillPatternScaleY",1,(0,s.getNumberValidator)()),n.Factory.addComponentsGetterSetter(E,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(E,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(E,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(E,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(E,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(E,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(E,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(E,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(E,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(E,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(E,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(E,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(E,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(E,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(E,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(E,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(E,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(E,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(E,"fillPatternRotation",0),n.Factory.addGetterSetter(E,"fillRule",void 0,(0,s.getStringValidator)()),n.Factory.backCompat(E,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(jn)),jn}var ws;function Sa(){if(ws)return Ke;ws=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.Layer=void 0;const t=Rt(),e=Tn(),i=Mt(),n=_t(),r=Pn(),s=mt(),o=Ot(),a=pt(),l="#",g="beforeDraw",u="draw",_=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=_.length;let f=class extends e.Container{constructor(y){super(y),this.canvas=new r.SceneCanvas,this.hitCanvas=new r.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);const b=this.getStage();return b&&b.content&&(b.content.removeChild(this.getNativeCanvasElement()),y<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[y+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){i.Node.prototype.moveToTop.call(this);const y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!i.Node.prototype.moveUp.call(this))return!1;const b=this.getStage();return!b||!b.content?!1:(b.content.removeChild(this.getNativeCanvasElement()),this.index<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[this.index+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(i.Node.prototype.moveDown.call(this)){const y=this.getStage();if(y){const b=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),b[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(i.Node.prototype.moveToBottom.call(this)){const y=this.getStage();if(y){const b=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),b[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const y=this.getNativeCanvasElement();return i.Node.prototype.remove.call(this),y&&y.parentNode&&t.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:b}){return this.canvas.setSize(y,b),this.hitCanvas.setSize(y,b),this._setSmoothEnabled(),this}_validateAdd(y){const b=y.getType();b!=="Group"&&b!=="Shape"&&t.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),i.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){t.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){t.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,t.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;let b=1,P=!1;for(;;){for(let h=0;h<p;h++){const d=_[h],v=this._getIntersection({x:y.x+d.x*b,y:y.y+d.y*b}),x=v.shape;if(x)return x;if(P=!!v.antialiased,!v.antialiased)break}if(P)b+=1;else return null}}_getIntersection(y){const b=this.hitCanvas.pixelRatio,P=this.hitCanvas.context.getImageData(Math.round(y.x*b),Math.round(y.y*b),1,1).data,h=P[3];if(h===255){const d=t.Util._rgbToHex(P[0],P[1],P[2]),v=o.shapes[l+d];return v?{shape:v}:{antialiased:!0}}else if(h>0)return{antialiased:!0};return{}}drawScene(y,b){const P=this.getLayer(),h=y||P&&P.getCanvas();return this._fire(g,{node:this}),this.clearBeforeDraw()&&h.getContext().clear(),e.Container.prototype.drawScene.call(this,h,b),this._fire(u,{node:this}),this}drawHit(y,b){const P=this.getLayer(),h=y||P&&P.hitCanvas;return P&&P.clearBeforeDraw()&&P.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,h,b),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return t.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const y=this.parent;!!this.hitCanvas._canvas.parentNode?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}destroy(){return t.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Ke.Layer=f,f.prototype.nodeType="Layer",(0,a._registerNode)(f),n.Factory.addGetterSetter(f,"imageSmoothingEnabled",!0),n.Factory.addGetterSetter(f,"clearBeforeDraw",!0),n.Factory.addGetterSetter(f,"hitGraphEnabled",!0,(0,s.getBooleanValidator)()),Ke}var ze={},Ps;function hc(){if(Ps)return ze;Ps=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.FastLayer=void 0;const t=Rt(),e=Sa(),i=pt();let n=class extends e.Layer{constructor(s){super(s),this.listening(!1),t.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return ze.FastLayer=n,n.prototype.nodeType="FastLayer",(0,i._registerNode)(n),ze}var Ye={},Ts;function Mr(){if(Ts)return Ye;Ts=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.Group=void 0;const t=Rt(),e=Tn(),i=pt();let n=class extends e.Container{_validateAdd(s){const o=s.getType();o!=="Group"&&o!=="Shape"&&t.Util.throw("You may only add groups and shapes to groups.")}};return Ye.Group=n,n.prototype.nodeType="Group",(0,i._registerNode)(n),Ye}var Xe={},As;function Fr(){if(As)return Xe;As=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.Animation=void 0;const t=pt(),e=Rt(),i=function(){return t.glob.performance&&t.glob.performance.now?function(){return t.glob.performance.now()}:function(){return new Date().getTime()}}();let n=class Ge{constructor(s,o){this.id=Ge.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=s,this.setLayers(o)}setLayers(s){let o=[];return s&&(o=Array.isArray(s)?s:[s]),this.layers=o,this}getLayers(){return this.layers}addLayer(s){const o=this.layers,a=o.length;for(let l=0;l<a;l++)if(o[l]._id===s._id)return!1;return this.layers.push(s),!0}isRunning(){const o=Ge.animations,a=o.length;for(let l=0;l<a;l++)if(o[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),Ge._addAnimation(this),this}stop(){return Ge._removeAnimation(this),this}_updateFrameObject(s){this.frame.timeDiff=s-this.frame.lastTime,this.frame.lastTime=s,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(s){this.animations.push(s),this._handleAnimation()}static _removeAnimation(s){const o=s.id,a=this.animations,l=a.length;for(let g=0;g<l;g++)if(a[g].id===o){this.animations.splice(g,1);break}}static _runFrames(){const s={},o=this.animations;for(let a=0;a<o.length;a++){const l=o[a],g=l.layers,u=l.func;l._updateFrameObject(i());const _=g.length;let p;if(u?p=u.call(l,l.frame)!==!1:p=!0,!!p)for(let f=0;f<_;f++){const c=g[f];c._id!==void 0&&(s[c._id]=c)}}for(const a in s)s.hasOwnProperty(a)&&s[a].batchDraw()}static _animationLoop(){const s=Ge;s.animations.length?(s._runFrames(),e.Util.requestAnimFrame(s._animationLoop)):s.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return Xe.Animation=n,n.animations=[],n.animIdCounter=0,n.animRunning=!1,Xe}var Kn={},Rs;function cc(){return Rs||(Rs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Rt(),i=Fr(),n=Mt(),r=pt();let s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,a=2,l=3,g=0,u=["fill","stroke","shadowColor"];class _{constructor(c,y,b,P,h,d,v){this.prop=c,this.propFunc=y,this.begin=P,this._pos=P,this.duration=d,this._change=0,this.prevPos=0,this.yoyo=v,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=b,this._change=h-this.begin,this.pause()}fire(c){const y=this[c];y&&y()}setTime(c){c>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():c<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=c,this.update())}getTime(){return this._time}setPosition(c){this.prevPos=this._pos,this.propFunc(c),this._pos=c}getPosition(c){return c===void 0&&(c=this._time),this.func(c,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(c){this.pause(),this._time=c,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const c=this.getTimer()-this._startTime;this.state===a?this.setTime(c):this.state===l&&this.setTime(this.duration-c)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class p{constructor(c){let y=this,b=c.node,P=b._id,h,d=c.easing||t.Easings.Linear,v=!!c.yoyo,x;typeof c.duration>"u"?h=.3:c.duration===0?h=.001:h=c.duration,this.node=b,this._id=g++;const T=b.getLayer()||(b instanceof r.Konva.Stage?b.getLayers():null);T||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation(function(){y.tween.onEnterFrame()},T),this.tween=new _(x,function(k){y._tweenFunc(k)},d,0,1,h*1e3,v),this._addListeners(),p.attrs[P]||(p.attrs[P]={}),p.attrs[P][this._id]||(p.attrs[P][this._id]={}),p.tweens[P]||(p.tweens[P]={});for(x in c)s[x]===void 0&&this._addAttr(x,c[x]);this.reset(),this.onFinish=c.onFinish,this.onReset=c.onReset,this.onUpdate=c.onUpdate}_addAttr(c,y){let b=this.node,P=b._id,h,d,v,x,T,k,E,O;if(v=p.tweens[P][c],v&&delete p.attrs[P][v][c],h=b.getAttr(c),e.Util._isArray(y))if(d=[],T=Math.max(y.length,h.length),c==="points"&&y.length!==h.length&&(y.length>h.length?(E=h,h=e.Util._prepareArrayForTween(h,y,b.closed())):(k=y,y=e.Util._prepareArrayForTween(y,h,b.closed()))),c.indexOf("fill")===0)for(x=0;x<T;x++)if(x%2===0)d.push(y[x]-h[x]);else{const w=e.Util.colorToRGBA(h[x]);O=e.Util.colorToRGBA(y[x]),h[x]=w,d.push({r:O.r-w.r,g:O.g-w.g,b:O.b-w.b,a:O.a-w.a})}else for(x=0;x<T;x++)d.push(y[x]-h[x]);else u.indexOf(c)!==-1?(h=e.Util.colorToRGBA(h),O=e.Util.colorToRGBA(y),d={r:O.r-h.r,g:O.g-h.g,b:O.b-h.b,a:O.a-h.a}):d=y-h;p.attrs[P][this._id][c]={start:h,diff:d,end:y,trueEnd:k,trueStart:E},p.tweens[P][c]=this._id}_tweenFunc(c){let y=this.node,b=p.attrs[y._id][this._id],P,h,d,v,x,T,k,E;for(P in b){if(h=b[P],d=h.start,v=h.diff,E=h.end,e.Util._isArray(d))if(x=[],k=Math.max(d.length,E.length),P.indexOf("fill")===0)for(T=0;T<k;T++)T%2===0?x.push((d[T]||0)+v[T]*c):x.push("rgba("+Math.round(d[T].r+v[T].r*c)+","+Math.round(d[T].g+v[T].g*c)+","+Math.round(d[T].b+v[T].b*c)+","+(d[T].a+v[T].a*c)+")");else for(T=0;T<k;T++)x.push((d[T]||0)+v[T]*c);else u.indexOf(P)!==-1?x="rgba("+Math.round(d.r+v.r*c)+","+Math.round(d.g+v.g*c)+","+Math.round(d.b+v.b*c)+","+(d.a+v.a*c)+")":x=d+v*c;y.setAttr(P,x)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const c=this.node,y=p.attrs[c._id][this._id];y.points&&y.points.trueEnd&&c.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const c=this.node,y=p.attrs[c._id][this._id];y.points&&y.points.trueStart&&c.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(c){return this.tween.seek(c*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){let c=this.node._id,y=this._id,b=p.tweens[c],P;this.pause();for(P in b)delete p.tweens[c][P];delete p.attrs[c][y]}}t.Tween=p,p.attrs={},p.tweens={},n.Node.prototype.to=function(f){const c=f.onFinish;f.node=this,f.onFinish=function(){this.destroy(),c&&c()},new p(f).play()},t.Easings={BackEaseIn(f,c,y,b){return y*(f/=b)*f*((1.70158+1)*f-1.70158)+c},BackEaseOut(f,c,y,b){return y*((f=f/b-1)*f*((1.70158+1)*f+1.70158)+1)+c},BackEaseInOut(f,c,y,b){let P=1.70158;return(f/=b/2)<1?y/2*(f*f*(((P*=1.525)+1)*f-P))+c:y/2*((f-=2)*f*(((P*=1.525)+1)*f+P)+2)+c},ElasticEaseIn(f,c,y,b,P,h){let d=0;return f===0?c:(f/=b)===1?c+y:(h||(h=b*.3),!P||P<Math.abs(y)?(P=y,d=h/4):d=h/(2*Math.PI)*Math.asin(y/P),-(P*Math.pow(2,10*(f-=1))*Math.sin((f*b-d)*(2*Math.PI)/h))+c)},ElasticEaseOut(f,c,y,b,P,h){let d=0;return f===0?c:(f/=b)===1?c+y:(h||(h=b*.3),!P||P<Math.abs(y)?(P=y,d=h/4):d=h/(2*Math.PI)*Math.asin(y/P),P*Math.pow(2,-10*f)*Math.sin((f*b-d)*(2*Math.PI)/h)+y+c)},ElasticEaseInOut(f,c,y,b,P,h){let d=0;return f===0?c:(f/=b/2)===2?c+y:(h||(h=b*(.3*1.5)),!P||P<Math.abs(y)?(P=y,d=h/4):d=h/(2*Math.PI)*Math.asin(y/P),f<1?-.5*(P*Math.pow(2,10*(f-=1))*Math.sin((f*b-d)*(2*Math.PI)/h))+c:P*Math.pow(2,-10*(f-=1))*Math.sin((f*b-d)*(2*Math.PI)/h)*.5+y+c)},BounceEaseOut(f,c,y,b){return(f/=b)<1/2.75?y*(7.5625*f*f)+c:f<2/2.75?y*(7.5625*(f-=1.5/2.75)*f+.75)+c:f<2.5/2.75?y*(7.5625*(f-=2.25/2.75)*f+.9375)+c:y*(7.5625*(f-=2.625/2.75)*f+.984375)+c},BounceEaseIn(f,c,y,b){return y-t.Easings.BounceEaseOut(b-f,0,y,b)+c},BounceEaseInOut(f,c,y,b){return f<b/2?t.Easings.BounceEaseIn(f*2,0,y,b)*.5+c:t.Easings.BounceEaseOut(f*2-b,0,y,b)*.5+y*.5+c},EaseIn(f,c,y,b){return y*(f/=b)*f+c},EaseOut(f,c,y,b){return-y*(f/=b)*(f-2)+c},EaseInOut(f,c,y,b){return(f/=b/2)<1?y/2*f*f+c:-y/2*(--f*(f-2)-1)+c},StrongEaseIn(f,c,y,b){return y*(f/=b)*f*f*f*f+c},StrongEaseOut(f,c,y,b){return y*((f=f/b-1)*f*f*f*f+1)+c},StrongEaseInOut(f,c,y,b){return(f/=b/2)<1?y/2*f*f*f*f*f+c:y/2*((f-=2)*f*f*f*f+2)+c},Linear(f,c,y,b){return y*f/b+c}}}(Kn)),Kn}var Es;function uc(){return Es||(Es=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=pt(),i=Rt(),n=Mt(),r=Tn(),s=lc(),o=Sa(),a=hc(),l=Mr(),g=Er(),u=Ot(),_=Fr(),p=cc(),f=va(),c=Pn();t.Konva=i.Util._assign(e.Konva,{Util:i.Util,Transform:i.Transform,Node:n.Node,Container:r.Container,Stage:s.Stage,stages:s.stages,Layer:o.Layer,FastLayer:a.FastLayer,Group:l.Group,DD:g.DD,Shape:u.Shape,shapes:u.shapes,Animation:_.Animation,Tween:p.Tween,Easings:p.Easings,Context:f.Context,Canvas:c.Canvas}),t.default=t.Konva}(Un)),Un}var $e={},Ms;function dc(){if(Ms)return $e;Ms=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.Arc=void 0;const t=_t(),e=Ot(),i=pt(),n=mt(),r=pt();let s=class extends e.Shape{_sceneFunc(a){const l=i.Konva.getAngle(this.angle()),g=this.clockwise();a.beginPath(),a.arc(0,0,this.outerRadius(),0,l,g),a.arc(0,0,this.innerRadius(),l,0,!g),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}getSelfRect(){const a=this.innerRadius(),l=this.outerRadius(),g=this.clockwise(),u=i.Konva.getAngle(g?360-this.angle():this.angle()),_=Math.cos(Math.min(u,Math.PI)),p=1,f=Math.sin(Math.min(Math.max(Math.PI,u),3*Math.PI/2)),c=Math.sin(Math.min(u,Math.PI/2)),y=_*(_>0?a:l),b=p*l,P=f*(f>0?a:l),h=c*(c>0?l:a);return{x:y,y:g?-1*h:P,width:b-y,height:h-P}}};return $e.Arc=s,s.prototype._centroid=!0,s.prototype.className="Arc",s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"innerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"angle",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"clockwise",!1,(0,n.getBooleanValidator)()),$e}var Je={},Qe={},Fs;function Ca(){if(Fs)return Qe;Fs=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.Line=void 0;const t=_t(),e=pt(),i=Ot(),n=mt();function r(a,l,g,u,_,p,f){const c=Math.sqrt(Math.pow(g-a,2)+Math.pow(u-l,2)),y=Math.sqrt(Math.pow(_-g,2)+Math.pow(p-u,2)),b=f*c/(c+y),P=f*y/(c+y),h=g-b*(_-a),d=u-b*(p-l),v=g+P*(_-a),x=u+P*(p-l);return[h,d,v,x]}function s(a,l){const g=a.length,u=[];for(let _=2;_<g-2;_+=2){const p=r(a[_-2],a[_-1],a[_],a[_+1],a[_+2],a[_+3],l);isNaN(p[0])||(u.push(p[0]),u.push(p[1]),u.push(a[_]),u.push(a[_+1]),u.push(p[2]),u.push(p[3]))}return u}let o=class extends i.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){let g=this.points(),u=g.length,_=this.tension(),p=this.closed(),f=this.bezier(),c,y,b;if(u){if(l.beginPath(),l.moveTo(g[0],g[1]),_!==0&&u>4){for(c=this.getTensionPoints(),y=c.length,b=p?0:4,p||l.quadraticCurveTo(c[0],c[1],c[2],c[3]);b<y-2;)l.bezierCurveTo(c[b++],c[b++],c[b++],c[b++],c[b++],c[b++]);p||l.quadraticCurveTo(c[y-2],c[y-1],g[u-2],g[u-1])}else if(f)for(b=2;b<u;)l.bezierCurveTo(g[b++],g[b++],g[b++],g[b++],g[b++],g[b++]);else for(b=2;b<u;b+=2)l.lineTo(g[b],g[b+1]);p?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():s(this.points(),this.tension())}_getTensionPointsClosed(){const l=this.points(),g=l.length,u=this.tension(),_=r(l[g-2],l[g-1],l[0],l[1],l[2],l[3],u),p=r(l[g-4],l[g-3],l[g-2],l[g-1],l[0],l[1],u),f=s(l,u);return[_[2],_[3]].concat(f).concat([p[0],p[1],l[g-2],l[g-1],p[2],p[3],_[0],_[1],l[0],l[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();let g=l[0],u=l[0],_=l[1],p=l[1],f,c;for(let y=0;y<l.length/2;y++)f=l[y*2],c=l[y*2+1],g=Math.min(g,f),u=Math.max(u,f),_=Math.min(_,c),p=Math.max(p,c);return{x:g,y:_,width:u-g,height:p-_}}};return Qe.Line=o,o.prototype.className="Line",o.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(o),t.Factory.addGetterSetter(o,"closed",!1),t.Factory.addGetterSetter(o,"bezier",!1),t.Factory.addGetterSetter(o,"tension",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(o,"points",[],(0,n.getNumberArrayValidator)()),Qe}var Ze={},zn={},ks;function fc(){return ks||(ks=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(o,a,l)=>{let g,u;const p=l/2;g=0;for(let f=0;f<20;f++)u=p*t.tValues[20][f]+p,g+=t.cValues[20][f]*n(o,a,u);return p*g};t.getCubicArcLength=e;const i=(o,a,l)=>{l===void 0&&(l=1);const g=o[0]-2*o[1]+o[2],u=a[0]-2*a[1]+a[2],_=2*o[1]-2*o[0],p=2*a[1]-2*a[0],f=4*(g*g+u*u),c=4*(g*_+u*p),y=_*_+p*p;if(f===0)return l*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(a[2]-a[0],2));const b=c/(2*f),P=y/f,h=l+b,d=P-b*b,v=h*h+d>0?Math.sqrt(h*h+d):0,x=b*b+d>0?Math.sqrt(b*b+d):0,T=b+Math.sqrt(b*b+d)!==0?d*Math.log(Math.abs((h+v)/(b+x))):0;return Math.sqrt(f)/2*(h*v-b*x+T)};t.getQuadraticArcLength=i;function n(o,a,l){const g=r(1,l,o),u=r(1,l,a),_=g*g+u*u;return Math.sqrt(_)}const r=(o,a,l)=>{const g=l.length-1;let u,_;if(g===0)return 0;if(o===0){_=0;for(let p=0;p<=g;p++)_+=t.binomialCoefficients[g][p]*Math.pow(1-a,g-p)*Math.pow(a,p)*l[p];return _}else{u=new Array(g);for(let p=0;p<g;p++)u[p]=g*(l[p+1]-l[p]);return r(o-1,a,u)}},s=(o,a,l)=>{let g=1,u=o/a,_=(o-l(u))/a,p=0;for(;g>.001;){const f=l(u+_),c=Math.abs(o-f)/a;if(c<g)g=c,u+=_;else{const y=l(u-_),b=Math.abs(o-y)/a;b<g?(g=b,u-=_):_/=2}if(p++,p>500)break}return u};t.t2length=s}(zn)),zn}var Os;function kr(){if(Os)return Ze;Os=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.Path=void 0;const t=_t(),e=Ot(),i=pt(),n=fc();let r=class Wt extends e.Shape{constructor(o){super(o),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Wt.parsePathData(this.data()),this.pathLength=Wt.getPathLength(this.dataArray)}_sceneFunc(o){const a=this.dataArray;o.beginPath();let l=!1;for(let v=0;v<a.length;v++){const x=a[v].command,T=a[v].points;switch(x){case"L":o.lineTo(T[0],T[1]);break;case"M":o.moveTo(T[0],T[1]);break;case"C":o.bezierCurveTo(T[0],T[1],T[2],T[3],T[4],T[5]);break;case"Q":o.quadraticCurveTo(T[0],T[1],T[2],T[3]);break;case"A":var g=T[0],u=T[1],_=T[2],p=T[3],f=T[4],c=T[5],y=T[6],b=T[7],P=_>p?_:p,h=_>p?1:_/p,d=_>p?p/_:1;o.translate(g,u),o.rotate(y),o.scale(h,d),o.arc(0,0,P,f,f+c,1-b),o.scale(1/h,1/d),o.rotate(-y),o.translate(-g,-u);break;case"z":l=!0,o.closePath();break}}!l&&!this.hasFill()?o.strokeShape(this):o.fillStrokeShape(this)}getSelfRect(){let o=[];this.dataArray.forEach(function(f){if(f.command==="A"){const c=f.points[4],y=f.points[5],b=f.points[4]+y;let P=Math.PI/180;if(Math.abs(c-b)<P&&(P=Math.abs(c-b)),y<0)for(let h=c-P;h>b;h-=P){const d=Wt.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],h,0);o.push(d.x,d.y)}else for(let h=c+P;h<b;h+=P){const d=Wt.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],h,0);o.push(d.x,d.y)}}else if(f.command==="C")for(let c=0;c<=1;c+=.01){const y=Wt.getPointOnCubicBezier(c,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);o.push(y.x,y.y)}else o=o.concat(f.points)});let a=o[0],l=o[0],g=o[1],u=o[1],_,p;for(let f=0;f<o.length/2;f++)_=o[f*2],p=o[f*2+1],isNaN(_)||(a=Math.min(a,_),l=Math.max(l,_)),isNaN(p)||(g=Math.min(g,p),u=Math.max(u,p));return{x:a,y:g,width:l-a,height:u-g}}getLength(){return this.pathLength}getPointAtLength(o){return Wt.getPointAtLengthOfDataArray(o,this.dataArray)}static getLineLength(o,a,l,g){return Math.sqrt((l-o)*(l-o)+(g-a)*(g-a))}static getPathLength(o){let a=0;for(let l=0;l<o.length;++l)a+=o[l].pathLength;return a}static getPointAtLengthOfDataArray(o,a){let l,g=0,u=a.length;if(!u)return null;for(;g<u&&o>a[g].pathLength;)o-=a[g].pathLength,++g;if(g===u)return l=a[g-1].points.slice(-2),{x:l[0],y:l[1]};if(o<.01)return l=a[g].points.slice(0,2),{x:l[0],y:l[1]};const _=a[g],p=_.points;switch(_.command){case"L":return Wt.getPointOnLine(o,_.start.x,_.start.y,p[0],p[1]);case"C":return Wt.getPointOnCubicBezier((0,n.t2length)(o,Wt.getPathLength(a),v=>(0,n.getCubicArcLength)([_.start.x,p[0],p[2],p[4]],[_.start.y,p[1],p[3],p[5]],v)),_.start.x,_.start.y,p[0],p[1],p[2],p[3],p[4],p[5]);case"Q":return Wt.getPointOnQuadraticBezier((0,n.t2length)(o,Wt.getPathLength(a),v=>(0,n.getQuadraticArcLength)([_.start.x,p[0],p[2]],[_.start.y,p[1],p[3]],v)),_.start.x,_.start.y,p[0],p[1],p[2],p[3]);case"A":var f=p[0],c=p[1],y=p[2],b=p[3],P=p[4],h=p[5],d=p[6];return P+=h*o/_.pathLength,Wt.getPointOnEllipticalArc(f,c,y,b,P,d)}return null}static getPointOnLine(o,a,l,g,u,_,p){_=_??a,p=p??l;const f=this.getLineLength(a,l,g,u);if(f<1e-10)return{x:a,y:l};if(g===a)return{x:_,y:p+(u>l?o:-o)};const c=(u-l)/(g-a),y=Math.sqrt(o*o/(1+c*c))*(g<a?-1:1),b=c*y;if(Math.abs(p-l-c*(_-a))<1e-10)return{x:_+y,y:p+b};const P=((_-a)*(g-a)+(p-l)*(u-l))/(f*f),h=a+P*(g-a),d=l+P*(u-l),v=this.getLineLength(_,p,h,d),x=Math.sqrt(o*o-v*v),T=Math.sqrt(x*x/(1+c*c))*(g<a?-1:1),k=c*T;return{x:h+T,y:d+k}}static getPointOnCubicBezier(o,a,l,g,u,_,p,f,c){function y(x){return x*x*x}function b(x){return 3*x*x*(1-x)}function P(x){return 3*x*(1-x)*(1-x)}function h(x){return(1-x)*(1-x)*(1-x)}const d=f*y(o)+_*b(o)+g*P(o)+a*h(o),v=c*y(o)+p*b(o)+u*P(o)+l*h(o);return{x:d,y:v}}static getPointOnQuadraticBezier(o,a,l,g,u,_,p){function f(h){return h*h}function c(h){return 2*h*(1-h)}function y(h){return(1-h)*(1-h)}const b=_*f(o)+g*c(o)+a*y(o),P=p*f(o)+u*c(o)+l*y(o);return{x:b,y:P}}static getPointOnEllipticalArc(o,a,l,g,u,_){const p=Math.cos(_),f=Math.sin(_),c={x:l*Math.cos(u),y:g*Math.sin(u)};return{x:o+(c.x*p-c.y*f),y:a+(c.x*f+c.y*p)}}static parsePathData(o){if(!o)return[];let a=o;const l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];a=a.replace(new RegExp(" ","g"),",");for(var g=0;g<l.length;g++)a=a.replace(new RegExp(l[g],"g"),"|"+l[g]);const u=a.split("|"),_=[],p=[];let f=0,c=0;const y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let b;for(g=1;g<u.length;g++){let m=u[g],C=m.charAt(0);for(m=m.slice(1),p.length=0;b=y.exec(m);)p.push(b[0]);const S=[];for(let A=0,R=p.length;A<R;A++){if(p[A]==="00"){S.push(0,0);continue}const I=parseFloat(p[A]);isNaN(I)?S.push(0):S.push(I)}for(;S.length>0&&!isNaN(S[0]);){let A="",R=[];const I=f,B=c;var P,h,d,v,x,T,k,E,O,w;switch(C){case"l":f+=S.shift(),c+=S.shift(),A="L",R.push(f,c);break;case"L":f=S.shift(),c=S.shift(),R.push(f,c);break;case"m":var M=S.shift(),L=S.shift();if(f+=M,c+=L,A="M",_.length>2&&_[_.length-1].command==="z"){for(let j=_.length-2;j>=0;j--)if(_[j].command==="M"){f=_[j].points[0]+M,c=_[j].points[1]+L;break}}R.push(f,c),C="l";break;case"M":f=S.shift(),c=S.shift(),A="M",R.push(f,c),C="L";break;case"h":f+=S.shift(),A="L",R.push(f,c);break;case"H":f=S.shift(),A="L",R.push(f,c);break;case"v":c+=S.shift(),A="L",R.push(f,c);break;case"V":c=S.shift(),A="L",R.push(f,c);break;case"C":R.push(S.shift(),S.shift(),S.shift(),S.shift()),f=S.shift(),c=S.shift(),R.push(f,c);break;case"c":R.push(f+S.shift(),c+S.shift(),f+S.shift(),c+S.shift()),f+=S.shift(),c+=S.shift(),A="C",R.push(f,c);break;case"S":h=f,d=c,P=_[_.length-1],P.command==="C"&&(h=f+(f-P.points[2]),d=c+(c-P.points[3])),R.push(h,d,S.shift(),S.shift()),f=S.shift(),c=S.shift(),A="C",R.push(f,c);break;case"s":h=f,d=c,P=_[_.length-1],P.command==="C"&&(h=f+(f-P.points[2]),d=c+(c-P.points[3])),R.push(h,d,f+S.shift(),c+S.shift()),f+=S.shift(),c+=S.shift(),A="C",R.push(f,c);break;case"Q":R.push(S.shift(),S.shift()),f=S.shift(),c=S.shift(),R.push(f,c);break;case"q":R.push(f+S.shift(),c+S.shift()),f+=S.shift(),c+=S.shift(),A="Q",R.push(f,c);break;case"T":h=f,d=c,P=_[_.length-1],P.command==="Q"&&(h=f+(f-P.points[0]),d=c+(c-P.points[1])),f=S.shift(),c=S.shift(),A="Q",R.push(h,d,f,c);break;case"t":h=f,d=c,P=_[_.length-1],P.command==="Q"&&(h=f+(f-P.points[0]),d=c+(c-P.points[1])),f+=S.shift(),c+=S.shift(),A="Q",R.push(h,d,f,c);break;case"A":v=S.shift(),x=S.shift(),T=S.shift(),k=S.shift(),E=S.shift(),O=f,w=c,f=S.shift(),c=S.shift(),A="A",R=this.convertEndpointToCenterParameterization(O,w,f,c,k,E,v,x,T);break;case"a":v=S.shift(),x=S.shift(),T=S.shift(),k=S.shift(),E=S.shift(),O=f,w=c,f+=S.shift(),c+=S.shift(),A="A",R=this.convertEndpointToCenterParameterization(O,w,f,c,k,E,v,x,T);break}_.push({command:A||C,points:R,start:{x:I,y:B},pathLength:this.calcLength(I,B,A||C,R)})}(C==="z"||C==="Z")&&_.push({command:"z",points:[],start:void 0,pathLength:0})}return _}static calcLength(o,a,l,g){let u,_,p,f;const c=Wt;switch(l){case"L":return c.getLineLength(o,a,g[0],g[1]);case"C":return(0,n.getCubicArcLength)([o,g[0],g[2],g[4]],[a,g[1],g[3],g[5]],1);case"Q":return(0,n.getQuadraticArcLength)([o,g[0],g[2]],[a,g[1],g[3]],1);case"A":u=0;var y=g[4],b=g[5],P=g[4]+b,h=Math.PI/180;if(Math.abs(y-P)<h&&(h=Math.abs(y-P)),_=c.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],y,0),b<0)for(f=y-h;f>P;f-=h)p=c.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],f,0),u+=c.getLineLength(_.x,_.y,p.x,p.y),_=p;else for(f=y+h;f<P;f+=h)p=c.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],f,0),u+=c.getLineLength(_.x,_.y,p.x,p.y),_=p;return p=c.getPointOnEllipticalArc(g[0],g[1],g[2],g[3],P,0),u+=c.getLineLength(_.x,_.y,p.x,p.y),u}return 0}static convertEndpointToCenterParameterization(o,a,l,g,u,_,p,f,c){const y=c*(Math.PI/180),b=Math.cos(y)*(o-l)/2+Math.sin(y)*(a-g)/2,P=-1*Math.sin(y)*(o-l)/2+Math.cos(y)*(a-g)/2,h=b*b/(p*p)+P*P/(f*f);h>1&&(p*=Math.sqrt(h),f*=Math.sqrt(h));let d=Math.sqrt((p*p*(f*f)-p*p*(P*P)-f*f*(b*b))/(p*p*(P*P)+f*f*(b*b)));u===_&&(d*=-1),isNaN(d)&&(d=0);const v=d*p*P/f,x=d*-f*b/p,T=(o+l)/2+Math.cos(y)*v-Math.sin(y)*x,k=(a+g)/2+Math.sin(y)*v+Math.cos(y)*x,E=function(S){return Math.sqrt(S[0]*S[0]+S[1]*S[1])},O=function(S,A){return(S[0]*A[0]+S[1]*A[1])/(E(S)*E(A))},w=function(S,A){return(S[0]*A[1]<S[1]*A[0]?-1:1)*Math.acos(O(S,A))},M=w([1,0],[(b-v)/p,(P-x)/f]),L=[(b-v)/p,(P-x)/f],m=[(-1*b-v)/p,(-1*P-x)/f];let C=w(L,m);return O(L,m)<=-1&&(C=Math.PI),O(L,m)>=1&&(C=0),_===0&&C>0&&(C=C-2*Math.PI),_===1&&C<0&&(C=C+2*Math.PI),[T,k,p,f,M,C,y,_]}};return Ze.Path=r,r.prototype.className="Path",r.prototype._attrsAffectingSize=["data"],(0,i._registerNode)(r),t.Factory.addGetterSetter(r,"data"),Ze}var Ns;function gc(){if(Ns)return Je;Ns=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.Arrow=void 0;const t=_t(),e=Ca(),i=mt(),n=pt(),r=kr();let s=class extends e.Line{_sceneFunc(a){super._sceneFunc(a);const l=Math.PI*2,g=this.points();let u=g;const _=this.tension()!==0&&g.length>4;_&&(u=this.getTensionPoints());const p=this.pointerLength(),f=g.length;let c,y;if(_){const h=[u[u.length-4],u[u.length-3],u[u.length-2],u[u.length-1],g[f-2],g[f-1]],d=r.Path.calcLength(u[u.length-4],u[u.length-3],"C",h),v=r.Path.getPointOnQuadraticBezier(Math.min(1,1-p/d),h[0],h[1],h[2],h[3],h[4],h[5]);c=g[f-2]-v.x,y=g[f-1]-v.y}else c=g[f-2]-g[f-4],y=g[f-1]-g[f-3];const b=(Math.atan2(y,c)+l)%l,P=this.pointerWidth();this.pointerAtEnding()&&(a.save(),a.beginPath(),a.translate(g[f-2],g[f-1]),a.rotate(b),a.moveTo(0,0),a.lineTo(-p,P/2),a.lineTo(-p,-P/2),a.closePath(),a.restore(),this.__fillStroke(a)),this.pointerAtBeginning()&&(a.save(),a.beginPath(),a.translate(g[0],g[1]),_?(c=(u[0]+u[2])/2-g[0],y=(u[1]+u[3])/2-g[1]):(c=g[2]-g[0],y=g[3]-g[1]),a.rotate((Math.atan2(-y,-c)+l)%l),a.moveTo(0,0),a.lineTo(-p,P/2),a.lineTo(-p,-P/2),a.closePath(),a.restore(),this.__fillStroke(a))}__fillStroke(a){const l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,a.setLineDash([])),a.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const a=super.getSelfRect(),l=this.pointerWidth()/2;return{x:a.x-l,y:a.y-l,width:a.width+l*2,height:a.height+l*2}}};return Je.Arrow=s,s.prototype.className="Arrow",(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"pointerLength",10,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"pointerWidth",10,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"pointerAtBeginning",!1),t.Factory.addGetterSetter(s,"pointerAtEnding",!0),Je}var ti={},Gs;function pc(){if(Gs)return ti;Gs=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.Circle=void 0;const t=_t(),e=Ot(),i=mt(),n=pt();let r=class extends e.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius()!==o/2&&this.radius(o/2)}setHeight(o){this.radius()!==o/2&&this.radius(o/2)}};return ti.Circle=r,r.prototype._centroid=!0,r.prototype.className="Circle",r.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(r),t.Factory.addGetterSetter(r,"radius",0,(0,i.getNumberValidator)()),ti}var ei={},Ls;function _c(){if(Ls)return ei;Ls=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.Ellipse=void 0;const t=_t(),e=Ot(),i=mt(),n=pt();let r=class extends e.Shape{_sceneFunc(o){const a=this.radiusX(),l=this.radiusY();o.beginPath(),o.save(),a!==l&&o.scale(1,l/a),o.arc(0,0,a,0,Math.PI*2,!1),o.restore(),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(o){this.radiusX(o/2)}setHeight(o){this.radiusY(o/2)}};return ei.Ellipse=r,r.prototype.className="Ellipse",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,n._registerNode)(r),t.Factory.addComponentsGetterSetter(r,"radius",["x","y"]),t.Factory.addGetterSetter(r,"radiusX",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"radiusY",0,(0,i.getNumberValidator)()),ei}var ii={},Ds;function mc(){if(Ds)return ii;Ds=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.Image=void 0;const t=Rt(),e=_t(),i=Ot(),n=pt(),r=mt();class s extends i.Shape{constructor(a){super(a),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const a=this.image();a&&a.complete||a&&a.readyState===4||a&&a.addEventListener&&a.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){const a=!!this.cornerRadius(),l=this.hasShadow();return a&&l?!0:super._useBufferCanvas(!0)}_sceneFunc(a){const l=this.getWidth(),g=this.getHeight(),u=this.cornerRadius(),_=this.attrs.image;let p;if(_){const f=this.attrs.cropWidth,c=this.attrs.cropHeight;f&&c?p=[_,this.cropX(),this.cropY(),f,c,0,0,l,g]:p=[_,0,0,l,g]}(this.hasFill()||this.hasStroke()||u)&&(a.beginPath(),u?t.Util.drawRoundedRectPath(a,l,g,u):a.rect(0,0,l,g),a.closePath(),a.fillStrokeShape(this)),_&&(u&&a.clip(),a.drawImage.apply(a,p))}_hitFunc(a){const l=this.width(),g=this.height(),u=this.cornerRadius();a.beginPath(),u?t.Util.drawRoundedRectPath(a,l,g,u):a.rect(0,0,l,g),a.closePath(),a.fillStrokeShape(this)}getWidth(){var a,l;return(a=this.attrs.width)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var a,l;return(a=this.attrs.height)!==null&&a!==void 0?a:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(a,l,g=null){const u=t.Util.createImageElement();u.onload=function(){const _=new s({image:u});l(_)},u.onerror=g,u.crossOrigin="Anonymous",u.src=a}}return ii.Image=s,s.prototype.className="Image",(0,n._registerNode)(s),e.Factory.addGetterSetter(s,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(s,"image"),e.Factory.addComponentsGetterSetter(s,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(s,"cropX",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropY",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropWidth",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(s,"cropHeight",0,(0,r.getNumberValidator)()),ii}var Pe={},Is;function yc(){if(Is)return Pe;Is=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.Tag=Pe.Label=void 0;const t=_t(),e=Ot(),i=Mr(),n=mt(),r=pt(),s=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],o="Change.konva",a="none",l="up",g="right",u="down",_="left",p=s.length;let f=class extends i.Group{constructor(b){super(b),this.on("add.konva",function(P){this._addListeners(P.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(b){let P=this,h;const d=function(){P._sync()};for(h=0;h<p;h++)b.on(s[h]+o,d)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let b=this.getText(),P=this.getTag(),h,d,v,x,T,k,E;if(b&&P){switch(h=b.width(),d=b.height(),v=P.pointerDirection(),x=P.pointerWidth(),E=P.pointerHeight(),T=0,k=0,v){case l:T=h/2,k=-1*E;break;case g:T=h+x,k=d/2;break;case u:T=h/2,k=d+E;break;case _:T=-1*x,k=d/2;break}P.setAttrs({x:-1*T,y:-1*k,width:h,height:d}),b.setAttrs({x:-1*T,y:-1*k})}}};Pe.Label=f,f.prototype.className="Label",(0,r._registerNode)(f);class c extends e.Shape{_sceneFunc(b){const P=this.width(),h=this.height(),d=this.pointerDirection(),v=this.pointerWidth(),x=this.pointerHeight(),T=this.cornerRadius();let k=0,E=0,O=0,w=0;typeof T=="number"?k=E=O=w=Math.min(T,P/2,h/2):(k=Math.min(T[0]||0,P/2,h/2),E=Math.min(T[1]||0,P/2,h/2),w=Math.min(T[2]||0,P/2,h/2),O=Math.min(T[3]||0,P/2,h/2)),b.beginPath(),b.moveTo(k,0),d===l&&(b.lineTo((P-v)/2,0),b.lineTo(P/2,-1*x),b.lineTo((P+v)/2,0)),b.lineTo(P-E,0),b.arc(P-E,E,E,Math.PI*3/2,0,!1),d===g&&(b.lineTo(P,(h-x)/2),b.lineTo(P+v,h/2),b.lineTo(P,(h+x)/2)),b.lineTo(P,h-w),b.arc(P-w,h-w,w,0,Math.PI/2,!1),d===u&&(b.lineTo((P+v)/2,h),b.lineTo(P/2,h+x),b.lineTo((P-v)/2,h)),b.lineTo(O,h),b.arc(O,h-O,O,Math.PI/2,Math.PI,!1),d===_&&(b.lineTo(0,(h+x)/2),b.lineTo(-1*v,h/2),b.lineTo(0,(h-x)/2)),b.lineTo(0,k),b.arc(k,k,k,Math.PI,Math.PI*3/2,!1),b.closePath(),b.fillStrokeShape(this)}getSelfRect(){let b=0,P=0,h=this.pointerWidth(),d=this.pointerHeight(),v=this.pointerDirection(),x=this.width(),T=this.height();return v===l?(P-=d,T+=d):v===u?T+=d:v===_?(b-=h*1.5,x+=h):v===g&&(x+=h*1.5),{x:b,y:P,width:x,height:T}}}return Pe.Tag=c,c.prototype.className="Tag",(0,r._registerNode)(c),t.Factory.addGetterSetter(c,"pointerDirection",a),t.Factory.addGetterSetter(c,"pointerWidth",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(c,"pointerHeight",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(c,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),Pe}var ni={},Us;function xa(){if(Us)return ni;Us=1,Object.defineProperty(ni,"__esModule",{value:!0}),ni.Rect=void 0;const t=_t(),e=Ot(),i=pt(),n=Rt(),r=mt();let s=class extends e.Shape{_sceneFunc(a){const l=this.cornerRadius(),g=this.width(),u=this.height();a.beginPath(),l?n.Util.drawRoundedRectPath(a,g,u,l):a.rect(0,0,g,u),a.closePath(),a.fillStrokeShape(this)}};return ni.Rect=s,s.prototype.className="Rect",(0,i._registerNode)(s),t.Factory.addGetterSetter(s,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),ni}var ri={},Bs;function vc(){if(Bs)return ri;Bs=1,Object.defineProperty(ri,"__esModule",{value:!0}),ri.RegularPolygon=void 0;const t=_t(),e=Ot(),i=mt(),n=pt();let r=class extends e.Shape{_sceneFunc(o){const a=this._getPoints();o.beginPath(),o.moveTo(a[0].x,a[0].y);for(let l=1;l<a.length;l++)o.lineTo(a[l].x,a[l].y);o.closePath(),o.fillStrokeShape(this)}_getPoints(){const o=this.attrs.sides,a=this.attrs.radius||0,l=[];for(let g=0;g<o;g++)l.push({x:a*Math.sin(g*2*Math.PI/o),y:-1*a*Math.cos(g*2*Math.PI/o)});return l}getSelfRect(){const o=this._getPoints();let a=o[0].x,l=o[0].y,g=o[0].x,u=o[0].y;return o.forEach(_=>{a=Math.min(a,_.x),l=Math.max(l,_.x),g=Math.min(g,_.y),u=Math.max(u,_.y)}),{x:a,y:g,width:l-a,height:u-g}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return ri.RegularPolygon=r,r.prototype.className="RegularPolygon",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(r),t.Factory.addGetterSetter(r,"radius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"sides",0,(0,i.getNumberValidator)()),ri}var si={},Vs;function bc(){if(Vs)return si;Vs=1,Object.defineProperty(si,"__esModule",{value:!0}),si.Ring=void 0;const t=_t(),e=Ot(),i=mt(),n=pt(),r=Math.PI*2;let s=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.innerRadius(),0,r,!1),a.moveTo(this.outerRadius(),0),a.arc(0,0,this.outerRadius(),r,0,!0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(a){this.outerRadius(a/2)}setHeight(a){this.outerRadius(a/2)}};return si.Ring=s,s.prototype.className="Ring",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(s),t.Factory.addGetterSetter(s,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(s,"outerRadius",0,(0,i.getNumberValidator)()),si}var oi={},Hs;function Sc(){if(Hs)return oi;Hs=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.Sprite=void 0;const t=_t(),e=Ot(),i=Fr(),n=mt(),r=pt();let s=class extends e.Shape{constructor(a){super(a),this._updated=!0,this.anim=new i.Animation(()=>{const l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(a){const l=this.animation(),g=this.frameIndex(),u=g*4,_=this.animations()[l],p=this.frameOffsets(),f=_[u+0],c=_[u+1],y=_[u+2],b=_[u+3],P=this.image();if((this.hasFill()||this.hasStroke())&&(a.beginPath(),a.rect(0,0,y,b),a.closePath(),a.fillStrokeShape(this)),P)if(p){const h=p[l],d=g*2;a.drawImage(P,f,c,y,b,h[d+0],h[d+1],y,b)}else a.drawImage(P,f,c,y,b,0,0,y,b)}_hitFunc(a){const l=this.animation(),g=this.frameIndex(),u=g*4,_=this.animations()[l],p=this.frameOffsets(),f=_[u+2],c=_[u+3];if(a.beginPath(),p){const y=p[l],b=g*2;a.rect(y[b+0],y[b+1],f,c)}else a.rect(0,0,f,c);a.closePath(),a.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const a=this;this.interval=setInterval(function(){a._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const a=this.getLayer();this.anim.setLayers(a),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const a=this.frameIndex(),l=this.animation(),g=this.animations(),u=g[l],_=u.length/4;a<_-1?this.frameIndex(a+1):this.frameIndex(0)}};return oi.Sprite=s,s.prototype.className="Sprite",(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"animation"),t.Factory.addGetterSetter(s,"animations"),t.Factory.addGetterSetter(s,"frameOffsets"),t.Factory.addGetterSetter(s,"image"),t.Factory.addGetterSetter(s,"frameIndex",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"frameRate",17,(0,n.getNumberValidator)()),t.Factory.backCompat(s,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),oi}var ai={},Ws;function Cc(){if(Ws)return ai;Ws=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.Star=void 0;const t=_t(),e=Ot(),i=mt(),n=pt();let r=class extends e.Shape{_sceneFunc(o){const a=this.innerRadius(),l=this.outerRadius(),g=this.numPoints();o.beginPath(),o.moveTo(0,0-l);for(let u=1;u<g*2;u++){const _=u%2===0?l:a,p=_*Math.sin(u*Math.PI/g),f=-1*_*Math.cos(u*Math.PI/g);o.lineTo(p,f)}o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return ai.Star=r,r.prototype.className="Star",r.prototype._centroid=!0,r.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(r),t.Factory.addGetterSetter(r,"numPoints",5,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"innerRadius",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(r,"outerRadius",0,(0,i.getNumberValidator)()),ai}var Oe={},qs;function wa(){if(qs)return Oe;qs=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Text=void 0,Oe.stringToArray=o;const t=Rt(),e=_t(),i=Ot(),n=pt(),r=mt(),s=pt();function o(z){return[...z].reduce((H,J,rt,it)=>(new RegExp("\\p{Emoji_Modifier_Base}\\p{Emoji_Modifier}?(?:\\u200D\\p{Emoji_Presentation})+","u").test(J)?H.push(J):new RegExp("\\p{Regional_Indicator}{2}","u").test(J+(it[rt+1]||""))?H.push(J+it[rt+1]):rt>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(J)?H[H.length-1]+=J:H.push(J),H),[])}const a="auto",l="center",g="inherit",u="justify",_="Change.konva",p="2d",f="-",c="left",y="text",b="Text",P="top",h="bottom",d="middle",v="normal",x="px ",T=" ",k="right",E="rtl",O="word",w="char",M="none",L="…",m=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],C=m.length;function S(z){return z.split(",").map(H=>{H=H.trim();const J=H.indexOf(" ")>=0,rt=H.indexOf('"')>=0||H.indexOf("'")>=0;return J&&!rt&&(H=`"${H}"`),H}).join(", ")}let A;function R(){return A||(A=t.Util.createCanvasElement().getContext(p),A)}function I(z){z.fillText(this._partialText,this._partialTextX,this._partialTextY)}function B(z){z.setAttr("miterLimit",2),z.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function j(z){return z=z||{},!z.fillLinearGradientColorStops&&!z.fillRadialGradientColorStops&&!z.fillPatternImage&&(z.fill=z.fill||"black"),z}let W=class extends i.Shape{constructor(H){super(j(H)),this._partialTextX=0,this._partialTextY=0;for(let J=0;J<C;J++)this.on(m[J]+_,this._setTextData);this._setTextData()}_sceneFunc(H){const J=this.textArr,rt=J.length;if(!this.text())return;let it=this.padding(),G=this.fontSize(),U=this.lineHeight()*G,X=this.verticalAlign(),et=this.direction(),ot=0,lt=this.align(),F=this.getWidth(),N=this.letterSpacing(),D=this.fill(),K=this.textDecoration(),V=K.indexOf("underline")!==-1,q=K.indexOf("line-through")!==-1,Z;et=et===g?H.direction:et;let $=U/2,Q=d;if(n.Konva._fixTextRendering){const Tt=this.measureSize("M");Q="alphabetic",$=(Tt.fontBoundingBoxAscent-Tt.fontBoundingBoxDescent)/2+U/2}var Y=0,nt=0;for(et===E&&H.setAttr("direction",et),H.setAttr("font",this._getContextFont()),H.setAttr("textBaseline",Q),H.setAttr("textAlign",c),X===d?ot=(this.getHeight()-rt*U-it*2)/2:X===h&&(ot=this.getHeight()-rt*U-it*2),H.translate(it,ot+it),Z=0;Z<rt;Z++){var Y=0,nt=0,tt=J[Z],st=tt.text,at=tt.width,ht=tt.lastInParagraph,dt,ft,wt;if(H.save(),lt===k?Y+=F-at-it*2:lt===l&&(Y+=(F-at-it*2)/2),V){H.save(),H.beginPath();const Et=n.Konva._fixTextRendering?Math.round(G/4):Math.round(G/2),Vt=Y,se=$+nt+Et;H.moveTo(Vt,se),dt=st.split(" ").length-1,ft=dt===0,wt=lt===u&&!ht?F-it*2:at,H.lineTo(Vt+Math.round(wt),se),H.lineWidth=G/15;const Dt=this._getLinearGradient();H.strokeStyle=Dt||D,H.stroke(),H.restore()}if(q){H.save(),H.beginPath();const Et=n.Konva._fixTextRendering?-Math.round(G/4):0;H.moveTo(Y,$+nt+Et),dt=st.split(" ").length-1,ft=dt===0,wt=lt===u&&ht&&!ft?F-it*2:at,H.lineTo(Y+Math.round(wt),$+nt+Et),H.lineWidth=G/15;const Vt=this._getLinearGradient();H.strokeStyle=Vt||D,H.stroke(),H.restore()}if(et!==E&&(N!==0||lt===u)){dt=st.split(" ").length-1;const Et=o(st);for(let Vt=0;Vt<Et.length;Vt++){const se=Et[Vt];se===" "&&!ht&&lt===u&&(Y+=(F-it*2-at)/dt),this._partialTextX=Y,this._partialTextY=$+nt,this._partialText=se,H.fillStrokeShape(this),Y+=this.measureSize(se).width+N}}else N!==0&&H.setAttr("letterSpacing",`${N}px`),this._partialTextX=Y,this._partialTextY=$+nt,this._partialText=st,H.fillStrokeShape(this);H.restore(),rt>1&&($+=U)}}_hitFunc(H){const J=this.getWidth(),rt=this.getHeight();H.beginPath(),H.rect(0,0,J,rt),H.closePath(),H.fillStrokeShape(this)}setText(H){const J=t.Util._isString(H)?H:H==null?"":H+"";return this._setAttr(y,J),this}getWidth(){return this.attrs.width===a||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===a||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(H){var J,rt,it,G,U,X,et,ot,lt,F,N;let D=R(),K=this.fontSize(),V;D.save(),D.font=this._getContextFont(),V=D.measureText(H),D.restore();const q=K/100;return{actualBoundingBoxAscent:(J=V.actualBoundingBoxAscent)!==null&&J!==void 0?J:71.58203125*q,actualBoundingBoxDescent:(rt=V.actualBoundingBoxDescent)!==null&&rt!==void 0?rt:0,actualBoundingBoxLeft:(it=V.actualBoundingBoxLeft)!==null&&it!==void 0?it:-7.421875*q,actualBoundingBoxRight:(G=V.actualBoundingBoxRight)!==null&&G!==void 0?G:75.732421875*q,alphabeticBaseline:(U=V.alphabeticBaseline)!==null&&U!==void 0?U:0,emHeightAscent:(X=V.emHeightAscent)!==null&&X!==void 0?X:100*q,emHeightDescent:(et=V.emHeightDescent)!==null&&et!==void 0?et:-20*q,fontBoundingBoxAscent:(ot=V.fontBoundingBoxAscent)!==null&&ot!==void 0?ot:91*q,fontBoundingBoxDescent:(lt=V.fontBoundingBoxDescent)!==null&&lt!==void 0?lt:21*q,hangingBaseline:(F=V.hangingBaseline)!==null&&F!==void 0?F:72.80000305175781*q,ideographicBaseline:(N=V.ideographicBaseline)!==null&&N!==void 0?N:-21*q,width:V.width,height:K}}_getContextFont(){return this.fontStyle()+T+this.fontVariant()+T+(this.fontSize()+x)+S(this.fontFamily())}_addTextLine(H){this.align()===u&&(H=H.trim());const rt=this._getTextWidth(H);return this.textArr.push({text:H,width:rt,lastInParagraph:!1})}_getTextWidth(H){const J=this.letterSpacing(),rt=H.length;return R().measureText(H).width+(rt?J*(rt-1):0)}_setTextData(){let H=this.text().split(`
`),J=+this.fontSize(),rt=0,it=this.lineHeight()*J,G=this.attrs.width,U=this.attrs.height,X=G!==a&&G!==void 0,et=U!==a&&U!==void 0,ot=this.padding(),lt=G-ot*2,F=U-ot*2,N=0,D=this.wrap(),K=D!==M,V=D!==w&&K,q=this.ellipsis();this.textArr=[],R().font=this._getContextFont();const Z=q?this._getTextWidth(L):0;for(let Q=0,Y=H.length;Q<Y;++Q){let nt=H[Q],tt=this._getTextWidth(nt);if(X&&tt>lt)for(;nt.length>0;){let st=0,at=nt.length,ht="",dt=0;for(;st<at;){const ft=st+at>>>1,wt=nt.slice(0,ft+1),Tt=this._getTextWidth(wt)+Z;Tt<=lt?(st=ft+1,ht=wt,dt=Tt):at=ft}if(ht){if(V){var $;const wt=nt[ht.length];(wt===T||wt===f)&&dt<=lt?$=ht.length:$=Math.max(ht.lastIndexOf(T),ht.lastIndexOf(f))+1,$>0&&(st=$,ht=ht.slice(0,st),dt=this._getTextWidth(ht))}if(ht=ht.trimRight(),this._addTextLine(ht),rt=Math.max(rt,dt),N+=it,this._shouldHandleEllipsis(N)){this._tryToAddEllipsisToLastLine();break}if(nt=nt.slice(st),nt=nt.trimLeft(),nt.length>0&&(tt=this._getTextWidth(nt),tt<=lt)){this._addTextLine(nt),N+=it,rt=Math.max(rt,tt);break}}else break}else this._addTextLine(nt),N+=it,rt=Math.max(rt,tt),this._shouldHandleEllipsis(N)&&Q<Y-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),et&&N+it>F)break}this.textHeight=J,this.textWidth=rt}_shouldHandleEllipsis(H){const J=+this.fontSize(),rt=this.lineHeight()*J,it=this.attrs.height,G=it!==a&&it!==void 0,U=this.padding(),X=it-U*2;return!(this.wrap()!==M)||G&&H+rt>X}_tryToAddEllipsisToLastLine(){const H=this.attrs.width,J=H!==a&&H!==void 0,rt=this.padding(),it=H-rt*2,G=this.ellipsis(),U=this.textArr[this.textArr.length-1];!U||!G||(J&&(this._getTextWidth(U.text+L)<it||(U.text=U.text.slice(0,U.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(U.text+L))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const H=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,J=this.hasShadow();return H&&J?!0:super._useBufferCanvas()}};return Oe.Text=W,W.prototype._fillFunc=I,W.prototype._strokeFunc=B,W.prototype.className=b,W.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,s._registerNode)(W),e.Factory.overWriteSetter(W,"width",(0,r.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(W,"height",(0,r.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(W,"direction",g),e.Factory.addGetterSetter(W,"fontFamily","Arial"),e.Factory.addGetterSetter(W,"fontSize",12,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(W,"fontStyle",v),e.Factory.addGetterSetter(W,"fontVariant",v),e.Factory.addGetterSetter(W,"padding",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(W,"align",c),e.Factory.addGetterSetter(W,"verticalAlign",P),e.Factory.addGetterSetter(W,"lineHeight",1,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(W,"wrap",O),e.Factory.addGetterSetter(W,"ellipsis",!1,(0,r.getBooleanValidator)()),e.Factory.addGetterSetter(W,"letterSpacing",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(W,"text","",(0,r.getStringValidator)()),e.Factory.addGetterSetter(W,"textDecoration",""),Oe}var li={},js;function xc(){if(js)return li;js=1,Object.defineProperty(li,"__esModule",{value:!0}),li.TextPath=void 0;const t=Rt(),e=_t(),i=Ot(),n=kr(),r=wa(),s=mt(),o=pt(),a="",l="normal";function g(p){p.fillText(this.partialText,0,0)}function u(p){p.strokeText(this.partialText,0,0)}let _=class extends i.Shape{constructor(f){super(f),this.dummyCanvas=t.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return n.Path.getPathLength(this.dataArray)}_getPointAtLength(f){if(!this.attrs.data)return null;const c=this.pathLength;return f-1>c?null:n.Path.getPointAtLengthOfDataArray(f,this.dataArray)}_readDataAttribute(){this.dataArray=n.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(f){f.setAttr("font",this._getContextFont()),f.setAttr("textBaseline",this.textBaseline()),f.setAttr("textAlign","left"),f.save();const c=this.textDecoration(),y=this.fill(),b=this.fontSize(),P=this.glyphInfo;c==="underline"&&f.beginPath();for(let h=0;h<P.length;h++){f.save();const d=P[h].p0;f.translate(d.x,d.y),f.rotate(P[h].rotation),this.partialText=P[h].text,f.fillStrokeShape(this),c==="underline"&&(h===0&&f.moveTo(0,b/2+1),f.lineTo(b,b/2+1)),f.restore()}c==="underline"&&(f.strokeStyle=y,f.lineWidth=b/20,f.stroke()),f.restore()}_hitFunc(f){f.beginPath();const c=this.glyphInfo;if(c.length>=1){const y=c[0].p0;f.moveTo(y.x,y.y)}for(let y=0;y<c.length;y++){const b=c[y].p1;f.lineTo(b.x,b.y)}f.setAttr("lineWidth",this.fontSize()),f.setAttr("strokeStyle",this.colorKey),f.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return t.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(f){return r.Text.prototype.setText.call(this,f)}_getContextFont(){return r.Text.prototype._getContextFont.call(this)}_getTextSize(f){const y=this.dummyCanvas.getContext("2d");y.save(),y.font=this._getContextFont();const b=y.measureText(f);return y.restore(),{width:b.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:f,height:c}=this._getTextSize(this.attrs.text);if(this.textWidth=f,this.textHeight=c,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),b=this.align(),P=this.kerningFunc(),h=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let d=0;b==="center"&&(d=Math.max(0,this.pathLength/2-h/2)),b==="right"&&(d=Math.max(0,this.pathLength-h));const v=(0,r.stringToArray)(this.text());let x=d;for(let T=0;T<v.length;T++){const k=this._getPointAtLength(x);if(!k)return;let E=this._getTextSize(v[T]).width+y;if(v[T]===" "&&b==="justify"){const C=this.text().split(" ").length-1;E+=(this.pathLength-h)/C}const O=this._getPointAtLength(x+E);if(!O)return;const w=n.Path.getLineLength(k.x,k.y,O.x,O.y);let M=0;if(P)try{M=P(v[T-1],v[T])*this.fontSize()}catch{M=0}k.x+=M,O.x+=M,this.textWidth+=M;const L=n.Path.getPointOnLine(M+w/2,k.x,k.y,O.x,O.y),m=Math.atan2(O.y-k.y,O.x-k.x);this.glyphInfo.push({transposeX:L.x,transposeY:L.y,text:v[T],rotation:m,p0:k,p1:O}),x+=E}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const f=[];this.glyphInfo.forEach(function(x){f.push(x.p0.x),f.push(x.p0.y),f.push(x.p1.x),f.push(x.p1.y)});let c=f[0]||0,y=f[0]||0,b=f[1]||0,P=f[1]||0,h,d;for(let x=0;x<f.length/2;x++)h=f[x*2],d=f[x*2+1],c=Math.min(c,h),y=Math.max(y,h),b=Math.min(b,d),P=Math.max(P,d);const v=this.fontSize();return{x:c-v/2,y:b-v/2,width:y-c+v,height:P-b+v}}destroy(){return t.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return li.TextPath=_,_.prototype._fillFunc=g,_.prototype._strokeFunc=u,_.prototype._fillFuncHit=g,_.prototype._strokeFuncHit=u,_.prototype.className="TextPath",_.prototype._attrsAffectingSize=["text","fontSize","data"],(0,o._registerNode)(_),e.Factory.addGetterSetter(_,"data"),e.Factory.addGetterSetter(_,"fontFamily","Arial"),e.Factory.addGetterSetter(_,"fontSize",12,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(_,"fontStyle",l),e.Factory.addGetterSetter(_,"align","left"),e.Factory.addGetterSetter(_,"letterSpacing",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(_,"textBaseline","middle"),e.Factory.addGetterSetter(_,"fontVariant",l),e.Factory.addGetterSetter(_,"text",a),e.Factory.addGetterSetter(_,"textDecoration",null),e.Factory.addGetterSetter(_,"kerningFunc",null),li}var hi={},Ks;function wc(){if(Ks)return hi;Ks=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.Transformer=void 0;const t=Rt(),e=_t(),i=Mt(),n=Ot(),r=xa(),s=Mr(),o=pt(),a=mt(),l=pt(),g="tr-konva",u=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(O=>O+`.${g}`).join(" "),_="nodesRect",p=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],f={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},c="ontouchstart"in o.Konva._global;function y(O,w,M){if(O==="rotater")return M;w+=t.Util.degToRad(f[O]||0);const L=(t.Util.radToDeg(w)%360+360)%360;return t.Util._inRange(L,315+22.5,360)||t.Util._inRange(L,0,22.5)?"ns-resize":t.Util._inRange(L,45-22.5,45+22.5)?"nesw-resize":t.Util._inRange(L,90-22.5,90+22.5)?"ew-resize":t.Util._inRange(L,135-22.5,135+22.5)?"nwse-resize":t.Util._inRange(L,180-22.5,180+22.5)?"ns-resize":t.Util._inRange(L,225-22.5,225+22.5)?"nesw-resize":t.Util._inRange(L,270-22.5,270+22.5)?"ew-resize":t.Util._inRange(L,315-22.5,315+22.5)?"nwse-resize":(t.Util.error("Transformer has unknown angle for cursor detection: "+L),"pointer")}const b=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],P=1e8;function h(O){return{x:O.x+O.width/2*Math.cos(O.rotation)+O.height/2*Math.sin(-O.rotation),y:O.y+O.height/2*Math.cos(O.rotation)+O.width/2*Math.sin(O.rotation)}}function d(O,w,M){const L=M.x+(O.x-M.x)*Math.cos(w)-(O.y-M.y)*Math.sin(w),m=M.y+(O.x-M.x)*Math.sin(w)+(O.y-M.y)*Math.cos(w);return{...O,rotation:O.rotation+w,x:L,y:m}}function v(O,w){const M=h(O);return d(O,w,M)}function x(O,w,M){let L=w;for(let m=0;m<O.length;m++){const C=o.Konva.getAngle(O[m]),S=Math.abs(C-w)%(Math.PI*2);Math.min(S,Math.PI*2-S)<M&&(L=C)}return L}let T=0,k=class extends s.Group{constructor(w){super(w),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(u,this.update),this.getNode()&&this.update()}attachTo(w){return this.setNode(w),this}setNode(w){return t.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([w])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return g+this._id}setNodes(w=[]){this._nodes&&this._nodes.length&&this.detach();const M=w.filter(m=>m.isAncestorOf(this)?(t.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=w=M,w.length===1&&this.useSingleNodeRotation()?this.rotation(w[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(m=>{const C=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},S=m._attrsAffectingSize.map(A=>A+"Change."+this._getEventNamespace()).join(" ");m.on(S,C),m.on(p.map(A=>A+`.${this._getEventNamespace()}`).join(" "),C),m.on(`absoluteTransformChange.${this._getEventNamespace()}`,C),this._proxyDrag(m)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(w){let M;w.on(`dragstart.${this._getEventNamespace()}`,L=>{M=w.getAbsolutePosition(),!this.isDragging()&&w!==this.findOne(".back")&&this.startDrag(L,!1)}),w.on(`dragmove.${this._getEventNamespace()}`,L=>{if(!M)return;const m=w.getAbsolutePosition(),C=m.x-M.x,S=m.y-M.y;this.nodes().forEach(A=>{if(A===w||A.isDragging())return;const R=A.getAbsolutePosition();A.setAbsolutePosition({x:R.x+C,y:R.y+S}),A.startDrag(L)}),M=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(w=>{w.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(_),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(_,this.__getNodeRect)}__getNodeShape(w,M=this.rotation(),L){const m=w.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),C=w.getAbsoluteScale(L),S=w.getAbsolutePosition(L),A=m.x*C.x-w.offsetX()*C.x,R=m.y*C.y-w.offsetY()*C.y,I=(o.Konva.getAngle(w.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),B={x:S.x+A*Math.cos(I)+R*Math.sin(-I),y:S.y+R*Math.cos(I)+A*Math.sin(I),width:m.width*C.x,height:m.height*C.y,rotation:I};return d(B,-o.Konva.getAngle(M),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-P,y:-P,width:0,height:0,rotation:0};const M=[];this.nodes().map(I=>{const B=I.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),j=[{x:B.x,y:B.y},{x:B.x+B.width,y:B.y},{x:B.x+B.width,y:B.y+B.height},{x:B.x,y:B.y+B.height}],W=I.getAbsoluteTransform();j.forEach(function(z){const H=W.point(z);M.push(H)})});const L=new t.Transform;L.rotate(-o.Konva.getAngle(this.rotation()));let m=1/0,C=1/0,S=-1/0,A=-1/0;M.forEach(function(I){const B=L.point(I);m===void 0&&(m=S=B.x,C=A=B.y),m=Math.min(m,B.x),C=Math.min(C,B.y),S=Math.max(S,B.x),A=Math.max(A,B.y)}),L.invert();const R=L.point({x:m,y:C});return{x:R.x,y:R.y,width:S-m,height:A-C,rotation:o.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),b.forEach(w=>{this._createAnchor(w)}),this._createAnchor("rotater")}_createAnchor(w){const M=new r.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:w+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:c?10:"auto"}),L=this;M.on("mousedown touchstart",function(m){L._handleMouseDown(m)}),M.on("dragstart",m=>{M.stopDrag(),m.cancelBubble=!0}),M.on("dragend",m=>{m.cancelBubble=!0}),M.on("mouseenter",()=>{const m=o.Konva.getAngle(this.rotation()),C=this.rotateAnchorCursor(),S=y(w,m,C);M.getStage().content&&(M.getStage().content.style.cursor=S),this._cursorChange=!0}),M.on("mouseout",()=>{M.getStage().content&&(M.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(M)}_createBack(){const w=new n.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(M,L){const m=L.getParent(),C=m.padding();M.beginPath(),M.rect(-C,-C,L.width()+C*2,L.height()+C*2),M.moveTo(L.width()/2,-C),m.rotateEnabled()&&m.rotateLineVisible()&&M.lineTo(L.width()/2,-m.rotateAnchorOffset()*t.Util._sign(L.height())-C),M.fillStrokeShape(L)},hitFunc:(M,L)=>{if(!this.shouldOverdrawWholeArea())return;const m=this.padding();M.beginPath(),M.rect(-m,-m,L.width()+m*2,L.height()+m*2),M.fillStrokeShape(L)}});this.add(w),this._proxyDrag(w),w.on("dragstart",M=>{M.cancelBubble=!0}),w.on("dragmove",M=>{M.cancelBubble=!0}),w.on("dragend",M=>{M.cancelBubble=!0}),this.on("dragmove",M=>{this.update()})}_handleMouseDown(w){if(this._transforming)return;this._movingAnchorName=w.target.name().split(" ")[0];const M=this._getNodeRect(),L=M.width,m=M.height,C=Math.sqrt(Math.pow(L,2)+Math.pow(m,2));this.sin=Math.abs(m/C),this.cos=Math.abs(L/C),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const S=w.target.getAbsolutePosition(),A=w.target.getStage().getPointerPosition();this._anchorDragOffset={x:A.x-S.x,y:A.y-S.y},T++,this._fire("transformstart",{evt:w.evt,target:this.getNode()}),this._nodes.forEach(R=>{R._fire("transformstart",{evt:w.evt,target:R})})}_handleMouseMove(w){let M,L,m;const C=this.findOne("."+this._movingAnchorName),S=C.getStage();S.setPointersPositions(w);const A=S.getPointerPosition();let R={x:A.x-this._anchorDragOffset.x,y:A.y-this._anchorDragOffset.y};const I=C.getAbsolutePosition();this.anchorDragBoundFunc()&&(R=this.anchorDragBoundFunc()(I,R,w)),C.setAbsolutePosition(R);const B=C.getAbsolutePosition();if(I.x===B.x&&I.y===B.y)return;if(this._movingAnchorName==="rotater"){const et=this._getNodeRect();M=C.x()-et.width/2,L=-C.y()+et.height/2;let ot=Math.atan2(-L,M)+Math.PI/2;et.height<0&&(ot-=Math.PI);const F=o.Konva.getAngle(this.rotation())+ot,N=o.Konva.getAngle(this.rotationSnapTolerance()),K=x(this.rotationSnaps(),F,N)-et.rotation,V=v(et,K);this._fitNodesInto(V,w);return}const j=this.shiftBehavior();let W;j==="inverted"?W=this.keepRatio()&&!w.shiftKey:j==="none"?W=this.keepRatio():W=this.keepRatio()||w.shiftKey;var it=this.centeredScaling()||w.altKey;if(this._movingAnchorName==="top-left"){if(W){var z=it?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};m=Math.sqrt(Math.pow(z.x-C.x(),2)+Math.pow(z.y-C.y(),2));var H=this.findOne(".top-left").x()>z.x?-1:1,J=this.findOne(".top-left").y()>z.y?-1:1;M=m*this.cos*H,L=m*this.sin*J,this.findOne(".top-left").x(z.x-M),this.findOne(".top-left").y(z.y-L)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(C.y());else if(this._movingAnchorName==="top-right"){if(W){var z=it?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};m=Math.sqrt(Math.pow(C.x()-z.x,2)+Math.pow(z.y-C.y(),2));var H=this.findOne(".top-right").x()<z.x?-1:1,J=this.findOne(".top-right").y()>z.y?-1:1;M=m*this.cos*H,L=m*this.sin*J,this.findOne(".top-right").x(z.x+M),this.findOne(".top-right").y(z.y-L)}var rt=C.position();this.findOne(".top-left").y(rt.y),this.findOne(".bottom-right").x(rt.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(C.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(C.x());else if(this._movingAnchorName==="bottom-left"){if(W){var z=it?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};m=Math.sqrt(Math.pow(z.x-C.x(),2)+Math.pow(C.y()-z.y,2));var H=z.x<C.x()?-1:1,J=C.y()<z.y?-1:1;M=m*this.cos*H,L=m*this.sin*J,C.x(z.x-M),C.y(z.y+L)}rt=C.position(),this.findOne(".top-left").x(rt.x),this.findOne(".bottom-right").y(rt.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(C.y());else if(this._movingAnchorName==="bottom-right"){if(W){var z=it?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};m=Math.sqrt(Math.pow(C.x()-z.x,2)+Math.pow(C.y()-z.y,2));var H=this.findOne(".bottom-right").x()<z.x?-1:1,J=this.findOne(".bottom-right").y()<z.y?-1:1;M=m*this.cos*H,L=m*this.sin*J,this.findOne(".bottom-right").x(z.x+M),this.findOne(".bottom-right").y(z.y+L)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var it=this.centeredScaling()||w.altKey;if(it){const et=this.findOne(".top-left"),ot=this.findOne(".bottom-right"),lt=et.x(),F=et.y(),N=this.getWidth()-ot.x(),D=this.getHeight()-ot.y();ot.move({x:-lt,y:-F}),et.move({x:N,y:D})}const G=this.findOne(".top-left").getAbsolutePosition();M=G.x,L=G.y;const U=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),X=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:M,y:L,width:U,height:X,rotation:o.Konva.getAngle(this.rotation())},w)}_handleMouseUp(w){this._removeEvents(w)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(w){var M;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const L=this.getNode();T--,this._fire("transformend",{evt:w,target:L}),(M=this.getLayer())===null||M===void 0||M.batchDraw(),L&&this._nodes.forEach(m=>{var C;m._fire("transformend",{evt:w,target:m}),(C=m.getLayer())===null||C===void 0||C.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(w,M){const L=this._getNodeRect(),m=1;if(t.Util._inRange(w.width,-this.padding()*2-m,m)){this.update();return}if(t.Util._inRange(w.height,-this.padding()*2-m,m)){this.update();return}const C=new t.Transform;if(C.rotate(o.Konva.getAngle(this.rotation())),this._movingAnchorName&&w.width<0&&this._movingAnchorName.indexOf("left")>=0){const W=C.point({x:-this.padding()*2,y:0});w.x+=W.x,w.y+=W.y,w.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=W.x,this._anchorDragOffset.y-=W.y}else if(this._movingAnchorName&&w.width<0&&this._movingAnchorName.indexOf("right")>=0){const W=C.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=W.x,this._anchorDragOffset.y-=W.y,w.width+=this.padding()*2}if(this._movingAnchorName&&w.height<0&&this._movingAnchorName.indexOf("top")>=0){const W=C.point({x:0,y:-this.padding()*2});w.x+=W.x,w.y+=W.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=W.x,this._anchorDragOffset.y-=W.y,w.height+=this.padding()*2}else if(this._movingAnchorName&&w.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const W=C.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=W.x,this._anchorDragOffset.y-=W.y,w.height+=this.padding()*2}if(this.boundBoxFunc()){const W=this.boundBoxFunc()(L,w);W?w=W:t.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const S=1e7,A=new t.Transform;A.translate(L.x,L.y),A.rotate(L.rotation),A.scale(L.width/S,L.height/S);const R=new t.Transform,I=w.width/S,B=w.height/S;this.flipEnabled()===!1?(R.translate(w.x,w.y),R.rotate(w.rotation),R.translate(w.width<0?w.width:0,w.height<0?w.height:0),R.scale(Math.abs(I),Math.abs(B))):(R.translate(w.x,w.y),R.rotate(w.rotation),R.scale(I,B));const j=R.multiply(A.invert());this._nodes.forEach(W=>{var z;const H=W.getParent().getAbsoluteTransform(),J=W.getTransform().copy();J.translate(W.offsetX(),W.offsetY());const rt=new t.Transform;rt.multiply(H.copy().invert()).multiply(j).multiply(H).multiply(J);const it=rt.decompose();W.setAttrs(it),(z=W.getLayer())===null||z===void 0||z.batchDraw()}),this.rotation(t.Util._getRotation(w.rotation)),this._nodes.forEach(W=>{this._fire("transform",{evt:M,target:W}),W._fire("transform",{evt:M,target:W})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(w,M){this.findOne(w).setAttrs(M)}update(){var w;const M=this._getNodeRect();this.rotation(t.Util._getRotation(M.rotation));const L=M.width,m=M.height,C=this.enabledAnchors(),S=this.resizeEnabled(),A=this.padding(),R=this.anchorSize(),I=this.find("._anchor");I.forEach(j=>{j.setAttrs({width:R,height:R,offsetX:R/2,offsetY:R/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:R/2+A,offsetY:R/2+A,visible:S&&C.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:L/2,y:0,offsetY:R/2+A,visible:S&&C.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:L,y:0,offsetX:R/2-A,offsetY:R/2+A,visible:S&&C.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:m/2,offsetX:R/2+A,visible:S&&C.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:L,y:m/2,offsetX:R/2-A,visible:S&&C.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:m,offsetX:R/2+A,offsetY:R/2-A,visible:S&&C.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:L/2,y:m,offsetY:R/2-A,visible:S&&C.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:L,y:m,offsetX:R/2-A,offsetY:R/2-A,visible:S&&C.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:L/2,y:-this.rotateAnchorOffset()*t.Util._sign(m)-A,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:L,height:m,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const B=this.anchorStyleFunc();B&&I.forEach(j=>{B(j)}),(w=this.getLayer())===null||w===void 0||w.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const w=this.findOne("."+this._movingAnchorName);w&&w.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),s.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return i.Node.prototype.toObject.call(this)}clone(w){return i.Node.prototype.clone.call(this,w)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};hi.Transformer=k,k.isTransforming=()=>T>0;function E(O){return O instanceof Array||t.Util.warn("enabledAnchors value should be an array"),O instanceof Array&&O.forEach(function(w){b.indexOf(w)===-1&&t.Util.warn("Unknown anchor name: "+w+". Available names are: "+b.join(", "))}),O||[]}return k.prototype.className="Transformer",(0,l._registerNode)(k),e.Factory.addGetterSetter(k,"enabledAnchors",b,E),e.Factory.addGetterSetter(k,"flipEnabled",!0,(0,a.getBooleanValidator)()),e.Factory.addGetterSetter(k,"resizeEnabled",!0),e.Factory.addGetterSetter(k,"anchorSize",10,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"rotateEnabled",!0),e.Factory.addGetterSetter(k,"rotateLineVisible",!0),e.Factory.addGetterSetter(k,"rotationSnaps",[]),e.Factory.addGetterSetter(k,"rotateAnchorOffset",50,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(k,"rotationSnapTolerance",5,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderEnabled",!0),e.Factory.addGetterSetter(k,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(k,"anchorStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"anchorFill","white"),e.Factory.addGetterSetter(k,"anchorCornerRadius",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(k,"borderStrokeWidth",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"borderDash"),e.Factory.addGetterSetter(k,"keepRatio",!0),e.Factory.addGetterSetter(k,"shiftBehavior","default"),e.Factory.addGetterSetter(k,"centeredScaling",!1),e.Factory.addGetterSetter(k,"ignoreStroke",!1),e.Factory.addGetterSetter(k,"padding",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(k,"node"),e.Factory.addGetterSetter(k,"nodes"),e.Factory.addGetterSetter(k,"boundBoxFunc"),e.Factory.addGetterSetter(k,"anchorDragBoundFunc"),e.Factory.addGetterSetter(k,"anchorStyleFunc"),e.Factory.addGetterSetter(k,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(k,"useSingleNodeRotation",!0),e.Factory.backCompat(k,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),hi}var ci={},zs;function Pc(){if(zs)return ci;zs=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.Wedge=void 0;const t=_t(),e=Ot(),i=pt(),n=mt(),r=pt();let s=class extends e.Shape{_sceneFunc(a){a.beginPath(),a.arc(0,0,this.radius(),0,i.Konva.getAngle(this.angle()),this.clockwise()),a.lineTo(0,0),a.closePath(),a.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(a){this.radius(a/2)}setHeight(a){this.radius(a/2)}};return ci.Wedge=s,s.prototype.className="Wedge",s.prototype._centroid=!0,s.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(s),t.Factory.addGetterSetter(s,"radius",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"angle",0,(0,n.getNumberValidator)()),t.Factory.addGetterSetter(s,"clockwise",!1),t.Factory.backCompat(s,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),ci}var ui={},Ys;function Tc(){if(Ys)return ui;Ys=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.Blur=void 0;const t=_t(),e=Mt(),i=mt();function n(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(l,g){const u=l.data,_=l.width,p=l.height;let f,c,y,b,P,h,d,v,x,T,k,E,O,w,M,L,m,C,S,A,R,I,B,j,W=g+g+1,z=_-1,H=p-1,J=g+1,rt=J*(J+1)/2,it=new n,G=null,U=it,X=null,et=null,ot=r[g],lt=s[g];for(y=1;y<W;y++)U=U.next=new n,y===J&&(G=U);for(U.next=it,d=h=0,c=0;c<p;c++){for(L=m=C=S=v=x=T=k=0,E=J*(A=u[h]),O=J*(R=u[h+1]),w=J*(I=u[h+2]),M=J*(B=u[h+3]),v+=rt*A,x+=rt*R,T+=rt*I,k+=rt*B,U=it,y=0;y<J;y++)U.r=A,U.g=R,U.b=I,U.a=B,U=U.next;for(y=1;y<J;y++)b=h+((z<y?z:y)<<2),v+=(U.r=A=u[b])*(j=J-y),x+=(U.g=R=u[b+1])*j,T+=(U.b=I=u[b+2])*j,k+=(U.a=B=u[b+3])*j,L+=A,m+=R,C+=I,S+=B,U=U.next;for(X=it,et=G,f=0;f<_;f++)u[h+3]=B=k*ot>>lt,B!==0?(B=255/B,u[h]=(v*ot>>lt)*B,u[h+1]=(x*ot>>lt)*B,u[h+2]=(T*ot>>lt)*B):u[h]=u[h+1]=u[h+2]=0,v-=E,x-=O,T-=w,k-=M,E-=X.r,O-=X.g,w-=X.b,M-=X.a,b=d+((b=f+g+1)<z?b:z)<<2,L+=X.r=u[b],m+=X.g=u[b+1],C+=X.b=u[b+2],S+=X.a=u[b+3],v+=L,x+=m,T+=C,k+=S,X=X.next,E+=A=et.r,O+=R=et.g,w+=I=et.b,M+=B=et.a,L-=A,m-=R,C-=I,S-=B,et=et.next,h+=4;d+=_}for(f=0;f<_;f++){for(m=C=S=L=x=T=k=v=0,h=f<<2,E=J*(A=u[h]),O=J*(R=u[h+1]),w=J*(I=u[h+2]),M=J*(B=u[h+3]),v+=rt*A,x+=rt*R,T+=rt*I,k+=rt*B,U=it,y=0;y<J;y++)U.r=A,U.g=R,U.b=I,U.a=B,U=U.next;for(P=_,y=1;y<=g;y++)h=P+f<<2,v+=(U.r=A=u[h])*(j=J-y),x+=(U.g=R=u[h+1])*j,T+=(U.b=I=u[h+2])*j,k+=(U.a=B=u[h+3])*j,L+=A,m+=R,C+=I,S+=B,U=U.next,y<H&&(P+=_);for(h=f,X=it,et=G,c=0;c<p;c++)b=h<<2,u[b+3]=B=k*ot>>lt,B>0?(B=255/B,u[b]=(v*ot>>lt)*B,u[b+1]=(x*ot>>lt)*B,u[b+2]=(T*ot>>lt)*B):u[b]=u[b+1]=u[b+2]=0,v-=E,x-=O,T-=w,k-=M,E-=X.r,O-=X.g,w-=X.b,M-=X.a,b=f+((b=c+J)<H?b:H)*_<<2,v+=L+=X.r=u[b],x+=m+=X.g=u[b+1],T+=C+=X.b=u[b+2],k+=S+=X.a=u[b+3],X=X.next,E+=A=et.r,O+=R=et.g,w+=I=et.b,M+=B=et.a,L-=A,m-=R,C-=I,S-=B,et=et.next,h+=_}}const a=function(g){const u=Math.round(this.blurRadius());u>0&&o(g,u)};return ui.Blur=a,t.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),ui}var di={},Xs;function Ac(){if(Xs)return di;Xs=1,Object.defineProperty(di,"__esModule",{value:!0}),di.Brighten=void 0;const t=_t(),e=Mt(),i=mt(),n=function(r){let s=this.brightness()*255,o=r.data,a=o.length,l;for(l=0;l<a;l+=4)o[l]+=s,o[l+1]+=s,o[l+2]+=s};return di.Brighten=n,t.Factory.addGetterSetter(e.Node,"brightness",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),di}var fi={},$s;function Rc(){if($s)return fi;$s=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.Contrast=void 0;const t=_t(),e=Mt(),i=mt(),n=function(r){const s=Math.pow((this.contrast()+100)/100,2);let o=r.data,a=o.length,l=150,g=150,u=150,_;for(_=0;_<a;_+=4)l=o[_],g=o[_+1],u=o[_+2],l/=255,l-=.5,l*=s,l+=.5,l*=255,g/=255,g-=.5,g*=s,g+=.5,g*=255,u/=255,u-=.5,u*=s,u+=.5,u*=255,l=l<0?0:l>255?255:l,g=g<0?0:g>255?255:g,u=u<0?0:u>255?255:u,o[_]=l,o[_+1]=g,o[_+2]=u};return fi.Contrast=n,t.Factory.addGetterSetter(e.Node,"contrast",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),fi}var gi={},Js;function Ec(){if(Js)return gi;Js=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.Emboss=void 0;const t=_t(),e=Mt(),i=Rt(),n=mt(),r=function(s){let o=this.embossStrength()*10,a=this.embossWhiteLevel()*255,l=this.embossDirection(),g=this.embossBlend(),u=0,_=0,p=s.data,f=s.width,c=s.height,y=f*4,b=c;switch(l){case"top-left":u=-1,_=-1;break;case"top":u=-1,_=0;break;case"top-right":u=-1,_=1;break;case"right":u=0,_=1;break;case"bottom-right":u=1,_=1;break;case"bottom":u=1,_=0;break;case"bottom-left":u=1,_=-1;break;case"left":u=0,_=-1;break;default:i.Util.error("Unknown emboss direction: "+l)}do{const P=(b-1)*y;let h=u;b+h<1&&(h=0),b+h>c&&(h=0);const d=(b-1+h)*f*4;let v=f;do{const x=P+(v-1)*4;let T=_;v+T<1&&(T=0),v+T>f&&(T=0);const k=d+(v-1+T)*4,E=p[x]-p[k],O=p[x+1]-p[k+1],w=p[x+2]-p[k+2];let M=E;const L=M>0?M:-M,m=O>0?O:-O,C=w>0?w:-w;if(m>L&&(M=O),C>L&&(M=w),M*=o,g){const S=p[x]+M,A=p[x+1]+M,R=p[x+2]+M;p[x]=S>255?255:S<0?0:S,p[x+1]=A>255?255:A<0?0:A,p[x+2]=R>255?255:R<0?0:R}else{let S=a-M;S<0?S=0:S>255&&(S=255),p[x]=p[x+1]=p[x+2]=S}}while(--v)}while(--b)};return gi.Emboss=r,t.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossDirection","top-left",null,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"embossBlend",!1,null,t.Factory.afterSetFilter),gi}var pi={},Qs;function Mc(){if(Qs)return pi;Qs=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.Enhance=void 0;const t=_t(),e=Mt(),i=mt();function n(s,o,a,l,g){let u=a-o,_=g-l,p;return u===0?l+_/2:_===0?l:(p=(s-o)/u,p=_*p+l,p)}const r=function(s){let o=s.data,a=o.length,l=o[0],g=l,u,_=o[1],p=_,f,c=o[2],y=c,b,P;const h=this.enhance();if(h===0)return;for(P=0;P<a;P+=4)u=o[P+0],u<l?l=u:u>g&&(g=u),f=o[P+1],f<_?_=f:f>p&&(p=f),b=o[P+2],b<c?c=b:b>y&&(y=b);g===l&&(g=255,l=0),p===_&&(p=255,_=0),y===c&&(y=255,c=0);let d,v,x,T,k,E,O,w,M;for(h>0?(v=g+h*(255-g),x=l-h*(l-0),k=p+h*(255-p),E=_-h*(_-0),w=y+h*(255-y),M=c-h*(c-0)):(d=(g+l)*.5,v=g+h*(g-d),x=l+h*(l-d),T=(p+_)*.5,k=p+h*(p-T),E=_+h*(_-T),O=(y+c)*.5,w=y+h*(y-O),M=c+h*(c-O)),P=0;P<a;P+=4)o[P+0]=n(o[P+0],l,g,x,v),o[P+1]=n(o[P+1],_,p,E,k),o[P+2]=n(o[P+2],c,y,M,w)};return pi.Enhance=r,t.Factory.addGetterSetter(e.Node,"enhance",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),pi}var _i={},Zs;function Fc(){if(Zs)return _i;Zs=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.Grayscale=void 0;const t=function(e){let i=e.data,n=i.length,r,s;for(r=0;r<n;r+=4)s=.34*i[r]+.5*i[r+1]+.16*i[r+2],i[r]=s,i[r+1]=s,i[r+2]=s};return _i.Grayscale=t,_i}var mi={},to;function kc(){if(to)return mi;to=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.HSL=void 0;const t=_t(),e=Mt(),i=mt();t.Factory.addGetterSetter(e.Node,"hue",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"luminance",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter);const n=function(r){let s=r.data,o=s.length,a=1,l=Math.pow(2,this.saturation()),g=Math.abs(this.hue()+360)%360,u=this.luminance()*127,_;const p=a*l*Math.cos(g*Math.PI/180),f=a*l*Math.sin(g*Math.PI/180),c=.299*a+.701*p+.167*f,y=.587*a-.587*p+.33*f,b=.114*a-.114*p-.497*f,P=.299*a-.299*p-.328*f,h=.587*a+.413*p+.035*f,d=.114*a-.114*p+.293*f,v=.299*a-.3*p+1.25*f,x=.587*a-.586*p-1.05*f,T=.114*a+.886*p-.2*f;let k,E,O,w;for(_=0;_<o;_+=4)k=s[_+0],E=s[_+1],O=s[_+2],w=s[_+3],s[_+0]=c*k+y*E+b*O+u,s[_+1]=P*k+h*E+d*O+u,s[_+2]=v*k+x*E+T*O+u,s[_+3]=w};return mi.HSL=n,mi}var yi={},eo;function Oc(){if(eo)return yi;eo=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.HSV=void 0;const t=_t(),e=Mt(),i=mt(),n=function(r){const s=r.data,o=s.length,a=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),g=Math.abs(this.hue()+360)%360,u=a*l*Math.cos(g*Math.PI/180),_=a*l*Math.sin(g*Math.PI/180),p=.299*a+.701*u+.167*_,f=.587*a-.587*u+.33*_,c=.114*a-.114*u-.497*_,y=.299*a-.299*u-.328*_,b=.587*a+.413*u+.035*_,P=.114*a-.114*u+.293*_,h=.299*a-.3*u+1.25*_,d=.587*a-.586*u-1.05*_,v=.114*a+.886*u-.2*_;let x,T,k,E;for(let O=0;O<o;O+=4)x=s[O+0],T=s[O+1],k=s[O+2],E=s[O+3],s[O+0]=p*x+f*T+c*k,s[O+1]=y*x+b*T+P*k,s[O+2]=h*x+d*T+v*k,s[O+3]=E};return yi.HSV=n,t.Factory.addGetterSetter(e.Node,"hue",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"saturation",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"value",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),yi}var vi={},io;function Nc(){if(io)return vi;io=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.Invert=void 0;const t=function(e){let i=e.data,n=i.length,r;for(r=0;r<n;r+=4)i[r]=255-i[r],i[r+1]=255-i[r+1],i[r+2]=255-i[r+2]};return vi.Invert=t,vi}var bi={},no;function Gc(){if(no)return bi;no=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.Kaleidoscope=void 0;const t=_t(),e=Mt(),i=Rt(),n=mt(),r=function(a,l,g){let u=a.data,_=l.data,p=a.width,f=a.height,c=g.polarCenterX||p/2,y=g.polarCenterY||f/2,b,P,h,d=0,v=0,x=0,T=0,k,E=Math.sqrt(c*c+y*y);P=p-c,h=f-y,k=Math.sqrt(P*P+h*h),E=k>E?k:E;let O=f,w=p,M,L,m=360/w*Math.PI/180,C,S;for(L=0;L<w;L+=1)for(C=Math.sin(L*m),S=Math.cos(L*m),M=0;M<O;M+=1)P=Math.floor(c+E*M/O*S),h=Math.floor(y+E*M/O*C),b=(h*p+P)*4,d=u[b+0],v=u[b+1],x=u[b+2],T=u[b+3],b=(L+M*p)*4,_[b+0]=d,_[b+1]=v,_[b+2]=x,_[b+3]=T},s=function(a,l,g){let u=a.data,_=l.data,p=a.width,f=a.height,c=g.polarCenterX||p/2,y=g.polarCenterY||f/2,b,P,h,d,v,x=0,T=0,k=0,E=0,O,w=Math.sqrt(c*c+y*y);P=p-c,h=f-y,O=Math.sqrt(P*P+h*h),w=O>w?O:w;let M=f,L=p,m,C,S=0,A,R;for(P=0;P<p;P+=1)for(h=0;h<f;h+=1)d=P-c,v=h-y,m=Math.sqrt(d*d+v*v)*M/w,C=(Math.atan2(v,d)*180/Math.PI+360+S)%360,C=C*L/360,A=Math.floor(C),R=Math.floor(m),b=(R*p+A)*4,x=u[b+0],T=u[b+1],k=u[b+2],E=u[b+3],b=(h*p+P)*4,_[b+0]=x,_[b+1]=T,_[b+2]=k,_[b+3]=E},o=function(a){const l=a.width,g=a.height;let u,_,p,f,c,y,b,P,h,d,v=Math.round(this.kaleidoscopePower());const x=Math.round(this.kaleidoscopeAngle()),T=Math.floor(l*(x%360)/360);if(v<1)return;const k=i.Util.createCanvasElement();k.width=l,k.height=g;const E=k.getContext("2d").getImageData(0,0,l,g);i.Util.releaseCanvas(k),r(a,E,{polarCenterX:l/2,polarCenterY:g/2});let O=l/Math.pow(2,v);for(;O<=8;)O=O*2,v-=1;O=Math.ceil(O);let w=O,M=0,L=w,m=1;for(T+O>l&&(M=w,L=0,m=-1),_=0;_<g;_+=1)for(u=M;u!==L;u+=m)p=Math.round(u+T)%l,h=(l*_+p)*4,c=E.data[h+0],y=E.data[h+1],b=E.data[h+2],P=E.data[h+3],d=(l*_+u)*4,E.data[d+0]=c,E.data[d+1]=y,E.data[d+2]=b,E.data[d+3]=P;for(_=0;_<g;_+=1)for(w=Math.floor(O),f=0;f<v;f+=1){for(u=0;u<w+1;u+=1)h=(l*_+u)*4,c=E.data[h+0],y=E.data[h+1],b=E.data[h+2],P=E.data[h+3],d=(l*_+w*2-u-1)*4,E.data[d+0]=c,E.data[d+1]=y,E.data[d+2]=b,E.data[d+3]=P;w*=2}s(E,a,{polarRotation:0})};return bi.Kaleidoscope=o,t.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),bi}var Si={},ro;function Lc(){if(ro)return Si;ro=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.Mask=void 0;const t=_t(),e=Mt(),i=mt();function n(p,f,c){let y=(c*p.width+f)*4;const b=[];return b.push(p.data[y++],p.data[y++],p.data[y++],p.data[y++]),b}function r(p,f){return Math.sqrt(Math.pow(p[0]-f[0],2)+Math.pow(p[1]-f[1],2)+Math.pow(p[2]-f[2],2))}function s(p){const f=[0,0,0];for(let c=0;c<p.length;c++)f[0]+=p[c][0],f[1]+=p[c][1],f[2]+=p[c][2];return f[0]/=p.length,f[1]/=p.length,f[2]/=p.length,f}function o(p,f){const c=n(p,0,0),y=n(p,p.width-1,0),b=n(p,0,p.height-1),P=n(p,p.width-1,p.height-1),h=f||10;if(r(c,y)<h&&r(y,P)<h&&r(P,b)<h&&r(b,c)<h){const d=s([y,c,P,b]),v=[];for(let x=0;x<p.width*p.height;x++){const T=r(d,[p.data[x*4],p.data[x*4+1],p.data[x*4+2]]);v[x]=T<h?0:255}return v}}function a(p,f){for(let c=0;c<p.width*p.height;c++)p.data[4*c+3]=f[c]}function l(p,f,c){const y=[1,1,1,1,0,1,1,1,1],b=Math.round(Math.sqrt(y.length)),P=Math.floor(b/2),h=[];for(let d=0;d<c;d++)for(let v=0;v<f;v++){const x=d*f+v;let T=0;for(let k=0;k<b;k++)for(let E=0;E<b;E++){const O=d+k-P,w=v+E-P;if(O>=0&&O<c&&w>=0&&w<f){const M=O*f+w,L=y[k*b+E];T+=p[M]*L}}h[x]=T===255*8?255:0}return h}function g(p,f,c){const y=[1,1,1,1,1,1,1,1,1],b=Math.round(Math.sqrt(y.length)),P=Math.floor(b/2),h=[];for(let d=0;d<c;d++)for(let v=0;v<f;v++){const x=d*f+v;let T=0;for(let k=0;k<b;k++)for(let E=0;E<b;E++){const O=d+k-P,w=v+E-P;if(O>=0&&O<c&&w>=0&&w<f){const M=O*f+w,L=y[k*b+E];T+=p[M]*L}}h[x]=T>=255*4?255:0}return h}function u(p,f,c){const y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],b=Math.round(Math.sqrt(y.length)),P=Math.floor(b/2),h=[];for(let d=0;d<c;d++)for(let v=0;v<f;v++){const x=d*f+v;let T=0;for(let k=0;k<b;k++)for(let E=0;E<b;E++){const O=d+k-P,w=v+E-P;if(O>=0&&O<c&&w>=0&&w<f){const M=O*f+w,L=y[k*b+E];T+=p[M]*L}}h[x]=T}return h}const _=function(p){let f=this.threshold(),c=o(p,f);return c&&(c=l(c,p.width,p.height),c=g(c,p.width,p.height),c=u(c,p.width,p.height),a(p,c)),p};return Si.Mask=_,t.Factory.addGetterSetter(e.Node,"threshold",0,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Si}var Ci={},so;function Dc(){if(so)return Ci;so=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.Noise=void 0;const t=_t(),e=Mt(),i=mt(),n=function(r){const s=this.noise()*255,o=r.data,a=o.length,l=s/2;for(let g=0;g<a;g+=4)o[g+0]+=l-2*l*Math.random(),o[g+1]+=l-2*l*Math.random(),o[g+2]+=l-2*l*Math.random()};return Ci.Noise=n,t.Factory.addGetterSetter(e.Node,"noise",.2,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Ci}var xi={},oo;function Ic(){if(oo)return xi;oo=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.Pixelate=void 0;const t=_t(),e=Rt(),i=Mt(),n=mt(),r=function(s){let o=Math.ceil(this.pixelSize()),a=s.width,l=s.height,g,u,_,p,f,c,y,b=Math.ceil(a/o),P=Math.ceil(l/o),h,d,v,x,T,k,E,O=s.data;if(o<=0){e.Util.error("pixelSize value can not be <= 0");return}for(T=0;T<b;T+=1)for(k=0;k<P;k+=1){for(p=0,f=0,c=0,y=0,h=T*o,d=h+o,v=k*o,x=v+o,E=0,g=h;g<d;g+=1)if(!(g>=a))for(u=v;u<x;u+=1)u>=l||(_=(a*u+g)*4,p+=O[_+0],f+=O[_+1],c+=O[_+2],y+=O[_+3],E+=1);for(p=p/E,f=f/E,c=c/E,y=y/E,g=h;g<d;g+=1)if(!(g>=a))for(u=v;u<x;u+=1)u>=l||(_=(a*u+g)*4,O[_+0]=p,O[_+1]=f,O[_+2]=c,O[_+3]=y)}};return xi.Pixelate=r,t.Factory.addGetterSetter(i.Node,"pixelSize",8,(0,n.getNumberValidator)(),t.Factory.afterSetFilter),xi}var wi={},ao;function Uc(){if(ao)return wi;ao=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.Posterize=void 0;const t=_t(),e=Mt(),i=mt(),n=function(r){let s=Math.round(this.levels()*254)+1,o=r.data,a=o.length,l=255/s,g;for(g=0;g<a;g+=1)o[g]=Math.floor(o[g]/l)*l};return wi.Posterize=n,t.Factory.addGetterSetter(e.Node,"levels",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),wi}var Pi={},lo;function Bc(){if(lo)return Pi;lo=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.RGB=void 0;const t=_t(),e=Mt(),i=mt(),n=function(r){let s=r.data,o=s.length,a=this.red(),l=this.green(),g=this.blue(),u,_;for(u=0;u<o;u+=4)_=(.34*s[u]+.5*s[u+1]+.16*s[u+2])/255,s[u]=_*a,s[u+1]=_*l,s[u+2]=_*g,s[u+3]=s[u+3]};return Pi.RGB=n,t.Factory.addGetterSetter(e.Node,"red",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),t.Factory.addGetterSetter(e.Node,"green",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),t.Factory.addGetterSetter(e.Node,"blue",0,i.RGBComponent,t.Factory.afterSetFilter),Pi}var Ti={},ho;function Vc(){if(ho)return Ti;ho=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.RGBA=void 0;const t=_t(),e=Mt(),i=mt(),n=function(r){const s=r.data,o=s.length,a=this.red(),l=this.green(),g=this.blue(),u=this.alpha();for(let _=0;_<o;_+=4){const p=1-u;s[_]=a*u+s[_]*p,s[_+1]=l*u+s[_+1]*p,s[_+2]=g*u+s[_+2]*p}};return Ti.RGBA=n,t.Factory.addGetterSetter(e.Node,"red",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),t.Factory.addGetterSetter(e.Node,"green",0,function(r){return this._filterUpToDate=!1,r>255?255:r<0?0:Math.round(r)}),t.Factory.addGetterSetter(e.Node,"blue",0,i.RGBComponent,t.Factory.afterSetFilter),t.Factory.addGetterSetter(e.Node,"alpha",1,function(r){return this._filterUpToDate=!1,r>1?1:r<0?0:r}),Ti}var Ai={},co;function Hc(){if(co)return Ai;co=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.Sepia=void 0;const t=function(e){let i=e.data,n=i.length,r,s,o,a;for(r=0;r<n;r+=4)s=i[r+0],o=i[r+1],a=i[r+2],i[r+0]=Math.min(255,s*.393+o*.769+a*.189),i[r+1]=Math.min(255,s*.349+o*.686+a*.168),i[r+2]=Math.min(255,s*.272+o*.534+a*.131)};return Ai.Sepia=t,Ai}var Ri={},uo;function Wc(){if(uo)return Ri;uo=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.Solarize=void 0;const t=function(e){const i=e.data,n=e.width,r=e.height,s=n*4;let o=r;do{const a=(o-1)*s;let l=n;do{const g=a+(l-1)*4;let u=i[g],_=i[g+1],p=i[g+2];u>127&&(u=255-u),_>127&&(_=255-_),p>127&&(p=255-p),i[g]=u,i[g+1]=_,i[g+2]=p}while(--l)}while(--o)};return Ri.Solarize=t,Ri}var Ei={},fo;function qc(){if(fo)return Ei;fo=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.Threshold=void 0;const t=_t(),e=Mt(),i=mt(),n=function(r){const s=this.threshold()*255,o=r.data,a=o.length;for(let l=0;l<a;l+=1)o[l]=o[l]<s?0:255};return Ei.Threshold=n,t.Factory.addGetterSetter(e.Node,"threshold",.5,(0,i.getNumberValidator)(),t.Factory.afterSetFilter),Ei}var go;function jc(){if(go)return We;go=1,Object.defineProperty(We,"__esModule",{value:!0}),We.Konva=void 0;const t=uc(),e=dc(),i=gc(),n=pc(),r=_c(),s=mc(),o=yc(),a=Ca(),l=kr(),g=xa(),u=vc(),_=bc(),p=Sc(),f=Cc(),c=wa(),y=xc(),b=wc(),P=Pc(),h=Tc(),d=Ac(),v=Rc(),x=Ec(),T=Mc(),k=Fc(),E=kc(),O=Oc(),w=Nc(),M=Gc(),L=Lc(),m=Dc(),C=Ic(),S=Uc(),A=Bc(),R=Vc(),I=Hc(),B=Wc(),j=qc();return We.Konva=t.Konva.Util._assign(t.Konva,{Arc:e.Arc,Arrow:i.Arrow,Circle:n.Circle,Ellipse:r.Ellipse,Image:s.Image,Label:o.Label,Tag:o.Tag,Line:a.Line,Path:l.Path,Rect:g.Rect,RegularPolygon:u.RegularPolygon,Ring:_.Ring,Sprite:p.Sprite,Star:f.Star,Text:c.Text,TextPath:y.TextPath,Transformer:b.Transformer,Wedge:P.Wedge,Filters:{Blur:h.Blur,Brighten:d.Brighten,Contrast:v.Contrast,Emboss:x.Emboss,Enhance:T.Enhance,Grayscale:k.Grayscale,HSL:E.HSL,HSV:O.HSV,Invert:w.Invert,Kaleidoscope:M.Kaleidoscope,Mask:L.Mask,Noise:m.Noise,Pixelate:C.Pixelate,Posterize:S.Posterize,RGB:A.RGB,RGBA:R.RGBA,Sepia:I.Sepia,Solarize:B.Solarize,Threshold:j.Threshold}}),We}var Kc=rn.exports,po;function zc(){if(po)return rn.exports;po=1,Object.defineProperty(Kc,"__esModule",{value:!0});const t=jc();return rn.exports=t.Konva,rn.exports}var Yc=zc();const Pt=ac(Yc);function fn(t){if(!Pt.autoDrawEnabled){const e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const _o={key:!0,style:!0,elm:!0,isRootInsert:!0},Yn=".vue-konva-event";function Pa(t,e,i,n){const r=t.__konvaNode,s={};let o=!1;for(let a in i){if(_o.hasOwnProperty(a))continue;const l=a.slice(0,2)==="on",g=i[a]!==e[a];if(l&&g){let u=a.slice(2).toLowerCase();u.slice(0,7)==="content"&&(u="content"+u.slice(7,1).toUpperCase()+u.slice(8)),r==null||r.off(u+Yn,i[a])}!e.hasOwnProperty(a)&&(r==null||r.setAttr(a,void 0))}for(let a in e){if(_o.hasOwnProperty(a))continue;let l=a.slice(0,2)==="on";const g=i[a]!==e[a];if(l&&g){let u=a.slice(2).toLowerCase();u.slice(0,7)==="content"&&(u="content"+u.slice(7,1).toUpperCase()+u.slice(8)),e[a]&&(r==null||r.off(u+Yn),r==null||r.on(u+Yn,e[a]))}!l&&(e[a]!==i[a]||n&&e[a]!==(r==null?void 0:r.getAttr(a)))&&(o=!0,s[a]=e[a])}o&&r&&(r.setAttrs(s),fn(r))}const Xc="v";function $c(t){function e(i){return i!=null&&i.__konvaNode?i:i!=null&&i.parent?e(i.parent):(console.error("vue-konva error: Can not find parent node"),null)}return e(t.parent)}function Ta(t){return t.component?t.component.__konvaNode||Ta(t.component.subTree):null}function Jc(t){const{el:e,component:i}=t,n=Ta(t);if(e!=null&&e.tagName&&i&&!n){const r=e.tagName.toLowerCase();return console.error(`vue-konva error: You are trying to render "${r}" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.`),null}return n}function Qc(t){const e=r=>!!(r!=null&&r.hasOwnProperty("component")),i=r=>Array.isArray(r),n=r=>e(r)?[r,...n(r.children)]:i(r)?r.flatMap(n):[];return n(t.children)}function Aa(t,e){const i=Qc(t),n=[];i.forEach(s=>{const o=Jc(s);o&&n.push(o)});let r=!1;n.forEach((s,o)=>{s.getZIndex()!==o&&(s.setZIndex(o),r=!0)}),r&&fn(e)}const Zc=Wo({name:"Stage",props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup(t,{attrs:e,slots:i,expose:n}){const r=fa();if(!r)return;const s=Ki({}),o=yt(null),a=new Pt.Stage({width:t.config.width,height:t.config.height,container:document.createElement("div")});r.__konvaNode=a,u();function l(){return r==null?void 0:r.__konvaNode}function g(){return r==null?void 0:r.__konvaNode}function u(){if(!r)return;const _=s||{},p={...e,...t.config};Pa(r,p,_,t.__useStrictMode),Object.assign(s,p)}return Be(()=>{o.value&&(o.value.innerHTML="",a.container(o.value)),u()}),wr(()=>{u(),Aa(r.subTree,a)}),zo(()=>{a.destroy()}),Ii(()=>t.config,u,{deep:!0}),n({getStage:g,getNode:l}),console.log(e),()=>{var _;return _a("div",{ref:o,style:e==null?void 0:e.style},(_=i.default)==null?void 0:_.call(i))}}}),t0=".vue-konva-event",e0={Group:!0,Layer:!0,FastLayer:!0,Label:!0};function i0(t,e){return Wo({name:t,props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup(i,{attrs:n,slots:r,expose:s}){const o=fa();if(!o)return;const a=Ki({}),l=new e;o.__konvaNode=l,o.vnode.__konvaNode=l,_();function g(){return o==null?void 0:o.__konvaNode}function u(){return o==null?void 0:o.__konvaNode}function _(){if(!o)return;const f={};for(const b in o==null?void 0:o.vnode.props)b.slice(0,2)==="on"&&(f[b]=o.vnode.props[b]);const c=a||{},y={...n,...i.config,...f};Pa(o,y,c,i.__useStrictMode),Object.assign(a,y)}Be(()=>{var f;const c=(f=$c(o))==null?void 0:f.__konvaNode;c&&"add"in c&&c.add(l),fn(l)}),Pr(()=>{fn(l),l.destroy(),l.off(t0)}),wr(()=>{_(),Aa(o.subTree,l)}),Ii(()=>i.config,_,{deep:!0}),s({getStage:u,getNode:g});const p=e0.hasOwnProperty(t);return()=>{var f;return p?_a("template",{},(f=r.default)==null?void 0:f.call(r)):null}}})}typeof window<"u"&&!window.Konva&&require("konva");const n0={install:(t,e)=>{const i=(e==null?void 0:e.prefix)||Xc,n={Arc:Pt.Arc,Arrow:Pt.Arrow,Circle:Pt.Circle,Ellipse:Pt.Ellipse,FastLayer:Pt.FastLayer,Group:Pt.Group,Image:Pt.Image,Label:Pt.Label,Layer:Pt.Layer,Line:Pt.Line,Path:Pt.Path,Rect:Pt.Rect,RegularPolygon:Pt.RegularPolygon,Ring:Pt.Ring,Shape:Pt.Shape,Sprite:Pt.Sprite,Star:Pt.Star,Tag:Pt.Tag,Text:Pt.Text,TextPath:Pt.TextPath,Transformer:Pt.Transformer,Wedge:Pt.Wedge,...e==null?void 0:e.customNodes};[Zc,...Object.entries(n).map(([r,s])=>i0(r,s))].forEach(r=>{t.component(`${i}${r.name}`,r)})}},Ra=$h(oc);Ra.use(n0);Ra.mount("#app");
